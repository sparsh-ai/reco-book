
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>WikiRecs &#8212; Reco Book</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet" />
  <link href="../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="prev" title="Toy example - Car Recommender using KNN method" href="T990001_toy_example_car_recommender_knn.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
      
      
      <h1 class="site-logo" id="site-title">Reco Book</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../index.html">
   Tutorials in Jupyter notebook format
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  User Stories
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="US780867_Transformer_based_Recommenders.html">
   Transformer-based Recommenders
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="T034923_BERT4Rec_on_ML1M_in_PyTorch.html">
     BERT4Rec on ML-1M in PyTorch
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="T595874_BERT4Rec_on_ML25M_in_PyTorch_Lightning.html">
     BERT4Rec on ML-25M
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="T088416_BST_Implementation_in_MXNet.html">
     BST Implementation in MXNet
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="T602245_BST_implementation_in_PyTorch.html">
     BST implementation in PyTorch
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="T007665_BST_on_ML1M_in_Keras.html">
     A Transformer-based recommendation system
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="T881207_BST_PTLightning_ML1M.html">
     Rating prediction using the Behavior Sequence Transformer (BST) model on ML-1M dataset in PyTorch Lightning
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="T757997_SASRec_PyTorch.html">
     SASRec implementation with PyTorch Library
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="T225287_SASRec_PaddlePaddle.html">
     SASRec implementation with Paddle Library
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="T701627_SR_SAN_Session_based_Model.html">
     SR-SAN Session-based Recommender
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="T975104_SSEPT_ML1M_Tensorflow1x.html">
     SSE-PT Personalized Transformer Recommender on ML-1M in Tensorflow 1.x
    </a>
   </li>
  </ul>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Prototypes
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="T382881_DeepWalk_Karateclub.html">
   DeepWalk from scratch referencing Karateclub library
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T384270_DeepWalk_pure_python.html">
   DeepWalk in pure python
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T677598_Jaccard_Cosine_SVD_DeepWalk_ML100K.html">
   Recommender System with DeepWalk Graph Embeddings
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T815556_Node2vec_Karateclub.html">
   Node2vec from scratch referencing Karateclub library
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T894941_Node2vec_MovieLens_Keras.html">
   Graph representation learning with node2vec
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T611050_Node2vec_PyG.html">
   Node2vec from scratch in PyTorch Geometric
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T186367_Node2vec_library.html">
   Node2vec from scratch referencing node2vec library
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T331379_bayesian_personalized_ranking.html">
   BPR from scratch
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T081831_Data_Poisoning_Attacks_on_Factorization_Based_Collaborative_Filtering.html">
   Data Poisoning Attacks on Factorization-Based Collaborative Filtering
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T102448_Adversarial_Learning_for_Recommendation.html">
   Adversarial Training (Regularization) on a Recommender System
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T865035_Simulating_Data_Poisoning_Attacks_against_Twitter_Recommender.html">
   Load and process dataset
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T711285_Data_Poisoning_Attack_using_LFM_and_ItemAE_on_Synthetic_Dataset.html">
   Injection attack using LFM and ItemAE model trained on Toy dataset
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T355514_Black_box_Attack_on_Sequential_Recs.html">
   Black-box Attack on Sequential Recs
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T873451_Statistics_fundamentals.html">
   Statictics Fundamentals
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T890478_Batch_Learning_from_Bandit_Feedback_%28BLBF%29.html">
   Imports
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T257798_Off_Policy_Learning_in_Two_stage_Recommender_Systems.html">
   Off-Policy Learning in Two-stage Recommender Systems
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T471827_Adaptive_Estimator_Selection_for_Off_Policy_Evaluation.html">
   Adaptive Estimator Selection for Off-Policy Evaluation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T902666_Evaluating_the_Robustness_of_Off_Policy_Evaluation.html">
   Evaluating the Robustness of Off-Policy Evaluation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T705904_Evaluation_of_Multiple_Off_Policy_Estimators_on_Synthetic_Dataset.html">
   Evaluation of Multiple Off-Policy Estimators on Synthetic Dataset
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T874693_Evaluating_Standard_Off_Policy_Estimators_with_Small_Sample_Open_Bandit_Dataset.html">
   Evaluating Standard Off-Policy Estimators with Small Sample Open-Bandit Dataset
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T792262_Optimal_Off_Policy_Evaluation_from_Multiple_Logging_Policies.html">
   Optimal Off-Policy Evaluation from Multiple Logging Policies
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T167249_Offline_Policy_Evaluation_with_VW_Command_Line.html">
   Offline Policy Evaluation with VW Command Line
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T966055_OBP_Library_Workshop_Tutorials.html">
   OBP Library Workshop Tutorials
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T632722_PyTorch_Fundamentals_Part_1.html">
   PyTorch Fundamentals Part 1
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T472467_PyTorch_Fundamentals_Part_2.html">
   PyTorch Fundamentals Part 2
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T206654_PyTorch_Fundamentals_Part_3.html">
   PyTorch Fundamentals Part 3
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T536348_Attention_Mechanisms.html">
   Imports
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T500796_Agricultural_Satellite_Image_Segmentation.html">
   Agricultural Satellite Image Segmentation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T611432_Image_Analysis_with_Tensorflow.html">
   Image Analysis with Tensorflow
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T925716_MongoDB_to_CSV_Conversion.html">
   MongoDB to CSV conversion
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T396469_PDF_to_Word_Cloud_via_Email.html">
   PDF to WordCloud via Email
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T030890_Job_Scraping_and_Clustering.html">
   Job scraping and clustering
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T897054_Scene_Text_Recognition.html">
   Scene Text Recognition
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T034809_Large_scale_Document_Retrieval_with_Elastic_Search.html">
   Large-scale Document Retrieval with ElasticSearch
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T467251_vowpal_wabbit_contextual_recommender.html">
   Simulating a news personalization scenario using Contextual Bandits
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T686684_similar_product_recommender.html">
   Similar Product Recommender system using Deep Learning for an online e-commerce store
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T132203_Retail_Product_Recommendations_using_Word2vec.html">
   Retail Product Recommendations using word2vec
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T501828_Recommender_Implicit_Negative_Feedback.html">
   Retail Product Recommendation with Negative Implicit Feedback
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T315965_Sequence_Aware_Recommenders_Music.html">
   Sequence Aware Recommender Systems
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T051777_image_similarity_recommendations.html">
   Similar Product Recommendations
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T990172_recobook_diversity_aware_book_recommender.html">
   Diversity Aware Book Recommender
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T488549_Goodreads_Diversity_Aware_Book_Recommender.html">
   Diversity Aware Book Recommender
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T023535_Kafka_MongoDB_Real_time_Streaming.html">
   Kafka MongoDB Real-time Streaming
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T622304_Session_based_Recommender_Using_Word2vec.html">
   Session-based recommendation using word2vec
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T416854_bandit_based_recommender_using_thompson_sampling_app.html">
   Bandit-based Online Learning using Thompson Sampling
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T198578_Booking_dot_com_Trip_Recommendation.html">
   Booking.com Trip Recommendation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T519734_Vowpal_Wabbit_Contextual_Bandit.html">
   Vowpal Wabbit Contextual Bandit
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T871537_Recommendation_Systems_using_Olist_Dataset.html">
   Recommendation systems using Olist dataset
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T057885_Offline_Replayer_Evaluation.html">
   Offline Replayer Evaluation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T915054_method_for_effective_online_testing.html">
   Methods for effective online testing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T513987_Recsys_2020_Feature_Engineering_Tutorial.html">
   Recsys’20 Feature Engineering Tutorial
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T227901_amazon_personalize_batch_job.html">
   Amazon Personalize Batch Job
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T022961_Amazon_Personalize_Workshop.html">
   Amazon Personalize Workshop
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T424437_Collaborative_Filtering_on_ML_latest_small.html">
   Collaborative Filtering on ML-latest-small
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T539160_Building_and_Deploying_ASOS_Fashion_Recommender.html">
   Building and deploying ASOS fashion recommender
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T757697_Simple_Similarity_based_Recommender.html">
   Simple Similarity based Recommmendations
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T051594_Analytics_Zoo.html">
   Analytics Zoo
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T313645_A_B_Testing.html">
   A/B Testing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T475711_PinSage_Graph_based_Recommender.html">
   PinSage Graph-based Recommender
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T516490_Graph_Embeddings.html">
   Learn Embeddings using Graph Networks
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T822164_movielens_milvus_redis_efficient_retrieval.html">
   Recommender with Redis and Milvus
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T845186_Anime_Recommender.html">
   RekoNet Anime Recommender
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T855843_kafka_spark_streaming_colab.html">
   Kafka and Spark Streaming in Colab
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T460437_Building_Models_From_Scratch.html">
   Building Models from scratch
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T855971_Conet_Model_for_Movie_Recommender.html">
   CoNet model
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T996996_content_based_and_collaborative_movielens.html">
   Movie Recommendation with Content-Based and Collaborative Filtering
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T239418_Simple_Movie_Recommenders.html">
   Simple Movie Recommenders
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T138337_Simple_Movie_Recommender.html">
   Simple movie recommender in implicit, explicit, and cold-start settings
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T935440_The_importance_of_Rating_Normalization.html">
   The importance of Rating Normalization
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T612622_cornac_examples.html">
   Cornac Examples
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T561435_Flower_Classification.html">
   Flower classification
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T680910_Trivago_Session_based_Recommender.html">
   Trivago Session-based Recommender
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T990000_ads_selection_using_bandits.html">
   Best Ads detection using bandit methods
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T990000_book_crossing_surprise_svd_nmf.html">
   Book-Crossing Recommendation System
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T990000_book_recommender_kubeflow.html">
   Books recommendations with Kubeflow Pipelines on Scaleway Kapsule
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T990000_build_a_kubeflow_pipeline.html">
   Build a Kubeflow Pipeline
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T990000_causal_inference.html">
   Causal Inference
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T990000_concept_embedding_nlp.html">
   Exploring Word Embeddings
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T990000_concept_neural_net.html">
   Neural Network
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T990000_concept_nlp_basics.html">
   Natural Language Processing 101
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T990000_concept_transformer_lm.html">
   TransformerLM Quick Start and Guide
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T990000_content_based_music_recommender_lyricsfreak.html">
   Content-based method for song recommendation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T990000_evaluation_metrics_basics.html">
   Recommender System Evaluations
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T990000_implicit_synthetic.html">
   Comparing Implicit Models on Synthetic Data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T990000_movie_recommender_tensorflow.html">
   Recommendation Systems with TensorFlow
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T990000_movie_recommender_tensorflow_sagemaker.html">
   Movie recommender using Tensorflow in Sagemaker
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T990000_movielens_eda_modeling.html">
   Movielens EDA and Modeling
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T990000_read_data_from_cassandra_into_pandas.html">
   Read Cassandra Data Snapshot as DataFrame
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T990000_rl_in_action.html">
   Reinforcement Learning fundamentals in action
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T990000_rnn_cnn_basics.html">
   Processing sequences using RNNs and CNNs
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T990000_tf_serving_in_action.html">
   TF Serving in action
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T990000_training_indexing_movie_recommender.html">
   Training and indexing movie recommender
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T207114_EduRec_MOOCCube_Course_Recommender.html">
   EduRec MOOCCube Course Recommender
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T273184_Multi_Task_Learning.html">
   Multi-task Learning
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T661108_Book_Recommender_API.html">
   Book Recommender API
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T912764_Simple_Movie_Recommender_App.html">
   Simple Movie Recommender App
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T964554_Career_Village_Questions_Recommendation.html">
   CareerVillage Questions Recommendation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T990001_amazon_women_apparel_tfidf_word2vec.html">
   Amazon Product Recommender
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T990001_anime_recommender_graph_network.html">
   Anime Recommender with Bi-partite Graph Network
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T990001_concept_self_attention.html">
   Self-Attention
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T990001_course_recommender_svd_flask.html">
   Course Recommender with SVD based similarity
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T990001_data_mining_similarity_measures.html">
   Concept - Data Mining Similarity Measures
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T990001_jaccard_recommender.html">
   Jaccard Similarity based Recommender
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T990001_live_streamer_recommender.html">
   Live Streamer Recommender with Implicit feedback
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T990001_songs_embedding_skipgram_recommender.html">
   Song Embeddings - Skipgram Recommender
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T990001_toy_example_car_recommender_knn.html">
   Toy example - Car Recommender using KNN method
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   WikiRecs
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/nbs/T990001_wikirecs_recommender.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/sparsh-ai/reco-book/main?urlpath=tree/nbs/T990001_wikirecs_recommender.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#data-ingestion">
   Data ingestion
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#start-the-ingestion">
     Start the ingestion
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#data-storage">
   Data storage
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#eda-and-data-cleaning">
   EDA and Data cleaning
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#data-loading">
     Data loading
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#eda">
     EDA
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#data-cleaning">
     Data cleaning
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#remove-consecutive-edits-and-summarize-runs">
       Remove consecutive edits and summarize runs
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#remove-top-n-most-popular-pages">
       Remove top N most popular pages
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#remove-users-with-too-many-or-too-few-edits">
       Remove users with too many or too few edits
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#build-lookup-tables">
     Build lookup tables
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#build-test-and-training-set">
     Build test and training set
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#build-matrix-for-implicit-collaborative-filtering">
     Build matrix for implicit collaborative filtering
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#saving-artifacts">
     Saving artifacts
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#loading-artifacts">
   Loading artifacts
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#test-the-matrix-and-indices">
   Test the matrix and indices
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#baseline-models">
   Baseline models
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#implicit-recommendation">
   Implicit recommendation
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#grid-search-results">
     Grid search results
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#b25-recommendation">
   B25 Recommendation
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#evaluate-models">
   Evaluate models
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#item-to-item-recommendation">
     Item to item recommendation
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#user-to-item-recommendations">
     User to item recommendations
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#visualize-implicit-embeddings">
   Visualize implicit embeddings
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#visualize-actors-in-the-embeddings-space">
     Visualize actors in the embeddings space
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#evaluate-on-test-set">
   Evaluate on test set
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#most-popular">
     Most popular
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#most-recent">
     Most recent
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#most-frequent">
     Most frequent
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#bm25">
   BM25
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#als-implicit-collaborative-filtering">
   ALS Implicit collaborative filtering
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#jaccard">
   Jaccard
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#interleaved">
   Interleaved
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#report-on-evaluations-results">
   Report on evaluations results
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#hard-coded-metrics">
     Hard coded metrics
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#table-of-results">
     Table of results
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#fig-table-for-post">
     FIG Table for post
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#scatter-plots-resurface-vs-discover">
     Scatter plots (resurface vs discover)
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#fig-scatterplot-for-post">
     FIG Scatterplot for post
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#read-recs-in-from-files">
   Read recs in from files
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#recall-curves">
   Recall curves
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#fig-implicit-vs-bm25-figure">
     FIG Implicit vs BM25 figure
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#user-recommendation-comparison">
   User recommendation comparison
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#fig-rama-table">
   FIG Rama table
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#other-individuals-tables">
   Other individuals tables
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#fig-interleaved">
   FIG Interleaved
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#find-interesting-users">
   Find interesting users
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#repetition-analysis">
   Repetition analysis
  </a>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="wikirecs">
<h1>WikiRecs<a class="headerlink" href="#wikirecs" title="Permalink to this headline">¶</a></h1>
<p>In this first part of the two part series, we will handle the data side. We will fetch data from wikipedia, store in feather format and register the combined data on recochef. After that, we will perform EDA and extensive cleaning.</p>
<div class="section" id="data-ingestion">
<h2>Data ingestion<a class="headerlink" href="#data-ingestion" title="Permalink to this headline">¶</a></h2>
<p>Downloading data from Wikipedia using Wiki API and storing in Google drive. There are more than 11 millions records which would take 6-8 hours in single colab session, so used 10 colab workers to fetch all the data within 30-40 mins.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>!git clone https://github.com/sparsh-ai/reco-wikirecs
%cd /content/reco-wikirecs/
!pip install -r requirements.txt
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">yaml</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">from</span> <span class="nn">wiki_pull</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">itables.javascript</span> <span class="kn">import</span> <span class="n">load_datatables</span>
<span class="n">load_datatables</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;config.yaml&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">config</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">Loader</span><span class="o">=</span><span class="n">yaml</span><span class="o">.</span><span class="n">FullLoader</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">get_sample_of_users</span><span class="p">(</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;edit_lookback&#39;</span><span class="p">],</span> <span class="n">config</span><span class="p">[</span><span class="s1">&#39;outfile&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1000500it [07:04, 2379.90it/s]                             
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Earliest timestamp: 2021-06-21T19:22:49Z
Latest timestamp: 2021-07-08T14:39:42Z
Number of distinct users: 54355
Mean number of edits per user in timeframe: 18.40
Number of distinct pages edited: 401926
Mean number of edits per page in timeframe: 2.49
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>user</th>
      <th>userid</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Rodimus Rhyme</td>
      <td>7021208.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Asarlaí</td>
      <td>3215664.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Frank Anchor</td>
      <td>4659544.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>MAHosieAPS</td>
      <td>40684241.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Aranya</td>
      <td>35393771.0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>54349</th>
      <td>Penwhale</td>
      <td>125125.0</td>
    </tr>
    <tr>
      <th>54350</th>
      <td>Htetrasme</td>
      <td>174367.0</td>
    </tr>
    <tr>
      <th>54351</th>
      <td>LarTram</td>
      <td>39905917.0</td>
    </tr>
    <tr>
      <th>54352</th>
      <td>Etan J. Tal</td>
      <td>7706243.0</td>
    </tr>
    <tr>
      <th>54353</th>
      <td>Charlton.austin</td>
      <td>26706343.0</td>
    </tr>
  </tbody>
</table>
<p>54354 rows × 2 columns</p>
</div></div></div>
</div>
<div class="section" id="start-the-ingestion">
<h3>Start the ingestion<a class="headerlink" href="#start-the-ingestion" title="Permalink to this headline">¶</a></h3>
<p>I ran the same code from start till this cell, in 10 different colab notebooks, changing start position. The design is a master-worker setup where 1 notebooks was the master one, and 9 are workers.</p>
<p>In master, start=0. In worker 1, start=5000. In worker 2, start=10000, and so on. This start value indicates the number of users. Since there are 54K users, each worker handled 5000 users on average.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pull_edit_histories</span><span class="p">(</span>
    <span class="n">config</span><span class="p">[</span><span class="s1">&#39;outfile&#39;</span><span class="p">],</span>
    <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;file_save_path&#39;</span><span class="p">],</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;edit_histories_file_pattern&#39;</span><span class="p">]),</span>
    <span class="n">config</span><span class="p">[</span><span class="s1">&#39;users_per_chunk&#39;</span><span class="p">],</span>
    <span class="n">config</span><span class="p">[</span><span class="s1">&#39;earliest_timestamp&#39;</span><span class="p">],</span>
    <span class="n">start</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
    <span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="data-storage">
<h2>Data storage<a class="headerlink" href="#data-storage" title="Permalink to this headline">¶</a></h2>
<p>During ingestion, we stored data in feather format parts. Now, we will combine the data and store in compressed parquet format.</p>
<p>We will also register this data on recochef so that we can easily load it anywhere and also make it reusable for future use cases.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">yaml</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">pyarrow</span> <span class="kn">import</span> <span class="n">feather</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s1">&#39;config.yaml&#39;</span><span class="p">)</span> <span class="k">as</span> <span class="n">f</span><span class="p">:</span>
    <span class="n">config</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> <span class="n">Loader</span><span class="o">=</span><span class="n">yaml</span><span class="o">.</span><span class="n">FullLoader</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">all_histories</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">fname</span> <span class="ow">in</span> <span class="n">os</span><span class="o">.</span><span class="n">listdir</span><span class="p">(</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;file_save_path&#39;</span><span class="p">]):</span>
    <span class="k">if</span> <span class="s1">&#39;feather&#39;</span> <span class="ow">in</span>  <span class="n">fname</span><span class="p">:</span>
        <span class="n">all_histories</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">feather</span><span class="o">.</span><span class="n">read_feather</span><span class="p">(</span><span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">config</span><span class="p">[</span><span class="s1">&#39;file_save_path&#39;</span><span class="p">],</span><span class="n">fname</span><span class="p">)))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">all_histories</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">(</span><span class="n">all_histories</span><span class="p">,</span> <span class="n">ignore_index</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">all_histories</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>userid</th>
      <th>user</th>
      <th>pageid</th>
      <th>title</th>
      <th>timestamp</th>
      <th>sizediff</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>430714</td>
      <td>Eyetie</td>
      <td>22864890</td>
      <td>List of Samuel L. Jackson performances</td>
      <td>2021-07-08T15:01:39Z</td>
      <td>-19</td>
    </tr>
    <tr>
      <th>1</th>
      <td>430714</td>
      <td>Eyetie</td>
      <td>2879406</td>
      <td>Jeff Corey</td>
      <td>2021-07-07T11:06:50Z</td>
      <td>-13</td>
    </tr>
    <tr>
      <th>2</th>
      <td>430714</td>
      <td>Eyetie</td>
      <td>17130609</td>
      <td>Antonio Soda</td>
      <td>2021-07-05T11:18:51Z</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>430714</td>
      <td>Eyetie</td>
      <td>13270752</td>
      <td>Mr In-Between</td>
      <td>2021-06-21T16:48:00Z</td>
      <td>-48</td>
    </tr>
    <tr>
      <th>4</th>
      <td>430714</td>
      <td>Eyetie</td>
      <td>6816331</td>
      <td>San Giovanni Gemini</td>
      <td>2021-06-15T20:40:18Z</td>
      <td>3378</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">all_histories</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(11081889, 6)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">all_histories</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 11081889 entries, 0 to 11081888
Data columns (total 6 columns):
 #   Column     Dtype 
---  ------     ----- 
 0   userid     int64 
 1   user       object
 2   pageid     int64 
 3   title      object
 4   timestamp  object
 5   sizediff   int64 
dtypes: int64(3), object(3)
memory usage: 507.3+ MB
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">all_histories</span><span class="o">.</span><span class="n">describe</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>userid</th>
      <th>pageid</th>
      <th>sizediff</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>1.108189e+07</td>
      <td>1.108189e+07</td>
      <td>1.108189e+07</td>
    </tr>
    <tr>
      <th>mean</th>
      <td>1.919552e+07</td>
      <td>3.240817e+07</td>
      <td>1.098695e+02</td>
    </tr>
    <tr>
      <th>std</th>
      <td>1.493577e+07</td>
      <td>2.626137e+07</td>
      <td>2.726467e+03</td>
    </tr>
    <tr>
      <th>min</th>
      <td>2.000000e+00</td>
      <td>1.200000e+01</td>
      <td>-1.251584e+06</td>
    </tr>
    <tr>
      <th>25%</th>
      <td>4.390460e+06</td>
      <td>3.908644e+06</td>
      <td>-4.000000e+00</td>
    </tr>
    <tr>
      <th>50%</th>
      <td>1.748758e+07</td>
      <td>3.087424e+07</td>
      <td>9.000000e+00</td>
    </tr>
    <tr>
      <th>75%</th>
      <td>3.419332e+07</td>
      <td>6.147069e+07</td>
      <td>6.500000e+01</td>
    </tr>
    <tr>
      <th>max</th>
      <td>4.214195e+07</td>
      <td>6.818951e+07</td>
      <td>9.116030e+05</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">all_histories</span><span class="o">.</span><span class="n">describe</span><span class="p">(</span><span class="n">include</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;O&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>user</th>
      <th>title</th>
      <th>timestamp</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>count</th>
      <td>11081889</td>
      <td>11081889</td>
      <td>11081889</td>
    </tr>
    <tr>
      <th>unique</th>
      <td>52614</td>
      <td>2461545</td>
      <td>7275769</td>
    </tr>
    <tr>
      <th>top</th>
      <td>BrownHairedGirl</td>
      <td>Deaths in 2021</td>
      <td>2021-05-01T16:48:50Z</td>
    </tr>
    <tr>
      <th>freq</th>
      <td>101279</td>
      <td>9709</td>
      <td>206</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">all_histories</span><span class="o">.</span><span class="n">to_parquet</span><span class="p">(</span><span class="s1">&#39;wikirecs.parquet.gzip&#39;</span><span class="p">,</span> <span class="n">compression</span><span class="o">=</span><span class="s1">&#39;gzip&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<blockquote>
<div><p>Note: Data is also registered with <a class="reference external" href="https://github.com/sparsh-ai/recochef/blob/master/src/recochef/datasets/wikirecs.py">recochef</a> for easy access</p>
</div></blockquote>
</div>
<div class="section" id="eda-and-data-cleaning">
<h2>EDA and Data cleaning<a class="headerlink" href="#eda-and-data-cleaning" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>!git clone https://github.com/sparsh-ai/reco-wikirecs
%cd /content/reco-wikirecs/
!pip install -r requirements.txt

!pip install -q git+https://github.com/sparsh-ai/recochef.git
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="kn">import</span> <span class="nn">itertools</span>
<span class="kn">from</span> <span class="nn">scipy.sparse</span> <span class="kn">import</span> <span class="n">csr_matrix</span><span class="p">,</span> <span class="n">csc_matrix</span><span class="p">,</span> <span class="n">lil_matrix</span><span class="p">,</span> <span class="n">coo_matrix</span>

<span class="kn">from</span> <span class="nn">recochef.datasets.wikirecs</span> <span class="kn">import</span> <span class="n">WikiRecs</span>

<span class="kn">from</span> <span class="nn">utils</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">wiki_pull</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="n">matplotlib</span> <span class="n">inline</span>
<span class="o">%</span><span class="n">load_ext</span> <span class="n">autoreload</span>
<span class="o">%</span><span class="n">autoreload</span> <span class="mi">2</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="data-loading">
<h3>Data loading<a class="headerlink" href="#data-loading" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">wikidata</span> <span class="o">=</span> <span class="n">WikiRecs</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">wikidata</span><span class="o">.</span><span class="n">load_interactions</span><span class="p">()</span>
<span class="n">df</span><span class="o">.</span><span class="n">info</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 11081889 entries, 0 to 11081888
Data columns (total 6 columns):
 #   Column     Dtype 
---  ------     ----- 
 0   USERID     int64 
 1   USERNAME   object
 2   ITEMID     int64 
 3   TITLE      object
 4   TIMESTAMP  object
 5   SIZEDIFF   int64 
dtypes: int64(3), object(3)
memory usage: 507.3+ MB
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>USERID</th>
      <th>USERNAME</th>
      <th>ITEMID</th>
      <th>TITLE</th>
      <th>TIMESTAMP</th>
      <th>SIZEDIFF</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>430714</td>
      <td>Eyetie</td>
      <td>22864890</td>
      <td>List of Samuel L. Jackson performances</td>
      <td>2021-07-08T15:01:39Z</td>
      <td>-19</td>
    </tr>
    <tr>
      <th>1</th>
      <td>430714</td>
      <td>Eyetie</td>
      <td>2879406</td>
      <td>Jeff Corey</td>
      <td>2021-07-07T11:06:50Z</td>
      <td>-13</td>
    </tr>
    <tr>
      <th>2</th>
      <td>430714</td>
      <td>Eyetie</td>
      <td>17130609</td>
      <td>Antonio Soda</td>
      <td>2021-07-05T11:18:51Z</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>430714</td>
      <td>Eyetie</td>
      <td>13270752</td>
      <td>Mr In-Between</td>
      <td>2021-06-21T16:48:00Z</td>
      <td>-48</td>
    </tr>
    <tr>
      <th>4</th>
      <td>430714</td>
      <td>Eyetie</td>
      <td>6816331</td>
      <td>San Giovanni Gemini</td>
      <td>2021-06-15T20:40:18Z</td>
      <td>3378</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
<div class="section" id="eda">
<h3>EDA<a class="headerlink" href="#eda" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Look at the distribution of edit counts</span>
<span class="n">edit_counts</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;USERID&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">USERID</span><span class="o">.</span><span class="n">count</span><span class="p">()</span><span class="o">.</span><span class="n">values</span>

<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">distplot</span><span class="p">(</span><span class="n">edit_counts</span><span class="p">,</span><span class="n">kde</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">bins</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">20000</span><span class="p">,</span><span class="mi">200</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Number of edits by user&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>
<span class="n">sns</span><span class="o">.</span><span class="n">distplot</span><span class="p">(</span><span class="n">edit_counts</span><span class="p">,</span><span class="n">kde</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">bins</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">200</span><span class="p">,</span><span class="mi">1</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">200</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Number of edits by user&#39;</span><span class="p">)</span>
<span class="n">num_counts</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">edit_counts</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Median edit counts: </span><span class="si">%d</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">np</span><span class="o">.</span><span class="n">median</span><span class="p">(</span><span class="n">edit_counts</span><span class="p">))</span>
<span class="n">thres</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">over_thres</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">edit_counts</span> <span class="o">&gt;</span> <span class="n">thres</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Number over threshold </span><span class="si">%d</span><span class="s2">: </span><span class="si">%d</span><span class="s2"> (%.f</span><span class="si">%%</span><span class="s2">)&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">thres</span><span class="p">,</span> <span class="n">over_thres</span><span class="p">,</span> <span class="mi">100</span><span class="o">*</span><span class="n">over_thres</span><span class="o">/</span><span class="n">num_counts</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Median edit counts: 11
Number over threshold 5: 32145 (61%)
</pre></div>
</div>
<img alt="../_images/T990001_wikirecs_recommender_30_1.png" src="../_images/T990001_wikirecs_recommender_30_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Most edits by user</span>
<span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;USERID&#39;</span><span class="p">,</span><span class="s1">&#39;USERNAME&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">USERID</span><span class="o">.</span><span class="n">count</span><span class="p">()</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>USERID    USERNAME        
754619    BrownHairedGirl     101279
7611264   AnomieBOT            99911
1276024   Lugnuts              84352
30583402  Nikolai Kurbatov     72704
1261736   Red Director         66104
                               ...  
39991728  300kdan                  1
39988349  Kishore123123            1
39980891  Waiting seat             1
39979707  Hayley.bowling           1
35864949  SoccerMom679             1
Name: USERID, Length: 52614, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Find the elbow in number of edits</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;USERID&#39;</span><span class="p">,</span><span class="s1">&#39;USERNAME&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">USERID</span><span class="o">.</span><span class="n">count</span><span class="p">()</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="p">)</span>
<span class="c1"># plt.ylim([0,20000])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&lt;matplotlib.lines.Line2D at 0x7f31a6c3e050&gt;]
</pre></div>
</div>
<img alt="../_images/T990001_wikirecs_recommender_32_1.png" src="../_images/T990001_wikirecs_recommender_32_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># What are the most popular pages (edited by the most users)</span>
<span class="n">page_popularity</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;TITLE&#39;</span><span class="p">,</span><span class="s1">&#39;USERNAME&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;TITLE&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">count</span><span class="p">()</span><span class="o">.</span><span class="n">USERNAME</span><span class="o">.</span><span class="n">sort_values</span><span class="p">()</span>
<span class="n">page_popularity</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="o">-</span><span class="mi">1000</span><span class="p">:]</span><span class="o">.</span><span class="n">iloc</span><span class="p">[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>TITLE
2021 United States Capitol attack             730
Deaths in 2021                                461
Donald Trump                                  288
Second impeachment of Donald Trump            227
Joe Biden                                     226
                                             ... 
Pakistan                                       40
League of Legends                              40
List of coups and coup attempts by country     40
The Penthouse: War in Life                     40
Mao Zedong                                     40
Name: USERNAME, Length: 1000, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">df</span><span class="o">.</span><span class="n">sample</span><span class="p">()</span><span class="o">.</span><span class="n">USERNAME</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>10890967    SanAnMan
Name: USERNAME, dtype: object
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cols</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;userid&#39;</span><span class="p">,</span> <span class="s1">&#39;user&#39;</span><span class="p">,</span> <span class="s1">&#39;pageid&#39;</span><span class="p">,</span> <span class="s1">&#39;title&#39;</span><span class="p">,</span>
       <span class="s1">&#39;timestamp&#39;</span><span class="p">,</span> <span class="s1">&#39;sizediff&#39;</span><span class="p">]</span>

<span class="n">oneuser</span> <span class="o">=</span> <span class="n">get_edit_history</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="s2">&quot;SanAnMan&quot;</span><span class="p">,</span>
                            <span class="n">latest_timestamp</span><span class="o">=</span><span class="s2">&quot;2021-07-08T22:02:09Z&quot;</span><span class="p">,</span>
                            <span class="n">earliest_timestamp</span><span class="o">=</span><span class="s2">&quot;2020-05-28T22:02:09Z&quot;</span><span class="p">)</span>

<span class="n">oneuser</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">oneuser</span><span class="p">)</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="n">cols</span><span class="p">]</span>
<span class="n">oneuser</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>userid</th>
      <th>user</th>
      <th>pageid</th>
      <th>title</th>
      <th>timestamp</th>
      <th>sizediff</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>14943992</td>
      <td>SanAnMan</td>
      <td>33275261</td>
      <td>Disney's My Son Pinocchio: Geppetto's Musical ...</td>
      <td>2021-07-08T15:16:51Z</td>
      <td>59</td>
    </tr>
    <tr>
      <th>1</th>
      <td>14943992</td>
      <td>SanAnMan</td>
      <td>67347035</td>
      <td>MasterChef (American season 11)</td>
      <td>2021-07-07T17:59:42Z</td>
      <td>0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>14943992</td>
      <td>SanAnMan</td>
      <td>35968550</td>
      <td>MasterChef (American season 1)</td>
      <td>2021-07-07T13:32:53Z</td>
      <td>-39</td>
    </tr>
    <tr>
      <th>3</th>
      <td>14943992</td>
      <td>SanAnMan</td>
      <td>39462622</td>
      <td>MasterChef (American season 4)</td>
      <td>2021-07-05T23:19:07Z</td>
      <td>4</td>
    </tr>
    <tr>
      <th>4</th>
      <td>14943992</td>
      <td>SanAnMan</td>
      <td>224267</td>
      <td>List of South Park episodes</td>
      <td>2021-07-04T22:09:14Z</td>
      <td>-449</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>955</th>
      <td>14943992</td>
      <td>SanAnMan</td>
      <td>37028949</td>
      <td>Christine Hà</td>
      <td>2020-05-29T15:09:12Z</td>
      <td>2</td>
    </tr>
    <tr>
      <th>956</th>
      <td>14943992</td>
      <td>SanAnMan</td>
      <td>64108835</td>
      <td>Christine Ha</td>
      <td>2020-05-29T15:07:58Z</td>
      <td>74</td>
    </tr>
    <tr>
      <th>957</th>
      <td>14943992</td>
      <td>SanAnMan</td>
      <td>37028949</td>
      <td>Christine Hà</td>
      <td>2020-05-29T15:07:57Z</td>
      <td>0</td>
    </tr>
    <tr>
      <th>958</th>
      <td>14943992</td>
      <td>SanAnMan</td>
      <td>39462622</td>
      <td>MasterChef (American season 4)</td>
      <td>2020-05-29T10:34:08Z</td>
      <td>-115</td>
    </tr>
    <tr>
      <th>959</th>
      <td>14943992</td>
      <td>SanAnMan</td>
      <td>36084326</td>
      <td>MasterChef (American season 3)</td>
      <td>2020-05-29T10:33:20Z</td>
      <td>20</td>
    </tr>
  </tbody>
</table>
<p>960 rows × 6 columns</p>
</div></div></div>
</div>
</div>
<div class="section" id="data-cleaning">
<h3>Data cleaning<a class="headerlink" href="#data-cleaning" title="Permalink to this headline">¶</a></h3>
<div class="section" id="remove-consecutive-edits-and-summarize-runs">
<h4>Remove consecutive edits and summarize runs<a class="headerlink" href="#remove-consecutive-edits-and-summarize-runs" title="Permalink to this headline">¶</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="n">time</span>
<span class="k">def</span> <span class="nf">remove_consecutive_edits</span><span class="p">(</span><span class="n">df</span><span class="p">):</span>
    <span class="n">c</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">))))</span>
    
    <span class="n">keyfunc</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="p">(</span><span class="n">x</span><span class="p">[</span><span class="n">c</span><span class="p">[</span><span class="s1">&#39;USERID&#39;</span><span class="p">]],</span><span class="n">x</span><span class="p">[</span><span class="n">c</span><span class="p">[</span><span class="s1">&#39;ITEMID&#39;</span><span class="p">]])</span>
    <span class="n">first_and_last</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">run</span><span class="p">:</span> <span class="p">[</span><span class="n">run</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">c</span><span class="p">[</span><span class="s1">&#39;USERID&#39;</span><span class="p">]],</span>
                                <span class="n">run</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">c</span><span class="p">[</span><span class="s1">&#39;USERNAME&#39;</span><span class="p">]],</span>
                                <span class="n">run</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">c</span><span class="p">[</span><span class="s1">&#39;ITEMID&#39;</span><span class="p">]],</span>
                                <span class="n">run</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">c</span><span class="p">[</span><span class="s1">&#39;TITLE&#39;</span><span class="p">]],</span>
                                <span class="n">run</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">][</span><span class="n">c</span><span class="p">[</span><span class="s1">&#39;TIMESTAMP&#39;</span><span class="p">]],</span>
                                <span class="n">run</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="n">c</span><span class="p">[</span><span class="s1">&#39;TIMESTAMP&#39;</span><span class="p">]],</span>
                                <span class="nb">sum</span><span class="p">([</span><span class="nb">abs</span><span class="p">(</span><span class="n">r</span><span class="p">[</span><span class="n">c</span><span class="p">[</span><span class="s1">&#39;SIZEDIFF&#39;</span><span class="p">]])</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">run</span><span class="p">]),</span>
                                <span class="nb">len</span><span class="p">(</span><span class="n">run</span><span class="p">)]</span>
    <span class="n">d</span>  <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="n">first_and_last</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">g</span><span class="p">))</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">g</span> <span class="ow">in</span> <span class="n">itertools</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="n">key</span><span class="o">=</span><span class="n">keyfunc</span><span class="p">)],</span> 
                        <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;USERID&#39;</span><span class="p">,</span> <span class="s1">&#39;USER&#39;</span><span class="p">,</span> <span class="s1">&#39;ITEMID&#39;</span><span class="p">,</span> <span class="s1">&#39;TITLE&#39;</span><span class="p">,</span> <span class="s1">&#39;FIRST_TIMESTAMP&#39;</span><span class="p">,</span> <span class="s1">&#39;LAST_TIMESTAMP&#39;</span><span class="p">,</span><span class="s1">&#39;SUM_SIZEDIFF&#39;</span><span class="p">,</span><span class="s1">&#39;CONSECUTIVE_EDITS&#39;</span><span class="p">])</span>
                        
<span class="n">clean_df</span> <span class="o">=</span> <span class="n">remove_consecutive_edits</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>CPU times: user 58.4 s, sys: 2.15 s, total: 1min
Wall time: 1min
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="remove-top-n-most-popular-pages">
<h4>Remove top N most popular pages<a class="headerlink" href="#remove-top-n-most-popular-pages" title="Permalink to this headline">¶</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get the top most popular pages</span>
<span class="n">TOPN</span> <span class="o">=</span> <span class="mi">20</span>
<span class="n">popularpages</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;TITLE&#39;</span><span class="p">,</span><span class="s1">&#39;ITEMID&#39;</span><span class="p">,</span><span class="s1">&#39;USERID&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;TITLE&#39;</span><span class="p">,</span><span class="s1">&#39;ITEMID&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">count</span><span class="p">()</span><span class="o">.</span><span class="n">USERNAME</span><span class="o">.</span><span class="n">sort_values</span><span class="p">()[</span><span class="o">-</span><span class="n">TOPN</span><span class="p">:]</span>
<span class="n">popularpages</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>TITLE                                                  ITEMID  
93rd Academy Awards                                    63807881    150
2021 Myanmar coup d&#39;état                               66567997    151
Death and funeral of Prince Philip, Duke of Edinburgh  67349313    156
WandaVision                                            59082207    158
2020 United States presidential election               48410011    168
2021 Suez Canal obstruction                            67204875    168
Eurovision Song Contest 2021                           62877212    172
Zack Snyder&#39;s Justice League                           64017869    172
COVID-19 vaccine                                       63319438    187
2021 Israel–Palestine crisis                           67620503    189
COVID-19 pandemic                                      62750956    190
Prince Philip, Duke of Edinburgh                       62093       191
GameStop short squeeze                                 66516682    209
Surfside condominium building collapse                 68035614    212
2021                                                   51397       223
Joe Biden                                              145422      226
Second impeachment of Donald Trump                     66310761    227
Donald Trump                                           4848272     288
Deaths in 2021                                         65984422    461
2021 United States Capitol attack                      66307490    730
Name: USERNAME, dtype: int64
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Remove those popular pages</span>
<span class="n">before_count</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="p">)</span>
<span class="n">popular_pageids</span> <span class="o">=</span> <span class="n">popularpages</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">get_level_values</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="s1">&#39;ITEMID&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">values</span>
<span class="n">is_popular_page_edit</span> <span class="o">=</span> <span class="n">clean_df</span><span class="o">.</span><span class="n">ITEMID</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">popular_pageids</span><span class="p">)</span>
<span class="n">clean_df</span> <span class="o">=</span> <span class="n">clean_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="o">~</span><span class="n">is_popular_page_edit</span><span class="p">]</span><span class="o">.</span><span class="n">copy</span><span class="p">()</span>
<span class="n">all_histories</span> <span class="o">=</span> <span class="kc">None</span>
<span class="n">after_count</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">clean_df</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%d</span><span class="s2"> edits (</span><span class="si">%.1f%%</span><span class="s2">) were in top </span><span class="si">%d</span><span class="s2"> popular pages. Length after removing: </span><span class="si">%d</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">is_popular_page_edit</span><span class="p">),</span> 
                                                                                     <span class="mi">100</span><span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">is_popular_page_edit</span><span class="p">)</span><span class="o">/</span><span class="n">before_count</span><span class="p">,</span>
                                                                                     <span class="n">TOPN</span><span class="p">,</span>
                                                                                     <span class="n">after_count</span><span class="p">)</span>
     <span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>19231 edits (0.2%) were in top 20 popular pages. Length after removing: 7604316
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Number of unique page ids: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">clean_df</span><span class="o">.</span><span class="n">ITEMID</span><span class="o">.</span><span class="n">unique</span><span class="p">())))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Number of unique page ids: 2461524
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="remove-users-with-too-many-or-too-few-edits">
<h4>Remove users with too many or too few edits<a class="headerlink" href="#remove-users-with-too-many-or-too-few-edits" title="Permalink to this headline">¶</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">MIN_EDITS</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">MAX_EDITS</span> <span class="o">=</span> <span class="mi">10000</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get user edit counts</span>
<span class="n">all_user_edit_counts</span> <span class="o">=</span> <span class="n">clean_df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;USERID&#39;</span><span class="p">,</span><span class="s1">&#39;USER&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">USERID</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>

<span class="c1"># Remove users with too few edits</span>
<span class="n">keep_user</span> <span class="o">=</span> <span class="n">all_user_edit_counts</span><span class="o">.</span><span class="n">values</span> <span class="o">&gt;=</span> <span class="n">MIN_EDITS</span>

<span class="c1"># Remove users with too many edits</span>
<span class="n">keep_user</span> <span class="o">=</span> <span class="n">keep_user</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">all_user_edit_counts</span><span class="o">.</span><span class="n">values</span> <span class="o">&lt;=</span> <span class="n">MAX_EDITS</span><span class="p">)</span>

<span class="c1"># Remove users with &quot;bot&quot; in the name</span>
<span class="n">is_bot</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;bot&#39;</span> <span class="ow">in</span> <span class="n">username</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="k">for</span> <span class="n">username</span> <span class="ow">in</span> <span class="n">all_user_edit_counts</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">get_level_values</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="p">]</span>
<span class="n">keep_user</span> <span class="o">=</span> <span class="n">keep_user</span> <span class="o">&amp;</span> <span class="o">~</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">is_bot</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Keep </span><span class="si">%d</span><span class="s2"> users out of </span><span class="si">%d</span><span class="s2"> (</span><span class="si">%.1f%%</span><span class="s2">)&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">keep_user</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">all_user_edit_counts</span><span class="p">),</span> <span class="mi">100</span><span class="o">*</span><span class="nb">float</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">keep_user</span><span class="p">))</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">all_user_edit_counts</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Keep 28091 users out of 52593 (53.4%)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Remove those users</span>
<span class="n">userids_to_keep</span> <span class="o">=</span> <span class="n">all_user_edit_counts</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">get_level_values</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="n">keep_user</span><span class="p">]</span>

<span class="n">clean_df</span> <span class="o">=</span> <span class="n">clean_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">clean_df</span><span class="o">.</span><span class="n">USERID</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">userids_to_keep</span><span class="p">)]</span>

<span class="n">clean_df</span> <span class="o">=</span> <span class="n">clean_df</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Length after removing users: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">clean_df</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Length after removing users: 5907255
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="build-lookup-tables">
<h3>Build lookup tables<a class="headerlink" href="#build-lookup-tables" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Page id to title and back</span>
<span class="n">lookup</span> <span class="o">=</span> <span class="n">clean_df</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;ITEMID&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,[</span><span class="s1">&#39;ITEMID&#39;</span><span class="p">,</span><span class="s1">&#39;TITLE&#39;</span><span class="p">]]</span>
<span class="n">p2t</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">lookup</span><span class="o">.</span><span class="n">ITEMID</span><span class="p">,</span> <span class="n">lookup</span><span class="o">.</span><span class="n">TITLE</span><span class="p">))</span>
<span class="n">t2p</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">lookup</span><span class="o">.</span><span class="n">TITLE</span><span class="p">,</span> <span class="n">lookup</span><span class="o">.</span><span class="n">ITEMID</span><span class="p">))</span>

<span class="c1"># User id to name and back</span>
<span class="n">lookup</span> <span class="o">=</span> <span class="n">clean_df</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;USERID&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,[</span><span class="s1">&#39;USERID&#39;</span><span class="p">,</span><span class="s1">&#39;USER&#39;</span><span class="p">]]</span>
<span class="n">u2n</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">lookup</span><span class="o">.</span><span class="n">USERID</span><span class="p">,</span> <span class="n">lookup</span><span class="o">.</span><span class="n">USER</span><span class="p">))</span>
<span class="n">n2u</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">lookup</span><span class="o">.</span><span class="n">USER</span><span class="p">,</span> <span class="n">lookup</span><span class="o">.</span><span class="n">USERID</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Page id and userid to index in cooccurence matrix and back</span>
<span class="n">pageids</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">clean_df</span><span class="o">.</span><span class="n">ITEMID</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>
<span class="n">userids</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">clean_df</span><span class="o">.</span><span class="n">USERID</span><span class="o">.</span><span class="n">unique</span><span class="p">())</span>
 
<span class="n">p2i</span> <span class="o">=</span> <span class="p">{</span><span class="n">pageid</span><span class="p">:</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">pageid</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">pageids</span><span class="p">)}</span>
<span class="n">u2i</span> <span class="o">=</span> <span class="p">{</span><span class="n">userid</span><span class="p">:</span><span class="n">i</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">userid</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">userids</span><span class="p">)}</span>


<span class="n">i2p</span> <span class="o">=</span> <span class="p">{</span><span class="n">v</span><span class="p">:</span> <span class="n">k</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">p2i</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
<span class="n">i2u</span> <span class="o">=</span> <span class="p">{</span><span class="n">v</span><span class="p">:</span> <span class="n">k</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">u2i</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># User name and page title to index and back</span>
<span class="n">n2i</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span><span class="n">u2i</span><span class="p">[</span><span class="n">v</span><span class="p">]</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">n2u</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">u2i</span><span class="p">}</span>
<span class="n">t2i</span> <span class="o">=</span> <span class="p">{</span><span class="n">k</span><span class="p">:</span><span class="n">p2i</span><span class="p">[</span><span class="n">v</span><span class="p">]</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">t2p</span><span class="o">.</span><span class="n">items</span><span class="p">()</span> <span class="k">if</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">p2i</span><span class="p">}</span>

<span class="n">i2n</span> <span class="o">=</span> <span class="p">{</span><span class="n">v</span><span class="p">:</span> <span class="n">k</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">n2i</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
<span class="n">i2t</span> <span class="o">=</span> <span class="p">{</span><span class="n">v</span><span class="p">:</span> <span class="n">k</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">t2i</span><span class="o">.</span><span class="n">items</span><span class="p">()}</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="build-test-and-training-set">
<h3>Build test and training set<a class="headerlink" href="#build-test-and-training-set" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Make a test set from the most recent edit by each user</span>
<span class="n">histories_test</span> <span class="o">=</span> <span class="n">clean_df</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;USERID&#39;</span><span class="p">,</span><span class="s1">&#39;USER&#39;</span><span class="p">],</span><span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Subtract it from the rest to make the training set</span>
<span class="n">histories_train</span> <span class="o">=</span> <span class="n">dataframe_set_subtract</span><span class="p">(</span><span class="n">clean_df</span><span class="p">,</span> <span class="n">histories_test</span><span class="p">)</span>
<span class="n">histories_train</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Make a dev set from the second most recent edit by each user</span>
<span class="n">histories_dev</span> <span class="o">=</span> <span class="n">histories_train</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;USERID&#39;</span><span class="p">,</span><span class="s1">&#39;USER&#39;</span><span class="p">],</span><span class="n">as_index</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">first</span><span class="p">()</span>
<span class="c1"># Subtract it from the rest to make the final training set</span>
<span class="n">histories_train</span> <span class="o">=</span> <span class="n">dataframe_set_subtract</span><span class="p">(</span><span class="n">histories_train</span><span class="p">,</span> <span class="n">histories_dev</span><span class="p">)</span>
<span class="n">histories_train</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">drop</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Length of test set: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">histories_test</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Length of dev set: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">histories_dev</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Length of training after removal of test: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">histories_train</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Length of test set: 28091
Length of dev set: 28091
Length of training after removal of test: 5849876
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Number of pages in training set: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">histories_train</span><span class="o">.</span><span class="n">ITEMID</span><span class="o">.</span><span class="n">unique</span><span class="p">())))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Number of users in training set: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">histories_train</span><span class="o">.</span><span class="n">USERID</span><span class="o">.</span><span class="n">unique</span><span class="p">())))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Number of pages with &gt; 1 user editing: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">histories_train</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;TITLE&#39;</span><span class="p">,</span><span class="s1">&#39;USER&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;TITLE&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">count</span><span class="p">()</span><span class="o">.</span><span class="n">USER</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Number of pages in training set: 1962283
Number of users in training set: 28090
Number of pages with &gt; 1 user editing: 644980
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">resurface_userids</span><span class="p">,</span> <span class="n">discovery_userids</span> <span class="o">=</span> <span class="n">get_resurface_discovery</span><span class="p">(</span><span class="n">histories_train</span><span class="p">,</span> <span class="n">histories_dev</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%d</span><span class="s2"> out of </span><span class="si">%d</span><span class="s2"> userids are resurfaced (</span><span class="si">%.1f%%</span><span class="s2">)&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">resurface_userids</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">userids</span><span class="p">),</span> <span class="mi">100</span><span class="o">*</span><span class="nb">float</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">resurface_userids</span><span class="p">))</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">userids</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">%d</span><span class="s2"> out of </span><span class="si">%d</span><span class="s2"> userids are discovered (</span><span class="si">%.1f%%</span><span class="s2">)&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">discovery_userids</span><span class="p">),</span> <span class="nb">len</span><span class="p">(</span><span class="n">userids</span><span class="p">),</span> <span class="mi">100</span><span class="o">*</span><span class="nb">float</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">discovery_userids</span><span class="p">))</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">userids</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>7760 out of 28090 userids are resurfaced (27.6%)
20330 out of 28090 userids are discovered (72.4%)
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="build-matrix-for-implicit-collaborative-filtering">
<h3>Build matrix for implicit collaborative filtering<a class="headerlink" href="#build-matrix-for-implicit-collaborative-filtering" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Get the user/page edit counts</span>
<span class="n">for_implicit</span> <span class="o">=</span> <span class="n">histories_train</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;USERID&quot;</span><span class="p">,</span><span class="s2">&quot;ITEMID&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">count</span><span class="p">()</span><span class="o">.</span><span class="n">FIRST_TIMESTAMP</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;FIRST_TIMESTAMP&#39;</span><span class="p">:</span><span class="s1">&#39;edits&#39;</span><span class="p">})</span>
<span class="n">for_implicit</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s1">&#39;edits&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">for_implicit</span><span class="o">.</span><span class="n">edits</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">int32</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">row</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">p2i</span><span class="p">[</span><span class="n">p</span><span class="p">]</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">for_implicit</span><span class="o">.</span><span class="n">ITEMID</span><span class="o">.</span><span class="n">values</span><span class="p">])</span>
<span class="n">col</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">u2i</span><span class="p">[</span><span class="n">u</span><span class="p">]</span> <span class="k">for</span> <span class="n">u</span> <span class="ow">in</span> <span class="n">for_implicit</span><span class="o">.</span><span class="n">USERID</span><span class="o">.</span><span class="n">values</span><span class="p">])</span>

<span class="n">implicit_matrix_coo</span> <span class="o">=</span> <span class="n">coo_matrix</span><span class="p">((</span><span class="n">for_implicit</span><span class="o">.</span><span class="n">edits</span><span class="o">.</span><span class="n">values</span><span class="p">,</span> <span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="n">col</span><span class="p">)))</span>

<span class="n">implicit_matrix</span> <span class="o">=</span> <span class="n">csc_matrix</span><span class="p">(</span><span class="n">implicit_matrix_coo</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="saving-artifacts">
<h3>Saving artifacts<a class="headerlink" href="#saving-artifacts" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">save_pickle</span><span class="p">((</span><span class="n">p2t</span><span class="p">,</span> <span class="n">t2p</span><span class="p">,</span> <span class="n">u2n</span><span class="p">,</span> <span class="n">n2u</span><span class="p">,</span> <span class="n">p2i</span><span class="p">,</span> <span class="n">u2i</span><span class="p">,</span> <span class="n">i2p</span><span class="p">,</span> <span class="n">i2u</span><span class="p">,</span> <span class="n">n2i</span><span class="p">,</span> <span class="n">t2i</span><span class="p">,</span> <span class="n">i2n</span><span class="p">,</span> <span class="n">i2t</span><span class="p">),</span> <span class="s1">&#39;lookup_tables.pickle&#39;</span><span class="p">)</span>
<span class="n">save_pickle</span><span class="p">((</span><span class="n">userids</span><span class="p">,</span> <span class="n">pageids</span><span class="p">),</span> <span class="s1">&#39;users_and_pages.pickle&#39;</span><span class="p">)</span>
<span class="n">save_pickle</span><span class="p">((</span><span class="n">resurface_userids</span><span class="p">,</span> <span class="n">discovery_userids</span><span class="p">),</span> <span class="s1">&#39;resurface_discovery_users.pickle&#39;</span><span class="p">)</span>
<span class="n">save_pickle</span><span class="p">(</span><span class="n">implicit_matrix</span><span class="p">,</span><span class="s1">&#39;implicit_matrix.pickle&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>In this second part of the two part series, we will handle the modeling and evaluation side. We will load the saved artifacts and train 7 implicit recommender models. We will compare the performance using various evaluation metrics. We will also visualize the embeddings.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>!git clone https://github.com/sparsh-ai/reco-wikirecs
%cd /content/reco-wikirecs/
!pip install -r requirements.txt

!pip install -q git+https://github.com/sparsh-ai/recochef.git
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">seaborn</span> <span class="k">as</span> <span class="nn">sns</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>

<span class="kn">import</span> <span class="nn">itertools</span>
<span class="kn">from</span> <span class="nn">scipy.sparse</span> <span class="kn">import</span> <span class="n">csr_matrix</span><span class="p">,</span> <span class="n">csc_matrix</span><span class="p">,</span> <span class="n">lil_matrix</span><span class="p">,</span> <span class="n">coo_matrix</span>

<span class="kn">from</span> <span class="nn">recochef.datasets.wikirecs</span> <span class="kn">import</span> <span class="n">WikiRecs</span>

<span class="kn">import</span> <span class="nn">implicit</span>
<span class="kn">from</span> <span class="nn">implicit.nearest_neighbours</span> <span class="kn">import</span> <span class="n">bm25_weight</span>
<span class="kn">from</span> <span class="nn">implicit.nearest_neighbours</span> <span class="kn">import</span> <span class="n">BM25Recommender</span>

<span class="kn">from</span> <span class="nn">utils</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">wiki_pull</span> <span class="kn">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">recommenders</span> <span class="kn">import</span> <span class="o">*</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="n">matplotlib</span> <span class="n">inline</span>
<span class="o">%</span><span class="n">load_ext</span> <span class="n">autoreload</span>
<span class="o">%</span><span class="n">autoreload</span> <span class="mi">2</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="loading-artifacts">
<h2>Loading artifacts<a class="headerlink" href="#loading-artifacts" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">p2t</span><span class="p">,</span> <span class="n">t2p</span><span class="p">,</span> <span class="n">u2n</span><span class="p">,</span> <span class="n">n2u</span><span class="p">,</span> <span class="n">p2i</span><span class="p">,</span> <span class="n">u2i</span><span class="p">,</span> <span class="n">i2p</span><span class="p">,</span> <span class="n">i2u</span><span class="p">,</span> <span class="n">n2i</span><span class="p">,</span> <span class="n">t2i</span><span class="p">,</span> <span class="n">i2n</span><span class="p">,</span> <span class="n">i2t</span> <span class="o">=</span> <span class="n">load_pickle</span><span class="p">(</span><span class="s1">&#39;lookup_tables.pickle&#39;</span><span class="p">)</span>
<span class="n">userids</span><span class="p">,</span> <span class="n">pageids</span> <span class="o">=</span> <span class="n">load_pickle</span><span class="p">(</span><span class="s1">&#39;users_and_pages.pickle&#39;</span><span class="p">)</span>
<span class="n">resurface_userids</span><span class="p">,</span> <span class="n">discovery_userids</span> <span class="o">=</span> <span class="n">load_pickle</span><span class="p">(</span><span class="s1">&#39;resurface_discovery_users.pickle&#39;</span><span class="p">)</span>
<span class="n">implicit_matrix</span> <span class="o">=</span> <span class="n">load_pickle</span><span class="p">(</span><span class="s1">&#39;implicit_matrix.pickle&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="test-the-matrix-and-indices">
<h2>Test the matrix and indices<a class="headerlink" href="#test-the-matrix-and-indices" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Crude item to item recs by looking for items edited by the same editors (count how many editors overlap)</span>
<span class="n">veditors</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">flatnonzero</span><span class="p">(</span><span class="n">implicit_matrix</span><span class="p">[</span><span class="n">t2i</span><span class="p">[</span><span class="s1">&#39;Hamburger&#39;</span><span class="p">],:]</span><span class="o">.</span><span class="n">toarray</span><span class="p">())</span>
<span class="n">indices</span> <span class="o">=</span>  <span class="n">np</span><span class="o">.</span><span class="n">flatnonzero</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">implicit_matrix</span><span class="p">[:,</span><span class="n">veditors</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
<span class="n">totals</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">implicit_matrix</span><span class="p">[:,</span><span class="n">veditors</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="p">,</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)[</span><span class="n">indices</span><span class="p">])</span>
<span class="n">sorted_order</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argsort</span><span class="p">(</span><span class="n">totals</span><span class="o">.</span><span class="n">squeeze</span><span class="p">())</span>

<span class="p">[</span><span class="n">i2t</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">)</span>  <span class="o">+</span> <span class="s2">&quot; &quot;</span> <span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">total</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">total</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">indices</span><span class="p">[</span><span class="n">sorted_order</span><span class="p">],</span><span class="n">totals</span><span class="p">[</span><span class="n">sorted_order</span><span class="p">])][::</span><span class="o">-</span><span class="mi">1</span><span class="p">][:</span><span class="mi">10</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;Hamburger 10&#39;,
 &#39;Hemp 3&#39;,
 &#39;Poetry 3&#39;,
 &#39;Korean War 3&#39;,
 &#39;Michael Jackson 3&#39;,
 &#39;Borat Subsequent Moviefilm 3&#39;,
 &#39;Elon Musk 3&#39;,
 &#39;Stand-up comedy 3&#39;,
 &#39;Greater Mexico City 2&#39;,
 &#39;Asymmetric warfare 2&#39;]
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="baseline-models">
<h2>Baseline models<a class="headerlink" href="#baseline-models" title="Permalink to this headline">¶</a></h2>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p>Model</p></th>
<th class="text-align:right head"><p>Type</p></th>
<th class="text-align:right head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Popularity</p></td>
<td class="text-align:right"><p>Rule-based</p></td>
<td class="text-align:right"><p>Most popular over the past year</p></td>
</tr>
<tr class="row-odd"><td><p>Recent</p></td>
<td class="text-align:right"><p>Rule-based</p></td>
<td class="text-align:right"><p>Most recently edited by this user</p></td>
</tr>
<tr class="row-even"><td><p>Frequent</p></td>
<td class="text-align:right"><p>Rule-based</p></td>
<td class="text-align:right"><p>Most frequently edited by this user in the last year</p></td>
</tr>
<tr class="row-odd"><td><p>BM25</p></td>
<td class="text-align:right"><p>Collaborative-filtering</p></td>
<td class="text-align:right"><p>Okapi BM25, a simple variation on Jaccard similarity with TF-IDF that often has much better results</p></td>
</tr>
<tr class="row-even"><td><p>ALS</p></td>
<td class="text-align:right"><p>Collaborative-filtering</p></td>
<td class="text-align:right"><p>Alternating Least Squares matrix factorization of implicit training data, with BM25 pre-scaling</p></td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="implicit-recommendation">
<h2>Implicit recommendation<a class="headerlink" href="#implicit-recommendation" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">implicit_matrix</span> <span class="o">=</span> <span class="n">load_pickle</span><span class="p">(</span><span class="s1">&#39;implicit_matrix_2021-05-28.pickle&#39;</span><span class="p">)</span>
<span class="n">p2t</span><span class="p">,</span> <span class="n">t2p</span><span class="p">,</span> <span class="n">u2n</span><span class="p">,</span> <span class="n">n2u</span><span class="p">,</span> <span class="n">p2i</span><span class="p">,</span> <span class="n">u2i</span><span class="p">,</span> <span class="n">i2p</span><span class="p">,</span> <span class="n">i2u</span><span class="p">,</span> <span class="n">n2i</span><span class="p">,</span> <span class="n">t2i</span><span class="p">,</span> <span class="n">i2n</span><span class="p">,</span> <span class="n">i2t</span> <span class="o">=</span> <span class="n">load_pickle</span><span class="p">(</span><span class="s1">&#39;lookup_tables_2021-05-28.pickle&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">bm25_matrix</span> <span class="o">=</span> <span class="n">bm25_weight</span><span class="p">(</span><span class="n">implicit_matrix</span><span class="p">,</span> <span class="n">K1</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">B</span><span class="o">=</span><span class="mf">0.25</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">num_factors</span> <span class="o">=</span><span class="mi">200</span>
<span class="n">regularization</span> <span class="o">=</span> <span class="mf">0.01</span>
<span class="n">os</span><span class="o">.</span><span class="n">environ</span><span class="p">[</span><span class="s2">&quot;OPENBLAS_NUM_THREADS&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="s2">&quot;1&quot;</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">implicit</span><span class="o">.</span><span class="n">als</span><span class="o">.</span><span class="n">AlternatingLeastSquares</span><span class="p">(</span>
    <span class="n">factors</span><span class="o">=</span><span class="n">num_factors</span><span class="p">,</span> <span class="n">regularization</span><span class="o">=</span><span class="n">regularization</span>
<span class="p">)</span>
<span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">bm25_matrix</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id": "cebcfca877334675b349e9ff7d2fc5e8", "version_major": 2, "version_minor": 0}
</script></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">save_pickle</span><span class="p">(</span><span class="n">model</span><span class="p">,</span><span class="s1">&#39;als</span><span class="si">%d</span><span class="s1">_bm25_model.pickle&#39;</span> <span class="o">%</span> <span class="n">num_factors</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span> <span class="o">=</span> <span class="n">wr</span><span class="o">.</span><span class="n">load_pickle</span><span class="p">(</span><span class="s1">&#39;als200_bm25_model_2021-05-28.pickle&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">similar_items</span><span class="p">(</span><span class="n">t2i</span><span class="p">[</span><span class="s1">&#39;Steven Universe&#39;</span><span class="p">],</span><span class="mi">20</span><span class="p">)</span>
<span class="p">[</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1"> </span><span class="si">%.4f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">i2t</span><span class="p">[</span><span class="n">ind</span><span class="p">],</span> <span class="n">score</span><span class="p">)</span> <span class="k">for</span> <span class="n">ind</span><span class="p">,</span> <span class="n">score</span> <span class="ow">in</span> <span class="n">results</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;Steven Universe 1.0000&#39;,
 &#39;She-Ra and the Princesses of Power 0.8897&#39;,
 &#39;Stevonnie 0.8331&#39;,
 &#39;Infinity Train 0.8052&#39;,
 &#39;The Dragon Prince 0.7930&#39;,
 &#39;Kipo and the Age of Wonderbeasts 0.7746&#39;,
 &#39;Adult animation 0.7707&#39;,
 &#39;The Legend of Korra 0.7689&#39;,
 &#39;Steven Universe (character) 0.7685&#39;,
 &#39;Athena Karkanis 0.7661&#39;,
 &#39;SuperFuckers 0.7660&#39;,
 &quot;MatPat&#39;s Game Lab 0.7654&quot;,
 &#39;List of webcomics with LGBT characters 0.7645&#39;,
 &#39;Tangled: Before Ever After 0.7632&#39;,
 &#39;List of cross-dressing characters in animated series 0.7621&#39;,
 &#39;Andrew Wells 0.7607&#39;,
 &quot;Rhett &amp; Link&#39;s Buddy System 0.7581&quot;,
 &#39;Q-Force (TV series) 0.7568&#39;,
 &#39;Cleopatra in Space (TV series) 0.7565&#39;,
 &#39;Olan Rogers 0.7561&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">u</span> <span class="o">=</span> <span class="n">n2u</span><span class="p">[</span><span class="s2">&quot;Rama&quot;</span><span class="p">]</span>
<span class="n">recommendations</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">recommend</span><span class="p">(</span><span class="n">u2i</span><span class="p">[</span><span class="n">u</span><span class="p">],</span> <span class="n">bm25_matrix</span><span class="o">.</span><span class="n">tocsc</span><span class="p">(),</span> <span class="n">N</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">filter_already_liked_items</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="p">[</span> <span class="p">(</span><span class="s2">&quot;*&quot;</span> <span class="k">if</span> <span class="n">implicit_matrix</span><span class="p">[</span><span class="n">ind</span><span class="p">,</span><span class="n">u2i</span><span class="p">[</span><span class="n">u</span><span class="p">]]</span><span class="o">&gt;</span><span class="mi">0</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span><span class="p">)</span> <span class="o">+</span>
<span class="s1">&#39;</span><span class="si">%s</span><span class="s1"> </span><span class="si">%.4f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">i2t</span><span class="p">[</span><span class="n">ind</span><span class="p">],</span> <span class="n">score</span><span class="p">)</span> <span class="o">+</span> <span class="s1">&#39; </span><span class="si">%d</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">implicit_matrix</span><span class="p">[</span><span class="n">ind</span><span class="p">,:]</span><span class="o">&gt;</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
 <span class="k">for</span> <span class="n">ind</span><span class="p">,</span> <span class="n">score</span> <span class="ow">in</span> <span class="n">recommendations</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="grid-search-results">
<h3>Grid search results<a class="headerlink" href="#grid-search-results" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">grid_search_results</span> <span class="o">=</span> <span class="n">wr</span><span class="o">.</span><span class="n">load_pickle</span><span class="p">(</span><span class="s2">&quot;implicit_grid_search.pickle&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">grid_search_results</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>num_factors</th>
      <th>regularization</th>
      <th>metrics</th>
      <th>time</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>250</td>
      <td>0.001</td>
      <td>{'recall': 6.721069930862518, 'ndcg': 0.034484...</td>
      <td>3001.013066</td>
    </tr>
    <tr>
      <th>1</th>
      <td>250</td>
      <td>0.010</td>
      <td>{'recall': 6.641731837243568, 'ndcg': 0.034212...</td>
      <td>2910.232232</td>
    </tr>
    <tr>
      <th>2</th>
      <td>250</td>
      <td>0.100</td>
      <td>{'recall': 6.5737277569987524, 'ndcg': 0.03360...</td>
      <td>2820.923943</td>
    </tr>
    <tr>
      <th>3</th>
      <td>500</td>
      <td>0.001</td>
      <td>{'recall': 8.568514110846651, 'ndcg': 0.044450...</td>
      <td>5764.793829</td>
    </tr>
    <tr>
      <th>4</th>
      <td>500</td>
      <td>0.010</td>
      <td>{'recall': 8.62518417771733, 'ndcg': 0.0441560...</td>
      <td>5783.447170</td>
    </tr>
    <tr>
      <th>5</th>
      <td>500</td>
      <td>0.100</td>
      <td>{'recall': 8.500510030601836, 'ndcg': 0.044005...</td>
      <td>5776.124852</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([[</span><span class="n">i</span><span class="p">[</span><span class="s1">&#39;num_factors&#39;</span><span class="p">],</span> <span class="n">i</span><span class="p">[</span><span class="s1">&#39;regularization&#39;</span><span class="p">]]</span> <span class="o">+</span> <span class="nb">list</span><span class="p">(</span><span class="n">i</span><span class="p">[</span><span class="s1">&#39;metrics&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">())</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">grid_search_results</span><span class="p">],</span>
            <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;num_factors&#39;</span><span class="p">,</span><span class="s1">&#39;regularization&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="nb">list</span><span class="p">(</span><span class="n">grid_search_results</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;metrics&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>num_factors</th>
      <th>regularization</th>
      <th>recall</th>
      <th>ndcg</th>
      <th>resurfaced</th>
      <th>recall_discover</th>
      <th>recall_resurface</th>
      <th>ndcg_discover</th>
      <th>ndcg_resurface</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>250</td>
      <td>0.001</td>
      <td>6.721070</td>
      <td>0.034485</td>
      <td>23.744758</td>
      <td>0.951526</td>
      <td>16.600061</td>
      <td>0.003516</td>
      <td>0.087512</td>
    </tr>
    <tr>
      <th>1</th>
      <td>250</td>
      <td>0.010</td>
      <td>6.641732</td>
      <td>0.034212</td>
      <td>23.709056</td>
      <td>0.987433</td>
      <td>16.323394</td>
      <td>0.003592</td>
      <td>0.086641</td>
    </tr>
    <tr>
      <th>2</th>
      <td>250</td>
      <td>0.100</td>
      <td>6.573728</td>
      <td>0.033609</td>
      <td>23.545279</td>
      <td>0.951526</td>
      <td>16.200430</td>
      <td>0.003505</td>
      <td>0.085154</td>
    </tr>
    <tr>
      <th>3</th>
      <td>500</td>
      <td>0.001</td>
      <td>8.568514</td>
      <td>0.044451</td>
      <td>31.403151</td>
      <td>0.969479</td>
      <td>21.580080</td>
      <td>0.003511</td>
      <td>0.114551</td>
    </tr>
    <tr>
      <th>4</th>
      <td>500</td>
      <td>0.010</td>
      <td>8.625184</td>
      <td>0.044156</td>
      <td>31.375949</td>
      <td>0.969479</td>
      <td>21.733784</td>
      <td>0.003492</td>
      <td>0.113784</td>
    </tr>
    <tr>
      <th>5</th>
      <td>500</td>
      <td>0.100</td>
      <td>8.500510</td>
      <td>0.044006</td>
      <td>31.216140</td>
      <td>0.933573</td>
      <td>21.457117</td>
      <td>0.003349</td>
      <td>0.113621</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">grid_search_results_bm25</span> <span class="o">=</span> <span class="n">wr</span><span class="o">.</span><span class="n">load_pickle</span><span class="p">(</span><span class="s2">&quot;implicit_grid_search_bm25.pickle&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([[</span><span class="n">i</span><span class="p">[</span><span class="s1">&#39;num_factors&#39;</span><span class="p">],</span> <span class="n">i</span><span class="p">[</span><span class="s1">&#39;regularization&#39;</span><span class="p">]]</span> <span class="o">+</span> <span class="nb">list</span><span class="p">(</span><span class="n">i</span><span class="p">[</span><span class="s1">&#39;metrics&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">())</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">grid_search_results_bm25</span><span class="p">],</span>
            <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;num_factors&#39;</span><span class="p">,</span><span class="s1">&#39;regularization&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="nb">list</span><span class="p">(</span><span class="n">grid_search_results_bm25</span><span class="p">[</span><span class="mi">0</span><span class="p">][</span><span class="s1">&#39;metrics&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">keys</span><span class="p">()))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>num_factors</th>
      <th>regularization</th>
      <th>recall</th>
      <th>ndcg</th>
      <th>resurfaced</th>
      <th>recall_discover</th>
      <th>recall_resurface</th>
      <th>ndcg_discover</th>
      <th>ndcg_resurface</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>50</td>
      <td>0.001</td>
      <td>3.796894</td>
      <td>0.017984</td>
      <td>12.258302</td>
      <td>0.664273</td>
      <td>9.160775</td>
      <td>0.002499</td>
      <td>0.044498</td>
    </tr>
    <tr>
      <th>1</th>
      <td>50</td>
      <td>0.010</td>
      <td>3.751558</td>
      <td>0.018032</td>
      <td>12.269636</td>
      <td>0.646320</td>
      <td>9.068552</td>
      <td>0.002504</td>
      <td>0.044621</td>
    </tr>
    <tr>
      <th>2</th>
      <td>50</td>
      <td>0.100</td>
      <td>3.638218</td>
      <td>0.017705</td>
      <td>12.154596</td>
      <td>0.592460</td>
      <td>8.853366</td>
      <td>0.002439</td>
      <td>0.043843</td>
    </tr>
    <tr>
      <th>3</th>
      <td>100</td>
      <td>0.001</td>
      <td>4.907628</td>
      <td>0.024072</td>
      <td>16.589029</td>
      <td>0.736086</td>
      <td>12.050415</td>
      <td>0.002850</td>
      <td>0.060410</td>
    </tr>
    <tr>
      <th>4</th>
      <td>100</td>
      <td>0.010</td>
      <td>4.884960</td>
      <td>0.023839</td>
      <td>16.515924</td>
      <td>0.736086</td>
      <td>11.988933</td>
      <td>0.002792</td>
      <td>0.059878</td>
    </tr>
    <tr>
      <th>5</th>
      <td>100</td>
      <td>0.100</td>
      <td>4.862292</td>
      <td>0.023483</td>
      <td>16.418452</td>
      <td>0.754039</td>
      <td>11.896711</td>
      <td>0.002734</td>
      <td>0.059009</td>
    </tr>
    <tr>
      <th>6</th>
      <td>200</td>
      <td>0.001</td>
      <td>6.199705</td>
      <td>0.031379</td>
      <td>21.681401</td>
      <td>0.879713</td>
      <td>15.308946</td>
      <td>0.003416</td>
      <td>0.079258</td>
    </tr>
    <tr>
      <th>7</th>
      <td>200</td>
      <td>0.010</td>
      <td>6.279043</td>
      <td>0.031622</td>
      <td>21.674600</td>
      <td>0.933573</td>
      <td>15.431909</td>
      <td>0.003481</td>
      <td>0.079808</td>
    </tr>
    <tr>
      <th>8</th>
      <td>200</td>
      <td>0.100</td>
      <td>6.109033</td>
      <td>0.031209</td>
      <td>21.474555</td>
      <td>0.879713</td>
      <td>15.063019</td>
      <td>0.003278</td>
      <td>0.079034</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
</div>
<div class="section" id="b25-recommendation">
<h2>B25 Recommendation<a class="headerlink" href="#b25-recommendation" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">bm25_matrix</span> <span class="o">=</span> <span class="n">bm25_weight</span><span class="p">(</span><span class="n">implicit_matrix</span><span class="p">,</span> <span class="n">K1</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">B</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">bm25_matrix</span> <span class="o">=</span> <span class="n">bm25_matrix</span><span class="o">.</span><span class="n">tocsc</span><span class="p">()</span>
<span class="n">sns</span><span class="o">.</span><span class="n">distplot</span><span class="p">(</span><span class="n">implicit_matrix</span><span class="p">[</span><span class="n">implicit_matrix</span><span class="o">.</span><span class="n">nonzero</span><span class="p">()],</span><span class="n">bins</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="n">kde</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>

<span class="n">sns</span><span class="o">.</span><span class="n">distplot</span><span class="p">(</span><span class="n">bm25_matrix</span><span class="p">[</span><span class="n">bm25_matrix</span><span class="o">.</span><span class="n">nonzero</span><span class="p">()],</span><span class="n">bins</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">100</span><span class="p">,</span><span class="mi">1</span><span class="p">),</span><span class="n">kde</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/Users/dsaunder/WikiRecs/venvs/wikirecs/lib/python3.8/site-packages/seaborn/distributions.py:2557: FutureWarning: `distplot` is a deprecated function and will be removed in a future version. Please adapt your code to use either `displot` (a figure-level function with similar flexibility) or `histplot` (an axes-level function for histograms).
  warnings.warn(msg, FutureWarning)
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;AxesSubplot:&gt;
</pre></div>
</div>
<img alt="../_images/T990001_wikirecs_recommender_88_2.png" src="../_images/T990001_wikirecs_recommender_88_2.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">K1</span> <span class="o">=</span> <span class="mi">100</span>
<span class="n">B</span> <span class="o">=</span> <span class="mf">0.25</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">BM25Recommender</span><span class="p">(</span><span class="n">K1</span><span class="p">,</span> <span class="n">B</span><span class="p">)</span>
<span class="n">model</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">implicit_matrix</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id": "789272e0be0841eab56c5e97832d6835", "version_major": 2, "version_minor": 0}
</script></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">save_pickle</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="s1">&#39;bm25_model_2021-05-28.pkl&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">similar_items</span><span class="p">(</span><span class="n">t2i</span><span class="p">[</span><span class="s1">&#39;Mark Hamill&#39;</span><span class="p">],</span><span class="mi">20</span><span class="p">)</span>
<span class="p">[</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1"> </span><span class="si">%.4f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">i2t</span><span class="p">[</span><span class="n">ind</span><span class="p">],</span> <span class="n">score</span><span class="p">)</span> <span class="k">for</span> <span class="n">ind</span><span class="p">,</span> <span class="n">score</span> <span class="ow">in</span> <span class="n">results</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;Steve Jobs 477.7697&#39;,
 &#39;Dwane Wallace 150.9094&#39;,
 &#39;Klapmeier brothers 150.6235&#39;,
 &#39;Collier Trophy 148.3838&#39;,
 &#39;Steve Wozniak 147.1619&#39;,
 &#39;Cirrus VK-30 144.7877&#39;,
 &#39;Jony Ive 144.6390&#39;,
 &#39;Living Legends of Aviation 144.3238&#39;,
 &#39;Bob Hoover 140.9139&#39;,
 &#39;Duluth, Minnesota 139.5445&#39;,
 &#39;Richard VanGrunsven 139.4321&#39;,
 &#39;Paul Allen 138.5211&#39;,
 &#39;List of aerospace engineers 132.4959&#39;,
 &#39;Wright brothers 127.7536&#39;,
 &#39;Bill Lear 127.6163&#39;,
 &#39;Harrison Ford 123.7455&#39;,
 &#39;Steve Fossett 123.5423&#39;,
 &#39;University of Chicago sit-ins 122.8748&#39;,
 &#39;List of people from Duluth, Minnesota 122.8440&#39;,
 &#39;General aviation 122.6389&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">a</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Steven Universe 429.4746&#39;</span><span class="p">,</span>
 <span class="s1">&#39;List of Steven Universe episodes 178.4544&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Demon Bear 128.7237&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Legion of Super Heroes (TV series) 128.7237&#39;</span><span class="p">,</span>
 <span class="s1">&#39;The Amazing World of Gumball 126.3522&#39;</span><span class="p">,</span>
 <span class="s1">&#39;Steven Universe Future 123.9198&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">similar_items</span><span class="p">(</span><span class="n">t2i</span><span class="p">[</span><span class="s1">&#39;Steven Universe&#39;</span><span class="p">],</span><span class="mi">20</span><span class="p">)</span>
<span class="p">[</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1"> </span><span class="si">%.4f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">i2t</span><span class="p">[</span><span class="n">ind</span><span class="p">],</span> <span class="n">score</span><span class="p">)</span> <span class="k">for</span> <span class="n">ind</span><span class="p">,</span> <span class="n">score</span> <span class="ow">in</span> <span class="n">results</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;Steven Universe 429.4746&#39;,
 &#39;List of Steven Universe episodes 178.4544&#39;,
 &#39;Demon Bear 128.7237&#39;,
 &#39;Legion of Super Heroes (TV series) 128.7237&#39;,
 &#39;The Amazing World of Gumball 126.3522&#39;,
 &#39;Steven Universe Future 123.9198&#39;,
 &#39;Say Uncle (Steven Universe) 122.4732&#39;,
 &#39;We Bare Bears 120.9546&#39;,
 &#39;Infinity Train 118.2566&#39;,
 &#39;List of programs broadcast by Cartoon Network 116.1771&#39;,
 &#39;The Transformers (TV series) 115.4370&#39;,
 &quot;Bucky O&#39;Hare and the Toad Wars 111.7774&quot;,
 &#39;Alex Hirsch 111.1865&#39;,
 &#39;Michaela Dietz 107.4665&#39;,
 &#39;Sage (comics) 106.2310&#39;,
 &#39;X-Men: Evolution 106.2310&#39;,
 &#39;Unikitty! 104.4489&#39;,
 &#39;Elliott from Earth 103.1397&#39;,
 &#39;The Dark Knight Returns 101.2090&#39;,
 &#39;Action figure 101.2090&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">similar_items</span><span class="p">(</span><span class="n">t2i</span><span class="p">[</span><span class="s1">&#39;George Clooney&#39;</span><span class="p">],</span><span class="mi">20</span><span class="p">)</span>
<span class="p">[</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1"> </span><span class="si">%.4f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">i2t</span><span class="p">[</span><span class="n">ind</span><span class="p">],</span> <span class="n">score</span><span class="p">)</span> <span class="k">for</span> <span class="n">ind</span><span class="p">,</span> <span class="n">score</span> <span class="ow">in</span> <span class="n">results</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;George Clooney 397.5589&#39;,
 &#39;Leonardo DiCaprio 107.9109&#39;,
 &#39;Matt Damon 104.0771&#39;,
 &#39;The Ides of March (2011 film) 97.0278&#39;,
 &#39;Ryan Gosling 95.8138&#39;,
 &#39;Ben Affleck 92.0652&#39;,
 &#39;French Montana 89.1391&#39;,
 &#39;The Town (2010 film) 89.0408&#39;,
 &#39;Tilda Swinton 88.5061&#39;,
 &#39;Drake (musician) 88.0232&#39;,
 &#39;The Firm (1993 film) 87.0600&#39;,
 &#39;Emily Mortimer 86.4226&#39;,
 &#39;Jacqueline Bisset 83.9981&#39;,
 &#39;Pulp Fiction 82.5731&#39;,
 &#39;Alessandro Nivola 82.5252&#39;,
 &#39;Sergeant at Arms of the United States House of Representatives 82.2913&#39;,
 &#39;Jarin Blaschke 81.8214&#39;,
 &#39;Lincoln High School (Lincoln, Nebraska) 81.8181&#39;,
 &#39;Pasta maker 81.8181&#39;,
 &#39;Spires Boling 81.8181&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">similar_items</span><span class="p">(</span><span class="n">t2i</span><span class="p">[</span><span class="s1">&#39;Hamburger&#39;</span><span class="p">],</span><span class="mi">20</span><span class="p">)</span>
<span class="p">[</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1"> </span><span class="si">%.4f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">i2t</span><span class="p">[</span><span class="n">ind</span><span class="p">],</span> <span class="n">score</span><span class="p">)</span> <span class="k">for</span> <span class="n">ind</span><span class="p">,</span> <span class="n">score</span> <span class="ow">in</span> <span class="n">results</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;Hamburger 353.7146&#39;,
 &#39;Big Mac 127.4685&#39;,
 &#39;Liver and onions 102.0406&#39;,
 &quot;Potatoes O&#39;Brien 102.0406&quot;,
 &#39;Louisiana Creole cuisine 97.8882&#39;,
 &#39;Long John (doughnut) 96.9773&#39;,
 &#39;Hostess CupCake 96.9773&#39;,
 &#39;Pizza 95.4866&#39;,
 &#39;Designation of workers by collar color 91.1759&#39;,
 &#39;North Korean cuisine 88.2469&#39;,
 &#39;Hash (food) 86.8303&#39;,
 &#39;Baghaar-e-baingan 84.2800&#39;,
 &#39;Agent Orange (cocktail) 84.2800&#39;,
 &#39;Grasshopper pie 84.2800&#39;,
 &#39;Tibooburra, New South Wales 84.2321&#39;,
 &#39;Lonkero 84.2010&#39;,
 &#39;Taaborinvuori 84.0466&#39;,
 &#39;Father 83.5346&#39;,
 &#39;Sandwiches de miga 81.9828&#39;,
 &#39;Ham salad 81.9828&#39;]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">u</span> <span class="o">=</span> <span class="n">n2u</span><span class="p">[</span><span class="s2">&quot;Rama&quot;</span><span class="p">]</span>
<span class="n">recommendations</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">recommend</span><span class="p">(</span><span class="n">u2i</span><span class="p">[</span><span class="n">u</span><span class="p">],</span> <span class="n">implicit_matrix</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">),</span> <span class="n">N</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">filter_already_liked_items</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span> <span class="p">(</span><span class="s2">&quot;*&quot;</span> <span class="k">if</span> <span class="n">implicit_matrix</span><span class="p">[</span><span class="n">ind</span><span class="p">,</span><span class="n">u2i</span><span class="p">[</span><span class="n">u</span><span class="p">]]</span><span class="o">&gt;</span><span class="mi">0</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span><span class="p">)</span> <span class="o">+</span>
<span class="s1">&#39;</span><span class="si">%s</span><span class="s1"> </span><span class="si">%.4f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">i2t</span><span class="p">[</span><span class="n">ind</span><span class="p">],</span> <span class="n">score</span><span class="p">)</span> 
 <span class="k">for</span> <span class="n">ind</span><span class="p">,</span> <span class="n">score</span> <span class="ow">in</span> <span class="n">recommendations</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">([</span> <span class="n">score</span> <span class="k">for</span> <span class="n">i</span><span class="p">,(</span><span class="n">ind</span><span class="p">,</span> <span class="n">score</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">recommendations</span><span class="p">)</span> <span class="k">if</span> <span class="n">implicit_matrix</span><span class="p">[</span><span class="n">ind</span><span class="p">,</span><span class="n">u2i</span><span class="p">[</span><span class="n">u</span><span class="p">]]</span><span class="o">==</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&lt;matplotlib.lines.Line2D at 0x2ac15d0a0&gt;]
</pre></div>
</div>
<img alt="../_images/T990001_wikirecs_recommender_98_1.png" src="../_images/T990001_wikirecs_recommender_98_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">save_pickle</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="s2">&quot;b25_model.pickle&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span> <span class="o">=</span> <span class="n">load_pickle</span><span class="p">(</span><span class="s2">&quot;b25_model.pickle&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="evaluate-models">
<h2>Evaluate models<a class="headerlink" href="#evaluate-models" title="Permalink to this headline">¶</a></h2>
<div class="section" id="item-to-item-recommendation">
<h3>Item to item recommendation<a class="headerlink" href="#item-to-item-recommendation" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">similar_items</span><span class="p">(</span><span class="n">t2i</span><span class="p">[</span><span class="s1">&#39;Steven Universe&#39;</span><span class="p">],</span><span class="mi">20</span><span class="p">)</span>
<span class="p">[</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1"> </span><span class="si">%.4f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">i2t</span><span class="p">[</span><span class="n">ind</span><span class="p">],</span> <span class="n">score</span><span class="p">)</span> <span class="k">for</span> <span class="n">ind</span><span class="p">,</span> <span class="n">score</span> <span class="ow">in</span> <span class="n">results</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&#39;Steven Universe 1.0000&#39;,
 &#39;List of She-Ra and the Princesses of Power episodes 0.9472&#39;,
 &quot;To All the Boys I&#39;ve Loved Before (film series) 0.9200&quot;,
 &#39;List of Our Cartoon President episodes 0.9175&#39;,
 &#39;Buddi 0.9168&#39;,
 &#39;Talking with Chris Hardwick 0.9167&#39;,
 &#39;List of Wacky Races (2017 TV series) episodes 0.9167&#39;,
 &#39;Pacific Heat 0.9083&#39;,
 &#39;Kiznaiver 0.9039&#39;,
 &#39;List of Vampirina episodes 0.8999&#39;,
 &#39;List of Ben 10: Ultimate Alien episodes 0.8917&#39;,
 &#39;3Below: Tales of Arcadia 0.8840&#39;,
 &#39;List of Dorothy and the Wizard of Oz episodes 0.8812&#39;,
 &#39;List of Bakugan: Battle Planet episodes 0.8743&#39;,
 &#39;List of The Tom and Jerry Show (2014 TV series) episodes 0.8738&#39;,
 &#39;Adventure Time: Distant Lands 0.8704&#39;,
 &#39;List of Steven Universe episodes 0.8692&#39;,
 &#39;The Cleveland Show (season 1) 0.8632&#39;,
 &#39;Skylanders Academy 0.8623&#39;,
 &#39;List of Guardians of the Galaxy episodes 0.8620&#39;]
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="user-to-item-recommendations">
<h3>User to item recommendations<a class="headerlink" href="#user-to-item-recommendations" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Check out a specific example</span>

<span class="n">u</span> <span class="o">=</span> <span class="n">n2u</span><span class="p">[</span><span class="s2">&quot;HyprMarc&quot;</span><span class="p">]</span>

<span class="n">print_user_history</span><span class="p">(</span><span class="n">clean_histories</span><span class="p">,</span> <span class="n">userid</span><span class="o">=</span><span class="n">u</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2020-06-12
 01:59:50 Black Widow (Natasha Romanova)
 02:01:30 Vision (Marvel Comics)
 02:06:58 Loki (Marvel Cinematic Universe)
 02:08:03 Heimdall (comics)
 02:10:28 Ebony Maw
 02:12:04 Black Dwarf (comics)
 02:12:53 Proxima Midnight
 02:14:21 Corvus Glaive
 02:15:22 Proxima Midnight
 02:17:25 Black Dwarf (comics)
 02:18:42 Ebony Maw
 02:19:29 Black Dwarf (comics)
 11:08:14 Quicksilver (comics)
 11:35:03 Cosmic Cube
 11:37:46 Yondu
 11:47:11 Drax the Destroyer
 11:51:36 Carol Danvers
 12:03:58 Hela (comics)
 12:13:42 Ancient One
 12:15:24 Loki (comics)
 15:51:43 Ronan the Accuser
 15:59:43 Apocalypse (comics)
 16:02:49 Beyonder
2020-06-14
 07:15:45 Starfox (comics)
 11:47:16 Beyonder
 12:12:18 List of gemstones by species
 12:13:17 Grandidierite
 12:24:23 List of gemstones by species
2020-06-15
 05:39:01 Time dilation
 08:13:41 Silicon carbide
 08:24:59 Hope Diamond
2020-06-16
 01:30:41 Ronan the Accuser
 01:32:38 Superhuman strength
 04:18:02 Diamond
 06:26:00 White torture
 09:00:15 Psychological torture
 09:04:29 Sapphire
 09:07:42 Aggregated diamond nanorod
 09:10:08 Boron carbide
2020-06-17
 03:38:26 Boron carbide
 03:41:55 Superhard material
 04:09:02 Joe Taslim
 05:52:35 Hela (comics)
 05:58:11 Executioner (comics)
 05:59:50 Hela (comics)
 06:02:00 Heimdall (comics)
 06:14:16 Surtur (Marvel Comics)
 06:45:33 Incandescence
 08:48:03 Ronan the Accuser
 09:10:01 Celestial (comics)
 09:12:31 Omnipotence
 09:13:59 Monotheism
 09:19:53 Jean Grey
 09:21:00 Ronan the Accuser
 09:22:17 Mystique (comics)
2020-06-18
 03:13:13 Ebony Maw
 03:20:20 Sukarno
 03:22:56 Natasha Romanoff (Marvel Cinematic Universe)
 03:35:06 Carbonado
 05:37:44 Sebastian Shaw (comics)
 05:45:03 Iron Man
 05:52:13 Shuri (character)
 10:59:11 Time dilation
 11:03:54 Elementary particle
2020-06-22
 04:23:39 Flag of Indonesia
 04:26:15 United States of Indonesia
 04:27:52 Flag of Monaco
 04:30:40 Infinity Gems
2020-06-23
 00:09:07 Ronan the Accuser
 02:00:43 Superhuman strength
2020-06-25
 12:11:03 Erik Killmonger
2020-06-27
 04:01:29 Molecule Man
 04:02:53 Omnipotence
 04:06:11 Monotheism
 04:08:43 Omnipresence
 04:16:34 Beyonder
2020-06-28
 10:40:53 Beyonder
 10:45:49 Jean Grey
2020-06-29
 01:41:13 Sif (comics)
 01:42:11 Beyonder
 05:11:56 Cullinan Diamond
 05:14:22 Sergio (carbonado)
 05:20:39 Cullinan Diamond
 11:05:23 Ainan Celeste Cawley
2020-06-30
 07:19:12 Tunnel vision
 07:29:55 Virtual particle
 07:31:09 Gravitational singularity
 07:37:38 Virtual particle
 07:38:55 Tunnel vision
2020-07-01
 11:56:56 Ri Sol-ju
 14:38:30 Magneto (Marvel Comics)
2020-07-03
 11:39:27 Roche limit
 14:13:18 Ice
 14:15:12 Aggregated diamond nanorod
 14:32:34 Mohs scale of mineral hardness
2020-07-08
 04:36:04 Phoenix Force (comics)
2020-07-13
 04:10:18 Ash
2020-07-14
 02:54:26 Speed of light
2020-07-16
 03:27:08 Ian McKellen
 11:56:41 Djoko Tjandra
 12:01:22 Indonesian rupiah
 12:05:31 Martha Christina Tiahahu
 12:07:02 Pattimura
 12:08:09 Martha Christina Tiahahu
 12:10:43 Pattimura
2020-07-24
 02:01:52 Emma Frost
 03:21:23 Magneto (Marvel Comics)
2020-07-27
 05:19:46 Hela (comics)
 05:27:18 Beyonder
 05:29:15 Omnipotence
2020-08-04
 03:40:11 Doctor Manhattan
2020-08-07
 02:28:50 Magneto (Marvel Comics)
2020-08-10
 03:54:57 Lubang Buaya
2020-08-11
 04:06:28 Silver Surfer
 05:00:38 Sebastian Shaw (comics)
 13:42:01 Yondu
2020-08-15
 03:10:43 Eternity
 03:13:42 God
 03:15:34 Omnipotence
2020-08-18
 01:51:45 Sebastian Shaw (comics)
 01:55:10 Magneto (Marvel Comics)
 02:02:52 Beyonder
 02:16:23 Thanos
2020-08-19
 11:20:50 Mie ayam
2020-08-23
 09:02:31 TON 618
2020-08-26
 04:03:57 Lawang Sewu
 08:39:05 Loki (Marvel Cinematic Universe)
 09:07:12 Thor (Marvel Comics)
2020-09-02
 09:01:23 Longshot (Marvel Comics)
 15:23:03 Gambit (Marvel Comics)
2020-09-03
 01:25:14 Joker (character)
 03:24:45 Mister Fantastic
 03:27:40 Human Torch
2020-09-06
 13:37:03 Polaris (Marvel Comics)
2020-12-30
 03:08:09 Rev-9
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">u</span> <span class="o">=</span> <span class="n">n2u</span><span class="p">[</span><span class="s2">&quot;HyprMarc&quot;</span><span class="p">]</span>
<span class="n">recommendations</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">recommend</span><span class="p">(</span><span class="n">u2i</span><span class="p">[</span><span class="n">u</span><span class="p">],</span> <span class="n">implicit_matrix</span><span class="p">,</span> <span class="n">N</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">filter_already_liked_items</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span> <span class="p">(</span><span class="s2">&quot;*&quot;</span> <span class="k">if</span> <span class="n">implicit_matrix</span><span class="p">[</span><span class="n">ind</span><span class="p">,</span><span class="n">u2i</span><span class="p">[</span><span class="n">u</span><span class="p">]]</span><span class="o">&gt;</span><span class="mi">0</span> <span class="k">else</span> <span class="s2">&quot;&quot;</span><span class="p">)</span> <span class="o">+</span>
<span class="s1">&#39;</span><span class="si">%s</span><span class="s1"> </span><span class="si">%.4f</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="p">(</span><span class="n">i2t</span><span class="p">[</span><span class="n">ind</span><span class="p">],</span> <span class="n">score</span><span class="p">)</span> 
 <span class="k">for</span> <span class="n">ind</span><span class="p">,</span> <span class="n">score</span> <span class="ow">in</span> <span class="n">recommendations</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="visualize-implicit-embeddings">
<h2>Visualize implicit embeddings<a class="headerlink" href="#visualize-implicit-embeddings" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model</span> <span class="o">=</span> <span class="n">load_pickle</span><span class="p">(</span><span class="s1">&#39;als150_model.pickle&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Only plot the ones with over 3 entries</span>
<span class="n">indices</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">squeeze</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">implicit_matrix</span><span class="p">[</span><span class="n">nonzero</span><span class="p">,:],</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)))</span> <span class="o">&gt;</span> <span class="mi">3</span>

<span class="n">indices</span> <span class="o">=</span> <span class="n">nonzero</span><span class="p">[</span><span class="n">indices</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">indices</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>21658
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Visualize  the collaborative filtering item vectors, embedding into 2D space with UMAP</span>
<span class="c1"># nonzero = np.flatnonzero(implicit_matrix.sum(axis=1))</span>
<span class="c1"># indices = nonzero[::100]</span>
<span class="n">embedding</span> <span class="o">=</span> <span class="n">umap</span><span class="o">.</span><span class="n">UMAP</span><span class="p">()</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">item_factors</span><span class="p">[</span><span class="n">indices</span><span class="p">,:])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">embedding</span><span class="p">[:,</span><span class="mi">0</span><span class="p">],</span> <span class="n">embedding</span><span class="p">[:,</span><span class="mi">1</span><span class="p">],</span><span class="s1">&#39;.&#39;</span><span class="p">)</span>
<span class="c1"># _ = plt.axis(&#39;square&#39;)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[&lt;matplotlib.lines.Line2D at 0x1fcf08220&gt;]
</pre></div>
</div>
<img alt="../_images/T990001_wikirecs_recommender_113_1.png" src="../_images/T990001_wikirecs_recommender_113_1.png" />
</div>
</div>
<div class="section" id="visualize-actors-in-the-embeddings-space">
<h3>Visualize actors in the embeddings space<a class="headerlink" href="#visualize-actors-in-the-embeddings-space" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">edit_counts</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">squeeze</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">implicit_matrix</span><span class="p">[</span><span class="n">indices</span><span class="p">,:],</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)))</span>
<span class="n">log_edit_counts</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">squeeze</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">implicit_matrix</span><span class="p">[</span><span class="n">indices</span><span class="p">,:],</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">))))</span>

<span class="n">emb_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;dim1&#39;</span><span class="p">:</span><span class="n">embedding</span><span class="p">[:,</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">squeeze</span><span class="p">(),</span> 
                       <span class="s1">&#39;dim2&#39;</span><span class="p">:</span><span class="n">embedding</span><span class="p">[:,</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">squeeze</span><span class="p">(),</span>
                       <span class="s1">&#39;title&#39;</span><span class="p">:[</span><span class="n">i2t</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">indices</span><span class="p">],</span>
                       <span class="s1">&#39;edit_count&#39;</span><span class="p">:</span><span class="n">edit_counts</span><span class="p">,</span>
                       <span class="s1">&#39;log_edit_count&#39;</span><span class="p">:</span><span class="n">log_edit_counts</span>
                       <span class="p">})</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">actors</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Mark Hamill&#39;</span><span class="p">,</span>
<span class="s1">&#39;Carrie Fisher&#39;</span><span class="p">,</span>
<span class="s1">&#39;James Earl Jones&#39;</span><span class="p">,</span>
<span class="s1">&#39;David Prowse&#39;</span><span class="p">,</span>
<span class="s1">&#39;Sebastian Shaw (actor)&#39;</span><span class="p">,</span>
<span class="s1">&#39;Alec Guinness&#39;</span><span class="p">,</span>
<span class="s1">&#39;Jake Lloyd&#39;</span><span class="p">,</span>
<span class="s1">&#39;Hayden Christensen&#39;</span><span class="p">,</span>
<span class="s1">&#39;Ewan McGregor&#39;</span><span class="p">,</span>
<span class="s1">&#39;William Shatner&#39;</span><span class="p">,</span>
<span class="s1">&#39;Leonard Nimoy&#39;</span><span class="p">,</span>
<span class="s1">&#39;DeForest Kelley&#39;</span><span class="p">,</span>
<span class="s1">&#39;James Doohan&#39;</span><span class="p">,</span>
<span class="s1">&#39;George Takei&#39;</span><span class="p">]</span>
<span class="n">actor_indices</span> <span class="o">=</span> <span class="p">[</span><span class="n">t2i</span><span class="p">[</span><span class="n">a</span><span class="p">]</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">actors</span><span class="p">]</span>
<span class="n">edit_counts</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">squeeze</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">implicit_matrix</span><span class="p">[</span><span class="n">actor_indices</span><span class="p">,:],</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)))</span>
<span class="n">log_edit_counts</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">squeeze</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">implicit_matrix</span><span class="p">[</span><span class="n">actor_indices</span><span class="p">,:],</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">))))</span>
<span class="n">embedding</span> <span class="o">=</span> <span class="n">umap</span><span class="o">.</span><span class="n">UMAP</span><span class="p">()</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">item_factors</span><span class="p">[</span><span class="n">actor_indices</span><span class="p">,:])</span>
<span class="n">emb_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;dim1&#39;</span><span class="p">:</span><span class="n">embedding</span><span class="p">[:,</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">squeeze</span><span class="p">(),</span> 
                       <span class="s1">&#39;dim2&#39;</span><span class="p">:</span><span class="n">embedding</span><span class="p">[:,</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">squeeze</span><span class="p">(),</span>
                       <span class="s1">&#39;title&#39;</span><span class="p">:[</span><span class="n">i2t</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">actor_indices</span><span class="p">],</span>
                       <span class="s1">&#39;edit_count&#39;</span><span class="p">:</span><span class="n">edit_counts</span><span class="p">,</span>
                       <span class="s1">&#39;log_edit_count&#39;</span><span class="p">:</span><span class="n">log_edit_counts</span>
                       <span class="p">})</span>
<span class="n">key</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">actors</span><span class="p">))</span>
<span class="n">key</span><span class="p">[:</span><span class="mi">8</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">data_frame</span><span class="o">=</span><span class="n">emb_df</span><span class="p">,</span>
                 <span class="n">x</span><span class="o">=</span><span class="s1">&#39;dim1&#39;</span><span class="p">,</span>
                 <span class="n">y</span><span class="o">=</span><span class="s1">&#39;dim2&#39;</span><span class="p">,</span> 
                 <span class="n">hover_name</span><span class="o">=</span><span class="s1">&#39;title&#39;</span><span class="p">,</span>
                 <span class="n">color</span><span class="o">=</span><span class="n">key</span><span class="p">,</span>
                 <span class="n">hover_data</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;edit_count&#39;</span><span class="p">])</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
    <span class="n">autosize</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">width</span><span class="o">=</span><span class="mi">600</span><span class="p">,</span>
    <span class="n">height</span><span class="o">=</span><span class="mi">600</span><span class="p">,)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Full embedding plotly interactive visualization</span>

<span class="n">emb_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;dim1&#39;</span><span class="p">:</span><span class="n">embedding</span><span class="p">[:,</span><span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">squeeze</span><span class="p">(),</span> 
                       <span class="s1">&#39;dim2&#39;</span><span class="p">:</span><span class="n">embedding</span><span class="p">[:,</span><span class="mi">1</span><span class="p">]</span><span class="o">.</span><span class="n">squeeze</span><span class="p">(),</span>
                       <span class="s1">&#39;title&#39;</span><span class="p">:[</span><span class="n">i2t</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">indices</span><span class="p">],</span>
                       <span class="s1">&#39;edit_count&#39;</span><span class="p">:</span><span class="n">edit_counts</span><span class="p">,</span>
                       <span class="s1">&#39;log_edit_count&#39;</span><span class="p">:</span><span class="n">log_edit_counts</span>
                       <span class="p">})</span>

<span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">data_frame</span><span class="o">=</span><span class="n">emb_df</span><span class="p">,</span>
                 <span class="n">x</span><span class="o">=</span><span class="s1">&#39;dim1&#39;</span><span class="p">,</span>
                 <span class="n">y</span><span class="o">=</span><span class="s1">&#39;dim2&#39;</span><span class="p">,</span> 
                 <span class="n">hover_name</span><span class="o">=</span><span class="s1">&#39;title&#39;</span><span class="p">,</span>
                 <span class="n">color</span><span class="o">=</span><span class="s1">&#39;log_edit_count&#39;</span><span class="p">,</span>
                 <span class="n">hover_data</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;edit_count&#39;</span><span class="p">])</span>
<span class="n">fig</span><span class="o">.</span><span class="n">update_layout</span><span class="p">(</span>
    <span class="n">autosize</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="n">width</span><span class="o">=</span><span class="mi">600</span><span class="p">,</span>
    <span class="n">height</span><span class="o">=</span><span class="mi">600</span><span class="p">,)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="evaluate-on-test-set">
<h2>Evaluate on test set<a class="headerlink" href="#evaluate-on-test-set" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Load the edit histories in the training set and the test set</span>
<span class="n">histories_train</span> <span class="o">=</span> <span class="n">feather</span><span class="o">.</span><span class="n">read_feather</span><span class="p">(</span><span class="s1">&#39;histories_train_2021-05-28.feather&#39;</span><span class="p">)</span>
<span class="n">histories_test</span> <span class="o">=</span> <span class="n">feather</span><span class="o">.</span><span class="n">read_feather</span><span class="p">(</span><span class="s1">&#39;histories_test_2021-05-28.feather&#39;</span><span class="p">)</span>
<span class="n">histories_dev</span> <span class="o">=</span> <span class="n">feather</span><span class="o">.</span><span class="n">read_feather</span><span class="p">(</span><span class="s1">&#39;histories_dev_2021-05-28.feather&#39;</span><span class="p">)</span>

<span class="n">implicit_matrix</span> <span class="o">=</span> <span class="n">wr</span><span class="o">.</span><span class="n">load_pickle</span><span class="p">(</span><span class="s1">&#39;implicit_matrix_2021-05-28.pickle&#39;</span><span class="p">)</span>
<span class="n">p2t</span><span class="p">,</span> <span class="n">t2p</span><span class="p">,</span> <span class="n">u2n</span><span class="p">,</span> <span class="n">n2u</span><span class="p">,</span> <span class="n">p2i</span><span class="p">,</span> <span class="n">u2i</span><span class="p">,</span> <span class="n">i2p</span><span class="p">,</span> <span class="n">i2u</span><span class="p">,</span> <span class="n">n2i</span><span class="p">,</span> <span class="n">t2i</span><span class="p">,</span> <span class="n">i2n</span><span class="p">,</span> <span class="n">i2t</span> <span class="o">=</span> <span class="n">wr</span><span class="o">.</span><span class="n">load_pickle</span><span class="p">(</span><span class="s1">&#39;lookup_tables_2021-05-28.pickle&#39;</span><span class="p">)</span>

<span class="n">userids</span><span class="p">,</span> <span class="n">pageids</span> <span class="o">=</span> <span class="n">wr</span><span class="o">.</span><span class="n">load_pickle</span><span class="p">(</span><span class="s1">&#39;users_and_pages_2021-05-28.pickle&#39;</span><span class="p">)</span>

<span class="n">resurface_userids</span><span class="p">,</span> <span class="n">discovery_userids</span>   <span class="o">=</span> <span class="n">wr</span><span class="o">.</span><span class="n">load_pickle</span><span class="p">(</span><span class="s1">&#39;resurface_discovery_users_2021-05-28.pickle&#39;</span><span class="p">)</span>

<span class="n">results</span> <span class="o">=</span> <span class="p">{}</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">display_recs_with_history</span><span class="p">(</span>
    <span class="n">recs</span><span class="p">,</span>
    <span class="n">userids</span><span class="p">[:</span><span class="mi">100</span><span class="p">],</span>
    <span class="n">histories_test</span><span class="p">,</span>
    <span class="n">histories_train</span><span class="p">,</span>
    <span class="n">p2t</span><span class="p">,</span>
    <span class="n">u2n</span><span class="p">,</span>
    <span class="n">recs_to_display</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
    <span class="n">hist_to_display</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>AxelBoldt</th>
      <th>Berek</th>
      <th>RobLa</th>
      <th>LA2</th>
      <th>Shsilver</th>
      <th>Rmhermen</th>
      <th>Ray Van De Walker</th>
      <th>SimonP</th>
      <th>Maury Markowitz</th>
      <th>ASchoenhofer</th>
      <th>...</th>
      <th>SchmuckyTheCat</th>
      <th>Meelar</th>
      <th>Auric</th>
      <th>Gidonb</th>
      <th>ClemRutter</th>
      <th>Caknuck</th>
      <th>Bkell</th>
      <th>Paul G</th>
      <th>Mervyn</th>
      <th>Sheridan</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>True value</th>
      <td>Ulm Minster</td>
      <td>Exterior calculus</td>
      <td>Civil Rights Act of 1964</td>
      <td>Flax</td>
      <td>David Britton</td>
      <td>Paradise, Kentucky</td>
      <td>IPHWR-700</td>
      <td>St. Frances Cabrini Church (New Orleans)</td>
      <td>Plessey AR-320</td>
      <td>Facility location (competitive game)</td>
      <td>...</td>
      <td>List of politicians of Chinese descent</td>
      <td>Maino De Maineri</td>
      <td>Kavya Madhavan</td>
      <td>Arabs in the Netherlands</td>
      <td>Goodwin Academy</td>
      <td>List of Pro Bowl players, A</td>
      <td>History of Pennsylvania</td>
      <td>Diwakar Vaish</td>
      <td>Manhattan Transfer (novel)</td>
      <td>Lego Star Wars</td>
    </tr>
    <tr>
      <th>Rec 1</th>
      <td>Girolamo Savonarola</td>
      <td>2020 Bangladesh Election Commission scandal</td>
      <td>Civil Rights Act of 1964</td>
      <td>Elmer William Engstrom</td>
      <td>Jorie Remus</td>
      <td>Ade (drink suffix)</td>
      <td>Carl Icahn</td>
      <td>Oblate Youth Australia</td>
      <td>Plessey AR-3D</td>
      <td>Flying Bulgar Klezmer Band</td>
      <td>...</td>
      <td>List of politicians of Chinese descent</td>
      <td>Alec Baldwin</td>
      <td>COVID-19 pandemic lockdown in India</td>
      <td>Chris Arlman</td>
      <td>Goodwin Academy</td>
      <td>List of Pro Bowl players, B</td>
      <td>Pennsylvania Canal</td>
      <td>Poorvi Koutish</td>
      <td>Geographical indications and traditional speci...</td>
      <td>Open-pit mining</td>
    </tr>
    <tr>
      <th>Rec 2</th>
      <td>CoronaVac</td>
      <td>Kepler-533</td>
      <td>Student Nonviolent Coordinating Committee</td>
      <td>Sidney Low</td>
      <td>Leonard B. Stern</td>
      <td>Here Comes Santa Claus</td>
      <td>Motorola</td>
      <td>Nepsa</td>
      <td>1948 Airborne Transport DC-3 disappearance</td>
      <td>The Terminator</td>
      <td>...</td>
      <td>Windows 7</td>
      <td>Central Park</td>
      <td>Hongqi (marque)</td>
      <td>Claudia Florentino</td>
      <td>Bob Burden (academic)</td>
      <td>List of Pro Bowl players, C–F</td>
      <td>New Orleans (steamboat)</td>
      <td>Eric Jokisch</td>
      <td>Operation Brock</td>
      <td>Northgate High School, Ipswich</td>
    </tr>
    <tr>
      <th>Rec 3</th>
      <td>Blackbird (land yacht)</td>
      <td>Next Indian general election in Gujarat</td>
      <td>Leesburg Stockade</td>
      <td>Living Lutheran</td>
      <td>List of Worldcons</td>
      <td>General Tso's chicken</td>
      <td>Universal asynchronous receiver-transmitter</td>
      <td>Giovanni Mossi</td>
      <td>Micralign</td>
      <td>Active users</td>
      <td>...</td>
      <td>Noah</td>
      <td>Strip club</td>
      <td>Water security</td>
      <td>Kyrylo Kryvoborodenko</td>
      <td>Thinking Schools Academy Trust</td>
      <td>List of Pro Bowl players, G–H</td>
      <td>Buger</td>
      <td>Robert M. Schoch</td>
      <td>Juan García Esquivel</td>
      <td>Comparison of Star Trek and Star Wars</td>
    </tr>
    <tr>
      <th>Rec 4</th>
      <td>Allium ursinum</td>
      <td>Madhava Varma II</td>
      <td>John Lewis</td>
      <td>Esperance Stonehenge</td>
      <td>Mata Hari</td>
      <td>Remilitarization of the Rhineland</td>
      <td>Phalanx</td>
      <td>Mehrshahr</td>
      <td>MOS Technology 6502</td>
      <td>COVID-19 vaccine</td>
      <td>...</td>
      <td>List of time zones by country</td>
      <td>Robert Rietti</td>
      <td>Winged football helmet</td>
      <td>KingFut</td>
      <td>Holcombe Grammar School</td>
      <td>List of Pro Bowl players, I–K</td>
      <td>Airplane!</td>
      <td>List of Harry Potter cast members</td>
      <td>Siamese cat</td>
      <td>List of dams and reservoirs in the United Kingdom</td>
    </tr>
    <tr>
      <th>Rec 5</th>
      <td>Monocotyledon</td>
      <td>Fairness for High Skilled Immigrants Act</td>
      <td>West Seattle Bridge</td>
      <td>Alice Tegnér</td>
      <td>Galgano Guidotti</td>
      <td>Popcorn chicken</td>
      <td>Combined cycle power plant</td>
      <td>Marv Albert Show</td>
      <td>Fairchild 9440</td>
      <td>Parasite (2019 film)</td>
      <td>...</td>
      <td>Microsoft ergonomic keyboards</td>
      <td>Nathan Barksdale</td>
      <td>Yimakh shemo</td>
      <td>Louis-Édouard Glackmeyer</td>
      <td>Thinking School</td>
      <td>List of Pro Bowl players, L–M</td>
      <td>Prison</td>
      <td>Marjorie Welish</td>
      <td>Claude Nicolas Ledoux</td>
      <td>Wong Kei</td>
    </tr>
    <tr>
      <th>-</th>
      <td>----------</td>
      <td>----------</td>
      <td>----------</td>
      <td>----------</td>
      <td>----------</td>
      <td>----------</td>
      <td>----------</td>
      <td>----------</td>
      <td>----------</td>
      <td>----------</td>
      <td>...</td>
      <td>----------</td>
      <td>----------</td>
      <td>----------</td>
      <td>----------</td>
      <td>----------</td>
      <td>----------</td>
      <td>----------</td>
      <td>----------</td>
      <td>----------</td>
      <td>----------</td>
    </tr>
    <tr>
      <th>Hist 1</th>
      <td>Girolamo Savonarola</td>
      <td>2020 Bangladesh Election Commission scandal</td>
      <td>Civil Rights Act of 1964</td>
      <td>Elmer William Engstrom</td>
      <td>Jorie Remus</td>
      <td>Ade (drink suffix)</td>
      <td>Carl Icahn</td>
      <td>Oblate Youth Australia</td>
      <td>Plessey AR-3D</td>
      <td>Flying Bulgar Klezmer Band</td>
      <td>...</td>
      <td>List of politicians of Chinese descent</td>
      <td>Alec Baldwin</td>
      <td>COVID-19 pandemic lockdown in India</td>
      <td>Chris Arlman</td>
      <td>Goodwin Academy</td>
      <td>List of Pro Bowl players, B</td>
      <td>Pennsylvania Canal</td>
      <td>Poorvi Koutish</td>
      <td>Geographical indications and traditional speci...</td>
      <td>Open-pit mining</td>
    </tr>
    <tr>
      <th>Hist 2</th>
      <td>CoronaVac</td>
      <td>Kepler-533</td>
      <td>Student Nonviolent Coordinating Committee</td>
      <td>Sidney Low</td>
      <td>Jorie Remus</td>
      <td>Here Comes Santa Claus</td>
      <td>Motorola</td>
      <td>Nepsa</td>
      <td>1948 Airborne Transport DC-3 disappearance</td>
      <td>The Terminator</td>
      <td>...</td>
      <td>List of politicians of Chinese descent</td>
      <td>Central Park</td>
      <td>Hongqi (marque)</td>
      <td>Chris Arlman</td>
      <td>Goodwin Academy</td>
      <td>List of Pro Bowl players, C–F</td>
      <td>New Orleans (steamboat)</td>
      <td>Eric Jokisch</td>
      <td>Operation Brock</td>
      <td>Northgate High School, Ipswich</td>
    </tr>
    <tr>
      <th>Hist 3</th>
      <td>Blackbird (land yacht)</td>
      <td>Kepler-533</td>
      <td>Student Nonviolent Coordinating Committee</td>
      <td>Living Lutheran</td>
      <td>Leonard B. Stern</td>
      <td>General Tso's chicken</td>
      <td>Motorola</td>
      <td>Giovanni Mossi</td>
      <td>Micralign</td>
      <td>Active users</td>
      <td>...</td>
      <td>Windows 7</td>
      <td>Strip club</td>
      <td>Water security</td>
      <td>Claudia Florentino</td>
      <td>Goodwin Academy</td>
      <td>List of Pro Bowl players, G–H</td>
      <td>Buger</td>
      <td>Robert M. Schoch</td>
      <td>Operation Brock</td>
      <td>Comparison of Star Trek and Star Wars</td>
    </tr>
    <tr>
      <th>Hist 4</th>
      <td>Blackbird (land yacht)</td>
      <td>Kepler-533</td>
      <td>Civil Rights Act of 1964</td>
      <td>Esperance Stonehenge</td>
      <td>List of Worldcons</td>
      <td>Remilitarization of the Rhineland</td>
      <td>Universal asynchronous receiver-transmitter</td>
      <td>Mehrshahr</td>
      <td>MOS Technology 6502</td>
      <td>Active users</td>
      <td>...</td>
      <td>Noah</td>
      <td>Robert Rietti</td>
      <td>Winged football helmet</td>
      <td>Kyrylo Kryvoborodenko</td>
      <td>Goodwin Academy</td>
      <td>List of Pro Bowl players, I–K</td>
      <td>Airplane!</td>
      <td>List of Harry Potter cast members</td>
      <td>Juan García Esquivel</td>
      <td>Comparison of Star Trek and Star Wars</td>
    </tr>
    <tr>
      <th>Hist 5</th>
      <td>Allium ursinum</td>
      <td>Next Indian general election in Gujarat</td>
      <td>Leesburg Stockade</td>
      <td>Alice Tegnér</td>
      <td>Mata Hari</td>
      <td>Popcorn chicken</td>
      <td>Universal asynchronous receiver-transmitter</td>
      <td>Marv Albert Show</td>
      <td>MOS Technology 6502</td>
      <td>-</td>
      <td>...</td>
      <td>List of time zones by country</td>
      <td>Nathan Barksdale</td>
      <td>Winged football helmet</td>
      <td>KingFut</td>
      <td>Goodwin Academy</td>
      <td>List of Pro Bowl players, L–M</td>
      <td>Prison</td>
      <td>Marjorie Welish</td>
      <td>Juan García Esquivel</td>
      <td>List of dams and reservoirs in the United Kingdom</td>
    </tr>
    <tr>
      <th>Hist 6</th>
      <td>Monocotyledon</td>
      <td>Madhava Varma II</td>
      <td>Student Nonviolent Coordinating Committee</td>
      <td>Baa, Baa, Black Sheep</td>
      <td>Mata Hari</td>
      <td>Popcorn chicken</td>
      <td>Universal asynchronous receiver-transmitter</td>
      <td>Thomas Joel Maloy</td>
      <td>Fairchild 9440</td>
      <td>-</td>
      <td>...</td>
      <td>Microsoft ergonomic keyboards</td>
      <td>Minden, Nevada</td>
      <td>Winged football helmet</td>
      <td>Louis-Édouard Glackmeyer</td>
      <td>Goodwin Academy</td>
      <td>List of Pro Bowl players, L–M</td>
      <td>Prison</td>
      <td>Martha L. Moore-Keish</td>
      <td>Juan García Esquivel</td>
      <td>Wong Kei</td>
    </tr>
    <tr>
      <th>Hist 7</th>
      <td>Tumor necrosis factor</td>
      <td>Fairness for High Skilled Immigrants Act</td>
      <td>Student Nonviolent Coordinating Committee</td>
      <td>Top of the World (The Carpenters song)</td>
      <td>Galgano Guidotti</td>
      <td>Unification of Norway</td>
      <td>Universal asynchronous receiver-transmitter</td>
      <td>Maître à penser</td>
      <td>National Semiconductor SC/MP</td>
      <td>-</td>
      <td>...</td>
      <td>Twilight: 2000</td>
      <td>Gotham Knights (video game)</td>
      <td>Yimakh shemo</td>
      <td>Louis-Édouard Glackmeyer</td>
      <td>Goodwin Academy</td>
      <td>List of Pro Bowl players, N–R</td>
      <td>Latin America</td>
      <td>Alex Stalock</td>
      <td>Siamese cat</td>
      <td>Lee Ho Fook</td>
    </tr>
    <tr>
      <th>Hist 8</th>
      <td>Tumor necrosis factor</td>
      <td>Eristalinus tabanoides</td>
      <td>Student Nonviolent Coordinating Committee</td>
      <td>Malmfälten</td>
      <td>Phyllis Eisenstein</td>
      <td>Bush shoeing incident</td>
      <td>Universal asynchronous receiver-transmitter</td>
      <td>Matthew 5:14</td>
      <td>National Semiconductor SC/MP</td>
      <td>-</td>
      <td>...</td>
      <td>Cruella de Vil</td>
      <td>Gotham Knights (video game)</td>
      <td>Yimakh shemo</td>
      <td>Louis-Édouard Glackmeyer</td>
      <td>Goodwin Academy</td>
      <td>List of Pro Bowl players, N–R</td>
      <td>Port of Giurgiulești</td>
      <td>Fuzigish</td>
      <td>Claude Nicolas Ledoux</td>
      <td>Lee Ho Fook</td>
    </tr>
    <tr>
      <th>Hist 9</th>
      <td>Ernst Jünger</td>
      <td>Eristalinus tabanoides</td>
      <td>John Lewis</td>
      <td>Tartu</td>
      <td>Phyllis Eisenstein</td>
      <td>List of unsuccessful terrorist plots in the Un...</td>
      <td>Universal asynchronous receiver-transmitter</td>
      <td>Lo Bartolo</td>
      <td>National Semiconductor SC/MP</td>
      <td>-</td>
      <td>...</td>
      <td>Terra nullius</td>
      <td>Branko Ružić (sculptor)</td>
      <td>World's End Murders</td>
      <td>Louis-Édouard Glackmeyer</td>
      <td>Goodwin Academy</td>
      <td>List of Pro Bowl players, S–V</td>
      <td>Ship</td>
      <td>Scott Koblish</td>
      <td>Sevington</td>
      <td>Lee Ho Fook</td>
    </tr>
    <tr>
      <th>Hist 10</th>
      <td>Empedocles</td>
      <td>Eristalinus tabanoides</td>
      <td>Student Nonviolent Coordinating Committee</td>
      <td>Youth for Christ</td>
      <td>Redd Foxx</td>
      <td>Norway</td>
      <td>Universal asynchronous receiver-transmitter</td>
      <td>Large-group communication</td>
      <td>Fairchild F8</td>
      <td>-</td>
      <td>...</td>
      <td>List of sovereign states and dependent territo...</td>
      <td>Franz Joseph Gall</td>
      <td>World's End Murders</td>
      <td>Yesh Atid</td>
      <td>Goodwin Academy</td>
      <td>List of Pro Bowl players, S–V</td>
      <td>Contrecœur (disambiguation)</td>
      <td>DJ Subroc</td>
      <td>Siamese cat</td>
      <td>Lee Ho Fook</td>
    </tr>
  </tbody>
</table>
<p>17 rows × 100 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">utils</span> <span class="k">as</span> <span class="nn">wr</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">from</span> <span class="nn">tqdm.auto</span> <span class="kn">import</span> <span class="n">tqdm</span>
<span class="kn">import</span> <span class="nn">itertools</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>
<span class="kn">from</span> <span class="nn">implicit.nearest_neighbours</span> <span class="kn">import</span> <span class="n">BM25Recommender</span>


<span class="k">class</span> <span class="nc">Recommender</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span>

    <span class="k">def</span> <span class="nf">recommend</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">userid</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">username</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">N</span><span class="o">=</span><span class="mi">10</span><span class="p">):</span>
        <span class="k">raise</span> <span class="ne">NotImplementedError</span>

    <span class="k">def</span> <span class="nf">recommend_all</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">userids</span><span class="p">,</span> <span class="n">num_recs</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">):</span>
        <span class="n">recs</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">with</span> <span class="n">tqdm</span><span class="p">(</span><span class="n">total</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">userids</span><span class="p">),</span> <span class="n">leave</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="k">as</span> <span class="n">progress</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">u</span> <span class="ow">in</span> <span class="n">userids</span><span class="p">:</span>
                <span class="n">recs</span><span class="p">[</span><span class="n">u</span><span class="p">]</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">recommend</span><span class="p">(</span><span class="n">userid</span><span class="o">=</span><span class="n">u</span><span class="p">,</span> <span class="n">N</span><span class="o">=</span><span class="n">num_recs</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span>
                <span class="n">progress</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">recs</span>


<span class="k">class</span> <span class="nc">PopularityRecommender</span><span class="p">(</span><span class="n">Recommender</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">interactions</span><span class="p">):</span>
        <span class="k">with</span> <span class="n">wr</span><span class="o">.</span><span class="n">Timer</span><span class="p">(</span><span class="s2">&quot;Building popularity table&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">editors_per_page</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">interactions</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;TITLE&quot;</span><span class="p">,</span> <span class="s2">&quot;USER&quot;</span><span class="p">])</span>
                <span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;ITEMID&quot;</span><span class="p">,</span> <span class="s2">&quot;TITLE&quot;</span><span class="p">])</span>
                <span class="o">.</span><span class="n">count</span><span class="p">()</span>
                <span class="o">.</span><span class="n">USER</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">recommend</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">N</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">userid</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">editors_per_page</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="n">N</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">get_level_values</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">values</span>


<span class="k">class</span> <span class="nc">MostRecentRecommender</span><span class="p">(</span><span class="n">Recommender</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Recommend the most recently edited pages by the user in reverse chronological</span>
<span class="sd">    order. When those run out, go to most popular</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">interactions</span><span class="p">):</span>
        <span class="k">with</span> <span class="n">wr</span><span class="o">.</span><span class="n">Timer</span><span class="p">(</span><span class="s2">&quot;Building popularity table&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">editors_per_page</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">interactions</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;TITLE&quot;</span><span class="p">,</span> <span class="s2">&quot;USER&quot;</span><span class="p">])</span>
                <span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;ITEMID&quot;</span><span class="p">,</span> <span class="s2">&quot;TITLE&quot;</span><span class="p">])</span>
                <span class="o">.</span><span class="n">count</span><span class="p">()</span>
                <span class="o">.</span><span class="n">USER</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">all_recent_only</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">N</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">userids</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">interactions</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="n">recents</span> <span class="o">=</span> <span class="p">{}</span>

        <span class="k">with</span> <span class="n">tqdm</span><span class="p">(</span><span class="n">total</span><span class="o">=</span><span class="nb">len</span><span class="p">(</span><span class="n">userids</span><span class="p">),</span> <span class="n">leave</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span> <span class="k">as</span> <span class="n">progress</span><span class="p">:</span>
            <span class="k">for</span> <span class="n">u</span> <span class="ow">in</span> <span class="n">userids</span><span class="p">:</span>
                <span class="n">is_user_row</span> <span class="o">=</span> <span class="n">interactions</span><span class="o">.</span><span class="n">USERID</span> <span class="o">==</span> <span class="n">u</span>
                <span class="n">recents</span><span class="p">[</span><span class="n">u</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span>
                    <span class="n">interactions</span><span class="p">[</span><span class="n">is_user_row</span><span class="p">]</span>
                    <span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;ITEMID&quot;</span><span class="p">])</span>
                    <span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="n">N</span><span class="p">]</span>
                    <span class="o">.</span><span class="n">ITEMID</span><span class="o">.</span><span class="n">values</span>
                <span class="p">)</span>
                <span class="n">progress</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">recents</span>

    <span class="k">def</span> <span class="nf">recommend</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">N</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">userid</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">interactions</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">user</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">is_user_row</span> <span class="o">=</span> <span class="n">interactions</span><span class="o">.</span><span class="n">user</span> <span class="o">==</span> <span class="n">user</span>
        <span class="k">elif</span> <span class="n">userid</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">is_user_row</span> <span class="o">=</span> <span class="n">interactions</span><span class="o">.</span><span class="n">USERID</span> <span class="o">==</span> <span class="n">userid</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Either user or userid must be non-null&quot;</span><span class="p">)</span>

        <span class="n">deduped_pages</span> <span class="o">=</span> <span class="n">interactions</span><span class="p">[</span><span class="n">is_user_row</span><span class="p">]</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;pageid&quot;</span><span class="p">])</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">deduped_pages</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="n">recs</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="c1"># Don&#39;t take the most recent, because this dataset strips out repeated instance</span>
            <span class="n">recs</span> <span class="o">=</span> <span class="n">deduped_pages</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="mi">1</span><span class="p">:</span><span class="n">N</span><span class="p">]</span><span class="o">.</span><span class="n">pageid</span><span class="o">.</span><span class="n">values</span>

        <span class="c1"># If we&#39;ve run out of recs, fill the rest with the most popular entries</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">recs</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">N</span><span class="p">:</span>
            <span class="n">recs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">(</span>
                <span class="p">[</span>
                    <span class="n">recs</span><span class="p">,</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">editors_per_page</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span> <span class="p">(</span><span class="n">N</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">recs</span><span class="p">))]</span>
                    <span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">get_level_values</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">values</span><span class="p">,</span>
                <span class="p">]</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="n">recs</span>


<span class="k">class</span> <span class="nc">MostFrequentRecommender</span><span class="p">(</span><span class="n">Recommender</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Recommend the most frequently edited pages by the user. When those run out, go to most popular</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">interactions</span><span class="p">):</span>
        <span class="k">with</span> <span class="n">wr</span><span class="o">.</span><span class="n">Timer</span><span class="p">(</span><span class="s2">&quot;Building popularity table&quot;</span><span class="p">):</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">editors_per_page</span> <span class="o">=</span> <span class="p">(</span>
                <span class="n">interactions</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;TITLE&quot;</span><span class="p">,</span> <span class="s2">&quot;USER&quot;</span><span class="p">])</span>
                <span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s2">&quot;pageid&quot;</span><span class="p">,</span> <span class="s2">&quot;title&quot;</span><span class="p">])</span>
                <span class="o">.</span><span class="n">count</span><span class="p">()</span>
                <span class="o">.</span><span class="n">USER</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
            <span class="p">)</span>

    <span class="k">def</span> <span class="nf">recommend</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">N</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">userid</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">user</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">interactions</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">user</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">is_user_row</span> <span class="o">=</span> <span class="n">interactions</span><span class="o">.</span><span class="n">USER</span> <span class="o">==</span> <span class="n">user</span>
        <span class="k">elif</span> <span class="n">userid</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">is_user_row</span> <span class="o">=</span> <span class="n">interactions</span><span class="o">.</span><span class="n">ITEMID</span> <span class="o">==</span> <span class="n">userid</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Either user or userid must be non-null&quot;</span><span class="p">)</span>

        <span class="n">recs</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">interactions</span><span class="p">[</span><span class="n">is_user_row</span><span class="p">]</span>
            <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;ITEMID&quot;</span><span class="p">)</span>
            <span class="o">.</span><span class="n">USER</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>
            <span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
            <span class="o">.</span><span class="n">index</span><span class="p">[:</span><span class="n">N</span><span class="p">]</span>
            <span class="o">.</span><span class="n">values</span>
        <span class="p">)</span>

        <span class="c1"># If we&#39;ve run out of recs, fill the rest with the most popular entries</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">recs</span><span class="p">)</span> <span class="o">&lt;</span> <span class="n">N</span><span class="p">:</span>
            <span class="n">recs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">concatenate</span><span class="p">(</span>
                <span class="p">[</span>
                    <span class="n">recs</span><span class="p">,</span>
                    <span class="bp">self</span><span class="o">.</span><span class="n">editors_per_page</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span> <span class="p">(</span><span class="n">N</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">recs</span><span class="p">))]</span>
                    <span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">get_level_values</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
                    <span class="o">.</span><span class="n">values</span><span class="p">,</span>
                <span class="p">]</span>
            <span class="p">)</span>
        <span class="k">return</span> <span class="n">recs</span>


<span class="k">class</span> <span class="nc">ImplicitCollaborativeRecommender</span><span class="p">(</span><span class="n">Recommender</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">implicit_matrix</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">model</span> <span class="o">=</span> <span class="n">model</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">implicit_matrix</span> <span class="o">=</span> <span class="n">implicit_matrix</span>

    <span class="k">def</span> <span class="nf">recommend</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">N</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
        <span class="n">userid</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">user</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">u2i</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">n2i</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">i2p</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">filter_already_liked_items</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="k">if</span> <span class="n">user</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">user_index</span> <span class="o">=</span> <span class="n">n2i</span><span class="p">[</span><span class="n">user</span><span class="p">]</span>
        <span class="k">elif</span> <span class="n">userid</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">user_index</span> <span class="o">=</span> <span class="n">u2i</span><span class="p">[</span><span class="n">userid</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Either user or userid must be non-null&quot;</span><span class="p">)</span>

        <span class="n">recs_indices</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">recommend</span><span class="p">(</span>
            <span class="n">user_index</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">implicit_matrix</span><span class="p">,</span>
            <span class="n">N</span><span class="p">,</span>
            <span class="n">filter_already_liked_items</span><span class="o">=</span><span class="n">filter_already_liked_items</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">recs</span> <span class="o">=</span> <span class="p">[</span><span class="n">i2p</span><span class="p">[</span><span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">recs_indices</span><span class="p">]</span>

        <span class="k">return</span> <span class="n">recs</span>

    <span class="k">def</span> <span class="nf">recommend_all</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">userids</span><span class="p">,</span> <span class="n">num_recs</span><span class="p">,</span> <span class="n">i2p</span><span class="p">,</span> <span class="n">filter_already_liked_items</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
        <span class="n">all_recs</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">recommend_all</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">implicit_matrix</span><span class="o">.</span><span class="n">T</span><span class="p">,</span>
            <span class="n">num_recs</span><span class="p">,</span>
            <span class="n">filter_already_liked_items</span><span class="o">=</span><span class="n">filter_already_liked_items</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">recs</span> <span class="o">=</span> <span class="p">{</span>
            <span class="n">userid</span><span class="p">:</span> <span class="p">[</span><span class="n">i2p</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">all_recs</span><span class="p">[</span><span class="n">i</span><span class="p">,</span> <span class="p">:]]</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">userid</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">userids</span><span class="p">)</span>
        <span class="p">}</span>

        <span class="k">return</span> <span class="n">recs</span>


<span class="k">class</span> <span class="nc">MyBM25Recommender</span><span class="p">(</span><span class="n">Recommender</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="n">implicit_matrix</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">model</span> <span class="o">=</span> <span class="n">model</span>

        <span class="bp">self</span><span class="o">.</span><span class="n">implicit_matrix</span> <span class="o">=</span> <span class="n">implicit_matrix</span>

    <span class="k">def</span> <span class="nf">recommend</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">N</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
        <span class="n">filter_already_liked_items</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
        <span class="n">userid</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">user</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">u2i</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">n2i</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">i2p</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="k">if</span> <span class="n">user</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">user_index</span> <span class="o">=</span> <span class="n">n2i</span><span class="p">[</span><span class="n">user</span><span class="p">]</span>
        <span class="k">elif</span> <span class="n">userid</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">user_index</span> <span class="o">=</span> <span class="n">u2i</span><span class="p">[</span><span class="n">userid</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Either user or userid must be non-null&quot;</span><span class="p">)</span>

        <span class="n">recs_indices</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="o">.</span><span class="n">recommend</span><span class="p">(</span>
            <span class="n">user_index</span><span class="p">,</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">implicit_matrix</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">float32</span><span class="p">),</span>
            <span class="n">N</span><span class="p">,</span>
            <span class="n">filter_already_liked_items</span><span class="o">=</span><span class="n">filter_already_liked_items</span><span class="p">,</span>
        <span class="p">)</span>
        <span class="n">recs</span> <span class="o">=</span> <span class="p">[</span><span class="n">i2p</span><span class="p">[</span><span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span> <span class="k">for</span> <span class="n">a</span> <span class="ow">in</span> <span class="n">recs_indices</span><span class="p">]</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">recs</span><span class="p">)</span> <span class="o">&lt;=</span> <span class="mi">20</span><span class="p">:</span>
            <span class="n">recs</span> <span class="o">=</span> <span class="n">recs</span> <span class="o">+</span> <span class="p">[</span><span class="n">recs</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">]]</span> <span class="o">*</span> <span class="p">(</span><span class="mi">20</span> <span class="o">-</span> <span class="nb">len</span><span class="p">(</span><span class="n">recs</span><span class="p">))</span>

        <span class="k">return</span> <span class="n">recs</span>


<span class="k">class</span> <span class="nc">JaccardRecommender</span><span class="p">(</span><span class="n">Recommender</span><span class="p">):</span>
    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">implicit_matrix</span><span class="p">,</span> <span class="n">p2i</span><span class="p">,</span> <span class="n">t2i</span><span class="p">,</span> <span class="n">i2t</span><span class="p">,</span> <span class="n">i2p</span><span class="p">,</span> <span class="n">n2i</span><span class="p">,</span> <span class="n">u2i</span><span class="p">,</span> <span class="n">i2u</span><span class="p">):</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">implicit_matrix</span> <span class="o">=</span> <span class="n">implicit_matrix</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">p2i</span> <span class="o">=</span> <span class="n">p2i</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">t2i</span> <span class="o">=</span> <span class="n">t2i</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">i2t</span> <span class="o">=</span> <span class="n">i2t</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">i2p</span> <span class="o">=</span> <span class="n">i2p</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">n2i</span> <span class="o">=</span> <span class="n">n2i</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">i2p</span> <span class="o">=</span> <span class="n">i2p</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">u2i</span> <span class="o">=</span> <span class="n">u2i</span>
        <span class="bp">self</span><span class="o">.</span><span class="n">i2u</span> <span class="o">=</span> <span class="n">i2u</span>

    <span class="k">def</span> <span class="nf">jaccard_multiple</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">page_indices</span><span class="p">,</span> <span class="n">exclude_index</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="n">X</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">implicit_matrix</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">bool</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">exclude_index</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">intrsct</span> <span class="o">=</span> <span class="n">X</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">page_indices</span><span class="p">,</span> <span class="p">:]</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>
            <span class="n">totals</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="n">page_indices</span><span class="p">,</span> <span class="p">:]</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">T</span> <span class="o">+</span> <span class="n">X</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">use_indices</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">full</span><span class="p">(</span><span class="n">X</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">],</span> <span class="kc">True</span><span class="p">)</span>
            <span class="n">use_indices</span><span class="p">[</span><span class="n">exclude_index</span><span class="p">]</span> <span class="o">=</span> <span class="kc">False</span>
            <span class="c1"># print(X[:, use_indices].shape)</span>
            <span class="c1"># print(X[page_indices, :][:, use_indices].T.shape)</span>

            <span class="n">intrsct</span> <span class="o">=</span> <span class="n">X</span><span class="p">[:,</span> <span class="n">use_indices</span><span class="p">]</span><span class="o">.</span><span class="n">dot</span><span class="p">(</span><span class="n">X</span><span class="p">[</span><span class="n">page_indices</span><span class="p">,</span> <span class="p">:][:,</span> <span class="n">use_indices</span><span class="p">]</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>
            <span class="n">totals</span> <span class="o">=</span> <span class="n">X</span><span class="p">[</span><span class="n">page_indices</span><span class="p">,</span> <span class="p">:][:,</span> <span class="n">use_indices</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">T</span> <span class="o">+</span> <span class="n">X</span><span class="p">[</span>
                <span class="p">:,</span> <span class="n">use_indices</span>
            <span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>

        <span class="k">return</span> <span class="n">intrsct</span> <span class="o">/</span> <span class="p">(</span><span class="n">totals</span> <span class="o">-</span> <span class="n">intrsct</span><span class="p">)</span>

    <span class="k">def</span> <span class="nf">recommend</span><span class="p">(</span>
        <span class="bp">self</span><span class="p">,</span>
        <span class="n">N</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
        <span class="n">userid</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">user</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">num_lookpage_pages</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">recent_pages_dict</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
        <span class="n">interactions</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span>
    <span class="p">):</span>
        <span class="k">if</span> <span class="n">user</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">user_index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">n2i</span><span class="p">[</span><span class="n">user</span><span class="p">]</span>
        <span class="k">elif</span> <span class="n">userid</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">user_index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">u2i</span><span class="p">[</span><span class="n">userid</span><span class="p">]</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Either user or userid must be non-null&quot;</span><span class="p">)</span>

        <span class="n">recent_pages</span> <span class="o">=</span> <span class="n">recent_pages_dict</span><span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">i2u</span><span class="p">[</span><span class="n">user_index</span><span class="p">]][:</span><span class="n">num_lookpage_pages</span><span class="p">]</span>

        <span class="n">user_page_indices</span> <span class="o">=</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">p2i</span><span class="p">[</span><span class="n">p</span><span class="p">]</span> <span class="k">for</span> <span class="n">p</span> <span class="ow">in</span> <span class="n">recent_pages</span><span class="p">]</span>
        <span class="n">d</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">jaccard_multiple</span><span class="p">(</span><span class="n">user_page_indices</span><span class="p">,</span> <span class="n">exclude_index</span><span class="o">=</span><span class="n">user_index</span><span class="p">)</span>

        <span class="n">d</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan_to_num</span><span class="p">(</span><span class="n">d</span><span class="p">)</span>
        <span class="n">d</span><span class="p">[</span><span class="n">d</span> <span class="o">==</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span>

        <span class="n">mean_jaccard</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">nanmean</span><span class="p">(</span><span class="n">d</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">A</span><span class="o">.</span><span class="n">squeeze</span><span class="p">()</span>
        <span class="n">order</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argsort</span><span class="p">(</span><span class="n">mean_jaccard</span><span class="p">)[::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="k">return</span> <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">i2p</span><span class="p">[</span><span class="n">o</span><span class="p">]</span> <span class="k">for</span> <span class="n">o</span> <span class="ow">in</span> <span class="n">order</span><span class="p">[:</span><span class="n">N</span><span class="p">]]</span>

    <span class="k">def</span> <span class="nf">item_to_item</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">N</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">title</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">pageid</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">title</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">page_index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">t2i</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">title</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">elif</span> <span class="n">pageid</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="n">page_index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">p2i</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">pageid</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;Either title or pageid must be non-null&quot;</span><span class="p">)</span>

        <span class="k">if</span> <span class="n">page_index</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
                <span class="s2">&quot;Page </span><span class="si">{}</span><span class="s2"> not found&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">pageid</span> <span class="k">if</span> <span class="n">title</span> <span class="ow">is</span> <span class="kc">None</span> <span class="k">else</span> <span class="n">title</span><span class="p">)</span>
            <span class="p">)</span>

        <span class="n">target_page_editors</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">flatnonzero</span><span class="p">(</span>
            <span class="bp">self</span><span class="o">.</span><span class="n">implicit_matrix</span><span class="p">[</span><span class="n">page_index</span><span class="p">,</span> <span class="p">:]</span><span class="o">.</span><span class="n">toarray</span><span class="p">()</span>
        <span class="p">)</span>
        <span class="c1"># print(&quot;target_page_editors {}&quot;.format(target_page_editors))</span>

        <span class="n">num_target_editors</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">target_page_editors</span><span class="p">)</span>

        <span class="n">edited_indices</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">flatnonzero</span><span class="p">(</span>
            <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">implicit_matrix</span><span class="p">[:,</span> <span class="n">target_page_editors</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="p">)</span>

        <span class="c1"># print(&quot;edited_indices {}&quot;.format(edited_indices))</span>

        <span class="n">num_shared_editors</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span>
            <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">implicit_matrix</span><span class="p">[:,</span> <span class="n">target_page_editors</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)[</span>
                <span class="n">edited_indices</span>
            <span class="p">]</span>
        <span class="p">)</span><span class="o">.</span><span class="n">squeeze</span><span class="p">()</span>

        <span class="c1"># print(&quot;num_shared_editors {}&quot;.format(num_shared_editors))</span>

        <span class="n">num_item_editors</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span>
            <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">implicit_matrix</span><span class="p">[</span><span class="n">edited_indices</span><span class="p">,</span> <span class="p">:]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">squeeze</span><span class="p">()</span>

        <span class="c1"># print(&quot;num_item_editors {}&quot;.format(num_item_editors))</span>
        <span class="c1"># print(&quot;Type num_item_editors {}&quot;.format(type(num_item_editors)))</span>
        <span class="c1"># print(&quot;num_item_editors dims {}&quot;.format(num_item_editors.shape))</span>

        <span class="n">jaccard_scores</span> <span class="o">=</span> <span class="p">(</span>
            <span class="n">num_shared_editors</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>
            <span class="o">/</span> <span class="p">((</span><span class="n">num_target_editors</span> <span class="o">+</span> <span class="n">num_item_editors</span><span class="p">)</span> <span class="o">-</span> <span class="n">num_shared_editors</span><span class="p">)</span>
        <span class="p">)</span><span class="o">.</span><span class="n">squeeze</span><span class="p">()</span>

        <span class="c1"># print(&quot;jaccard_scores {}&quot;.format(jaccard_scores))</span>

        <span class="n">sorted_order</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argsort</span><span class="p">(</span><span class="n">jaccard_scores</span><span class="p">)</span>
        <span class="n">sorted_order</span> <span class="o">=</span> <span class="n">sorted_order</span><span class="o">.</span><span class="n">squeeze</span><span class="p">()</span>

        <span class="n">rec_indices</span> <span class="o">=</span> <span class="n">edited_indices</span><span class="o">.</span><span class="n">squeeze</span><span class="p">()[</span><span class="n">sorted_order</span><span class="p">][::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">sorted_scores</span> <span class="o">=</span> <span class="n">jaccard_scores</span><span class="o">.</span><span class="n">squeeze</span><span class="p">()[</span><span class="n">sorted_order</span><span class="p">][::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">sorted_num_shared_editors</span> <span class="o">=</span> <span class="n">num_shared_editors</span><span class="o">.</span><span class="n">squeeze</span><span class="p">()[</span><span class="n">sorted_order</span><span class="p">][::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>
        <span class="n">sorted_num_item_editors</span> <span class="o">=</span> <span class="n">num_item_editors</span><span class="o">.</span><span class="n">squeeze</span><span class="p">()[</span><span class="n">sorted_order</span><span class="p">][::</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">title</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">list</span><span class="p">(</span>
                <span class="nb">zip</span><span class="p">(</span>
                    <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">i2p</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">rec_indices</span><span class="p">[:</span><span class="n">N</span><span class="p">]],</span>
                    <span class="n">sorted_scores</span><span class="p">[:</span><span class="n">N</span><span class="p">],</span>
                    <span class="n">sorted_num_shared_editors</span><span class="p">[:</span><span class="n">N</span><span class="p">],</span>
                    <span class="n">sorted_num_item_editors</span><span class="p">[:</span><span class="n">N</span><span class="p">],</span>
                <span class="p">)</span>
            <span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">list</span><span class="p">(</span>
                <span class="nb">zip</span><span class="p">(</span>
                    <span class="p">[</span><span class="bp">self</span><span class="o">.</span><span class="n">i2t</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">rec_indices</span><span class="p">[:</span><span class="n">N</span><span class="p">]],</span>
                    <span class="n">sorted_scores</span><span class="p">[:</span><span class="n">N</span><span class="p">],</span>
                    <span class="n">sorted_num_shared_editors</span><span class="p">[:</span><span class="n">N</span><span class="p">],</span>
                    <span class="n">sorted_num_item_editors</span><span class="p">[:</span><span class="n">N</span><span class="p">],</span>
                <span class="p">)</span>
            <span class="p">)</span>


<span class="k">class</span> <span class="nc">InterleaveRecommender</span><span class="p">(</span><span class="n">Recommender</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Recommend for users by interleaving recs from multiple lists. When there is</span>
<span class="sd">    duplicates keeping only the first instance.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
        <span class="k">pass</span>

    <span class="k">def</span> <span class="nf">recommend_all</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">N</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">recs_list</span><span class="o">=</span><span class="p">[]):</span>
        <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">        Args:</span>
<span class="sd">            N (int): Number of recs to return</span>
<span class="sd">            recs_list: Array of recs, which are ordered lists of pageids in a dict keyed by a userid</span>
<span class="sd">        Returns:</span>
<span class="sd">            dict: Recommendations, as a list of pageids keyed by userid</span>
<span class="sd">        &quot;&quot;&quot;</span>

        <span class="k">def</span> <span class="nf">merge_page_lists</span><span class="p">(</span><span class="n">page_lists</span><span class="p">):</span>
            <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">itertools</span><span class="o">.</span><span class="n">chain</span><span class="p">(</span><span class="o">*</span><span class="nb">zip</span><span class="p">(</span><span class="o">*</span><span class="n">page_lists</span><span class="p">))))</span>

        <span class="k">return</span> <span class="p">{</span>
            <span class="n">userid</span><span class="p">:</span> <span class="n">merge_page_lists</span><span class="p">([</span><span class="n">recs</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">userid</span><span class="p">,</span> <span class="p">[])</span> <span class="k">for</span> <span class="n">recs</span> <span class="ow">in</span> <span class="n">recs_list</span><span class="p">])[:</span><span class="n">N</span><span class="p">]</span>
            <span class="k">for</span> <span class="n">userid</span> <span class="ow">in</span> <span class="n">recs_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="p">{}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="most-popular">
<h3>Most popular<a class="headerlink" href="#most-popular" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="n">time</span>
<span class="n">K</span><span class="o">=</span><span class="mi">20</span>
<span class="n">rec_name</span> <span class="o">=</span> <span class="s2">&quot;Popularity&quot;</span>

<span class="n">prec</span> <span class="o">=</span> <span class="n">PopularityRecommender</span><span class="p">(</span><span class="n">histories_train</span><span class="p">)</span>
<span class="n">precs</span> <span class="o">=</span> <span class="n">prec</span><span class="o">.</span><span class="n">recommend_all</span><span class="p">(</span><span class="n">userids</span><span class="p">,</span> <span class="n">K</span><span class="p">)</span>
<span class="c1"># wr.save_pickle(precs, &quot;../&quot; + rec_name +&quot;_recs.pickle&quot;)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">results</span><span class="p">[</span><span class="n">rec_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_recs_metrics</span><span class="p">(</span><span class="n">histories_dev</span><span class="p">,</span> <span class="n">precs</span><span class="p">,</span> <span class="n">K</span><span class="p">,</span> <span class="n">discovery_userids</span><span class="p">,</span> <span class="n">resurface_userids</span><span class="p">,</span> <span class="n">implicit_matrix</span><span class="p">,</span> <span class="n">i2p</span><span class="p">,</span> <span class="n">u2i</span><span class="p">)</span>

<span class="n">results</span><span class="p">[</span><span class="n">rec_name</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;recall&#39;: 0.16187274312040842,
 &#39;ndcg&#39;: 0.0005356797596941751,
 &#39;resurfaced&#39;: 0.6213422985929523,
 &#39;recall_discover&#39;: 0.11947959996459864,
 &#39;recall_resurface&#39;: 0.2624396388830569,
 &#39;ndcg_discover&#39;: 0.000410354483750028,
 &#39;ndcg_resurface&#39;: 0.0008329819416998272}
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="most-recent">
<h3>Most recent<a class="headerlink" href="#most-recent" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="n">time</span>
<span class="c1"># Most recent</span>
<span class="n">K</span><span class="o">=</span><span class="mi">20</span>
<span class="n">rrec</span> <span class="o">=</span> <span class="n">recommenders</span><span class="o">.</span><span class="n">MostRecentRecommender</span><span class="p">(</span><span class="n">histories_train</span><span class="p">)</span>
<span class="n">rrecs</span> <span class="o">=</span> <span class="n">rrec</span><span class="o">.</span><span class="n">recommend_all</span><span class="p">(</span><span class="n">userids</span><span class="p">,</span> <span class="n">K</span><span class="p">,</span> <span class="n">interactions</span><span class="o">=</span><span class="n">histories_train</span><span class="p">)</span>
<span class="n">rec_name</span> <span class="o">=</span> <span class="s2">&quot;Recent&quot;</span>
<span class="n">wr</span><span class="o">.</span><span class="n">save_pickle</span><span class="p">(</span><span class="n">rrecs</span><span class="p">,</span> <span class="s2">&quot;../&quot;</span> <span class="o">+</span> <span class="n">rec_name</span> <span class="o">+</span><span class="s2">&quot;_recs.pickle&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> Entering code segment Building popularity table
 Code segment Building popularity table took 36.48612093925476
</pre></div>
</div>
<script type="application/vnd.jupyter.widget-view+json">
{"model_id": "d716ae7ee1874ee3a08b46a3a461e333", "version_major": 2, "version_minor": 0}
</script><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>CPU times: user 9min 12s, sys: 1min 47s, total: 10min 59s
Wall time: 12min 47s
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">len</span><span class="p">(</span><span class="n">resurface_userids</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>22598
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">results</span> <span class="o">=</span><span class="p">{}</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">results</span><span class="p">[</span><span class="n">rec_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">wr</span><span class="o">.</span><span class="n">get_recs_metrics</span><span class="p">(</span>
    <span class="n">histories_dev</span><span class="p">,</span> <span class="n">rrecs</span><span class="p">,</span> <span class="n">K</span><span class="p">,</span> <span class="n">discovery_userids</span><span class="p">,</span> <span class="n">resurface_userids</span><span class="p">,</span> <span class="n">implicit_matrix</span><span class="p">,</span> <span class="n">i2p</span><span class="p">,</span> <span class="n">u2i</span><span class="p">)</span>
<span class="n">results</span><span class="p">[</span><span class="n">rec_name</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;recall&#39;: 22.618602913709378,
 &#39;ndcg&#39;: 0.14306080818547054,
 &#39;resurfaced&#39;: 71.13808990163118,
 &#39;recall_discover&#39;: 0.03982653332153288,
 &#39;recall_resurface&#39;: 76.18097837497375,
 &#39;ndcg_discover&#39;: 0.00011494775493754298,
 &#39;ndcg_resurface&#39;: 0.4821633227780786}
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="most-frequent">
<h3>Most frequent<a class="headerlink" href="#most-frequent" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="n">time</span>
<span class="c1"># Sorted by frequency of edits</span>
<span class="n">K</span><span class="o">=</span><span class="mi">20</span>
<span class="n">frec</span> <span class="o">=</span> <span class="n">recommenders</span><span class="o">.</span><span class="n">MostFrequentRecommender</span><span class="p">(</span><span class="n">histories_train</span><span class="p">)</span>
<span class="n">frecs</span> <span class="o">=</span> <span class="n">frec</span><span class="o">.</span><span class="n">recommend_all</span><span class="p">(</span><span class="n">userids</span><span class="p">,</span> <span class="n">K</span><span class="p">,</span> <span class="n">interactions</span><span class="o">=</span><span class="n">histories_train</span><span class="p">)</span>
<span class="n">rec_name</span> <span class="o">=</span> <span class="s2">&quot;Frequent&quot;</span>
<span class="n">wr</span><span class="o">.</span><span class="n">save_pickle</span><span class="p">(</span><span class="n">frecs</span><span class="p">,</span> <span class="s2">&quot;../&quot;</span> <span class="o">+</span> <span class="n">rec_name</span> <span class="o">+</span><span class="s2">&quot;_recs.pickle&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> Entering code segment Building popularity table
 Code segment Building popularity table took 33.71674609184265
</pre></div>
</div>
<script type="application/vnd.jupyter.widget-view+json">
{"model_id": "287b777493b948f2b0ce09f1ad79ea4d", "version_major": 2, "version_minor": 0}
</script><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>CPU times: user 6min 57s, sys: 51.4 s, total: 7min 48s
Wall time: 7min 58s
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">results</span><span class="p">[</span><span class="n">rec_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">wr</span><span class="o">.</span><span class="n">get_recs_metrics</span><span class="p">(</span>
    <span class="n">histories_dev</span><span class="p">,</span> <span class="n">frecs</span><span class="p">,</span> <span class="n">K</span><span class="p">,</span> <span class="n">discovery_userids</span><span class="p">,</span> <span class="n">resurface_userids</span><span class="p">,</span> <span class="n">implicit_matrix</span><span class="p">,</span> <span class="n">i2p</span><span class="p">,</span> <span class="n">u2i</span><span class="p">)</span>
<span class="n">results</span><span class="p">[</span><span class="n">rec_name</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;recall&#39;: 20.834889802017184,
 &#39;ndcg&#39;: 0.11356953338215306,
 &#39;resurfaced&#39;: 76.10353629684971,
 &#39;recall_discover&#39;: 0.035401362952473675,
 &#39;recall_resurface&#39;: 70.17635943732941,
 &#39;ndcg_discover&#39;: 9.90570471847343e-05,
 &#39;ndcg_resurface&#39;: 0.38274923359395385}
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="bm25">
<h2>BM25<a class="headerlink" href="#bm25" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="n">time</span>
<span class="n">K</span><span class="o">=</span><span class="mi">20</span>
<span class="n">brec</span> <span class="o">=</span> <span class="n">recommenders</span><span class="o">.</span><span class="n">MyBM25Recommender</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">implicit_matrix</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">brecs</span> <span class="o">=</span> <span class="n">brec</span><span class="o">.</span><span class="n">recommend_all</span><span class="p">(</span><span class="n">userids</span><span class="p">,</span> <span class="n">K</span><span class="p">,</span> <span class="n">u2i</span><span class="o">=</span><span class="n">u2i</span><span class="p">,</span> <span class="n">n2i</span><span class="o">=</span><span class="n">n2i</span><span class="p">,</span> <span class="n">i2p</span><span class="o">=</span><span class="n">i2p</span><span class="p">,</span> <span class="n">filter_already_liked_items</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">rec_name</span> <span class="o">=</span> <span class="s2">&quot;bm25&quot;</span>
<span class="n">wr</span><span class="o">.</span><span class="n">save_pickle</span><span class="p">(</span><span class="n">brecs</span><span class="p">,</span> <span class="s2">&quot;../&quot;</span> <span class="o">+</span> <span class="n">rec_name</span> <span class="o">+</span><span class="s2">&quot;_recs.pickle&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># filter_already_liked_items = False</span>
<span class="n">results</span><span class="p">[</span><span class="n">rec_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">wr</span><span class="o">.</span><span class="n">get_recs_metrics</span><span class="p">(</span>
    <span class="n">histories_dev</span><span class="p">,</span> <span class="n">brecs</span><span class="p">,</span> <span class="n">K</span><span class="p">,</span> <span class="n">discovery_userids</span><span class="p">,</span> <span class="n">resurface_userids</span><span class="p">,</span> <span class="n">implicit_matrix</span><span class="p">,</span> <span class="n">i2p</span><span class="p">,</span> <span class="n">u2i</span><span class="p">)</span>
<span class="n">results</span><span class="p">[</span><span class="n">rec_name</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;recall&#39;: 18.945336819823186,
 &#39;ndcg&#39;: 0.1015175508656068,
 &#39;resurfaced&#39;: 74.0469742248786,
 &#39;recall_discover&#39;: 1.3939286662536507,
 &#39;recall_resurface&#39;: 60.581566239764854,
 &#39;ndcg_discover&#39;: 0.004204510293040833,
 &#39;ndcg_resurface&#39;: 0.332367864833573}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># filter_already_liked_items = True</span>
<span class="n">rec_name</span> <span class="o">=</span> <span class="s2">&quot;bm25_filtered&quot;</span>
<span class="n">brecs_filtered</span> <span class="o">=</span> <span class="n">brec</span><span class="o">.</span><span class="n">recommend_all</span><span class="p">(</span><span class="n">userids</span><span class="p">,</span> <span class="n">K</span><span class="p">,</span> <span class="n">u2i</span><span class="o">=</span><span class="n">u2i</span><span class="p">,</span> <span class="n">n2i</span><span class="o">=</span><span class="n">n2i</span><span class="p">,</span> <span class="n">i2p</span><span class="o">=</span><span class="n">i2p</span><span class="p">,</span> <span class="n">filter_already_liked_items</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">wr</span><span class="o">.</span><span class="n">save_pickle</span><span class="p">(</span><span class="n">brecs_filtered</span><span class="p">,</span> <span class="s2">&quot;../&quot;</span> <span class="o">+</span> <span class="n">rec_name</span> <span class="o">+</span><span class="s2">&quot;_recs.pickle&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">results</span><span class="p">[</span><span class="n">rec_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">wr</span><span class="o">.</span><span class="n">get_recs_metrics</span><span class="p">(</span>
    <span class="n">histories_dev</span><span class="p">,</span> <span class="n">recs</span><span class="p">[</span><span class="s1">&#39;bm25_filtered&#39;</span><span class="p">],</span> <span class="n">K</span><span class="p">,</span> <span class="n">discovery_userids</span><span class="p">,</span> <span class="n">resurface_userids</span><span class="p">,</span> <span class="n">implicit_matrix</span><span class="p">,</span> <span class="n">i2p</span><span class="p">,</span> <span class="n">u2i</span><span class="p">)</span>
<span class="n">results</span><span class="p">[</span><span class="n">rec_name</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;recall&#39;: 1.8148424853691942,
 &#39;ndcg&#39;: 0.008622285155255174,
 &#39;resurfaced&#39;: 0.14848711243929774,
 &#39;recall_discover&#39;: 2.522347110363749,
 &#39;recall_resurface&#39;: 0.1364686122191896,
 &#39;ndcg_discover&#39;: 0.011740495141426633,
 &#39;ndcg_resurface&#39;: 0.0012251290280766518}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">results</span><span class="p">[</span><span class="n">rec_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">wr</span><span class="o">.</span><span class="n">get_recs_metrics</span><span class="p">(</span>
    <span class="n">histories_dev</span><span class="p">,</span> <span class="n">recs</span><span class="p">[</span><span class="s1">&#39;bm25_filtered&#39;</span><span class="p">],</span> <span class="n">K</span><span class="p">,</span> <span class="n">discovery_userids</span><span class="p">,</span> <span class="n">resurface_userids</span><span class="p">,</span> <span class="n">implicit_matrix</span><span class="p">,</span> <span class="n">i2p</span><span class="p">,</span> <span class="n">u2i</span><span class="p">)</span>
<span class="n">results</span><span class="p">[</span><span class="n">rec_name</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;recall&#39;: 1.0993992972911708,
 &#39;ndcg&#39;: 0.004864465753718907,
 &#39;resurfaced&#39;: 0.21421285277116625,
 &#39;recall_discover&#39;: 1.7235188509874326,
 &#39;recall_resurface&#39;: 0.03074085459575776,
 &#39;ndcg_discover&#39;: 0.007525885340226556,
 &#39;ndcg_resurface&#39;: 0.0003074085459575776}
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="als-implicit-collaborative-filtering">
<h2>ALS Implicit collaborative filtering<a class="headerlink" href="#als-implicit-collaborative-filtering" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">model_als</span> <span class="o">=</span> <span class="n">wr</span><span class="o">.</span><span class="n">load_pickle</span><span class="p">(</span><span class="s1">&#39;../als200_bm25_model_2021-05-28.pickle&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="n">time</span>
<span class="n">rec_name</span> <span class="o">=</span> <span class="s2">&quot;als&quot;</span>
<span class="n">K</span><span class="o">=</span><span class="mi">20</span>
<span class="n">irec</span> <span class="o">=</span> <span class="n">recommenders</span><span class="o">.</span><span class="n">ImplicitCollaborativeRecommender</span><span class="p">(</span><span class="n">model_als</span><span class="p">,</span> <span class="n">bm25_matrix</span><span class="o">.</span><span class="n">tocsc</span><span class="p">())</span>
<span class="n">irecs</span> <span class="o">=</span> <span class="n">irec</span><span class="o">.</span><span class="n">recommend_all</span><span class="p">(</span><span class="n">userids</span><span class="p">,</span> <span class="n">K</span><span class="p">,</span> <span class="n">i2p</span><span class="o">=</span><span class="n">i2p</span><span class="p">,</span> <span class="n">filter_already_liked_items</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="n">wr</span><span class="o">.</span><span class="n">save_pickle</span><span class="p">(</span><span class="n">irecs</span><span class="p">,</span> <span class="s2">&quot;../&quot;</span> <span class="o">+</span> <span class="n">rec_name</span> <span class="o">+</span><span class="s2">&quot;_recs.pickle&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id": "14ff8e978a09477e91aca95e1f3b28f2", "version_major": 2, "version_minor": 0}
</script><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>CPU times: user 28min 44s, sys: 7min 24s, total: 36min 8s
Wall time: 32min 9s
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">results</span><span class="p">[</span><span class="n">rec_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">wr</span><span class="o">.</span><span class="n">get_recs_metrics</span><span class="p">(</span>
    <span class="n">histories_dev</span><span class="p">,</span> <span class="n">irecs</span><span class="p">,</span> <span class="n">K</span><span class="p">,</span> <span class="n">discovery_userids</span><span class="p">,</span> <span class="n">resurface_userids</span><span class="p">,</span> <span class="n">bm25_matrix</span><span class="o">.</span><span class="n">tocsc</span><span class="p">(),</span> <span class="n">i2p</span><span class="p">,</span> <span class="n">u2i</span><span class="p">)</span>
<span class="n">results</span><span class="p">[</span><span class="n">rec_name</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id": "79ee3142902143588e76b1a03e7b2d86", "version_major": 2, "version_minor": 0}
</script><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>CPU times: user 22min 45s, sys: 6min 1s, total: 28min 47s
Wall time: 25min 14s
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;recall&#39;: 5.488108579255385,
 &#39;ndcg&#39;: 0.026193145556306998,
 &#39;resurfaced&#39;: 16.251556468683848,
 &#39;recall_discover&#39;: 1.146119125586335,
 &#39;recall_resurface&#39;: 15.788368675204703,
 &#39;ndcg_discover&#39;: 0.004817135435898367,
 &#39;ndcg_resurface&#39;: 0.0769022655123215}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">rec_name</span> <span class="o">=</span> <span class="s2">&quot;als_filtered&quot;</span>
<span class="n">K</span><span class="o">=</span><span class="mi">20</span>
<span class="n">irec</span> <span class="o">=</span> <span class="n">recommenders</span><span class="o">.</span><span class="n">ImplicitCollaborativeRecommender</span><span class="p">(</span><span class="n">model_als</span><span class="p">,</span> <span class="n">bm25_matrix</span><span class="o">.</span><span class="n">tocsc</span><span class="p">())</span>
<span class="n">irecs_filtered</span> <span class="o">=</span> <span class="n">irec</span><span class="o">.</span><span class="n">recommend_all</span><span class="p">(</span><span class="n">userids</span><span class="p">,</span> <span class="n">K</span><span class="p">,</span> <span class="n">i2p</span><span class="o">=</span><span class="n">i2p</span><span class="p">,</span> <span class="n">filter_already_liked_items</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">results</span><span class="p">[</span><span class="n">rec_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">wr</span><span class="o">.</span><span class="n">get_recs_metrics</span><span class="p">(</span>
    <span class="n">histories_dev</span><span class="p">,</span> <span class="n">irecs_filtered</span><span class="p">,</span> <span class="n">K</span><span class="p">,</span> <span class="n">discovery_userids</span><span class="p">,</span> <span class="n">resurface_userids</span><span class="p">,</span> <span class="n">bm25_matrix</span><span class="o">.</span><span class="n">tocsc</span><span class="p">(),</span> <span class="n">i2p</span><span class="p">,</span> <span class="n">u2i</span><span class="p">)</span>
<span class="n">results</span><span class="p">[</span><span class="n">rec_name</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">wr</span><span class="o">.</span><span class="n">save_pickle</span><span class="p">(</span><span class="n">irecs_filtered</span><span class="p">,</span> <span class="s2">&quot;../&quot;</span> <span class="o">+</span> <span class="n">rec_name</span> <span class="o">+</span><span class="s2">&quot;_recs.pickle&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">show</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">results</span><span class="p">)</span><span class="o">.</span><span class="n">T</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div><table id="68859a6f-72d4-4e95-ac95-88134e008fd1" class="display"><thead>
    <tr style="text-align: right;">
      <th></th>
      <th>recall</th>
      <th>ndcg</th>
      <th>resurfaced</th>
      <th>recall_discover</th>
      <th>recall_resurface</th>
      <th>ndcg_discover</th>
      <th>ndcg_resurface</th>
    </tr>
  </thead></table>
<script type="text/javascript">
require(["datatables"], function (datatables) {
    $(document).ready(function () {
        var dt_args = {"columnDefs": [{"width": "70px", "targets": "_all"}], "paging": false, "data": [["Popularity", 0.161873, 0.000536, 0.621342, 0.11948, 0.26244, 0.00041, 0.000833], ["Recent", 22.637281, 0.105749, 76.103536, 0.035401, 76.254461, 9.9e-05, 0.356378], ["Frequent", 20.83489, 0.11357, 76.103536, 0.035401, 70.176359, 9.9e-05, 0.382749], ["Implicit", 5.488109, 0.026193, 16.251556, 1.146119, 15.788369, 0.004817, 0.076902], ["Implicit_filtered", 0.902752, 0.003857, 0.0, 1.283299, 0.0, 0.005482, 0.0], ["bm25", 18.945337, 0.101518, 74.046974, 1.393929, 60.581566, 0.004205, 0.332368], ["bm25_filtered", 1.099399, 0.004864, 0.214213, 1.723519, 0.030741, 0.007526, 0.000307], ["interleaved", 21.591295, 0.083824, 47.083192, 1.202873, 56.501691, 0.004333, 0.219934]]};
        dt_args = eval_functions(dt_args);
        table = $('#68859a6f-72d4-4e95-ac95-88134e008fd1').DataTable(dt_args);
    });
})
</script>
</div>
</div></div>
</div>
</div>
<div class="section" id="jaccard">
<h2>Jaccard<a class="headerlink" href="#jaccard" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="n">time</span>
<span class="c1"># Sorted by Jaccard</span>
<span class="n">K</span><span class="o">=</span><span class="mi">20</span>
<span class="n">rrec</span> <span class="o">=</span> <span class="n">recommenders</span><span class="o">.</span><span class="n">MostRecentRecommender</span><span class="p">(</span><span class="n">histories_train</span><span class="p">)</span>
<span class="n">recent_pages_dict</span> <span class="o">=</span> <span class="n">rrec</span><span class="o">.</span><span class="n">all_recent_only</span><span class="p">(</span><span class="n">K</span><span class="p">,</span> <span class="n">userids</span><span class="p">,</span>  <span class="n">interactions</span><span class="o">=</span><span class="n">histories_train</span><span class="p">)</span>
<span class="n">jrec</span> <span class="o">=</span> <span class="n">recommenders</span><span class="o">.</span><span class="n">JaccardRecommender</span><span class="p">(</span><span class="n">implicit_matrix</span><span class="p">,</span> <span class="n">p2i</span><span class="o">=</span><span class="n">p2i</span><span class="p">,</span> <span class="n">t2i</span><span class="o">=</span><span class="n">t2i</span><span class="p">,</span> <span class="n">i2t</span><span class="o">=</span><span class="n">i2t</span><span class="p">,</span> <span class="n">i2p</span><span class="o">=</span><span class="n">i2p</span><span class="p">,</span> <span class="n">n2i</span><span class="o">=</span><span class="n">n2i</span><span class="p">,</span> <span class="n">u2i</span><span class="o">=</span><span class="n">u2i</span><span class="p">,</span> <span class="n">i2u</span><span class="o">=</span><span class="n">i2u</span><span class="p">)</span>
<span class="n">jrecs</span> <span class="o">=</span> <span class="n">jrec</span><span class="o">.</span><span class="n">recommend_all</span><span class="p">(</span><span class="n">userids</span><span class="p">,</span> 
                                   <span class="n">K</span><span class="p">,</span> 
                                   <span class="n">num_lookpage_pages</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> 
                                   <span class="n">recent_pages_dict</span><span class="o">=</span><span class="n">recent_pages_dict</span><span class="p">,</span> 
                                   <span class="n">interactions</span><span class="o">=</span><span class="n">histories_train</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span> Entering code segment Building popularity table
 Code segment Building popularity table took 18.317301988601685
</pre></div>
</div>
<script type="application/vnd.jupyter.widget-view+json">
{"model_id": "8612548500614215b3221bdcf6ee204f", "version_major": 2, "version_minor": 0}
</script><script type="application/vnd.jupyter.widget-view+json">
{"model_id": "dbca2b89d81647ff9c4a910a574d0d40", "version_major": 2, "version_minor": 0}
</script><div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/Users/dsaunder/WikiRecs/repo/recommenders.py:212: RuntimeWarning: Mean of empty slice
  mean_jaccard = np.nanmean(d, axis=1).A.squeeze()
/Users/dsaunder/WikiRecs/venvs/wikirecs/lib/python3.8/site-packages/scipy/sparse/base.py:595: RuntimeWarning: invalid value encountered in true_divide
  return np.true_divide(self.todense(), other)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>CPU times: user 1h 3min 39s, sys: 11min 36s, total: 1h 15min 16s
Wall time: 1h 19min 3s
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">wr</span><span class="o">.</span><span class="n">save_pickle</span><span class="p">(</span><span class="n">jrecs</span><span class="p">,</span><span class="s2">&quot;jaccard-1_recs.pickle&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">rec_name</span> <span class="o">=</span> <span class="s2">&quot;Jaccard&quot;</span>
<span class="n">results</span><span class="p">[</span><span class="n">rec_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">wr</span><span class="o">.</span><span class="n">get_recs_metrics</span><span class="p">(</span>
    <span class="n">histories_dev</span><span class="p">,</span> <span class="n">jrecs</span><span class="p">,</span> <span class="n">K</span><span class="p">,</span> <span class="n">discovery_userids</span><span class="p">,</span> <span class="n">resurface_userids</span><span class="p">,</span> <span class="n">implicit_matrix</span><span class="p">,</span> <span class="n">i2p</span><span class="p">,</span> <span class="n">u2i</span><span class="p">)</span>
<span class="n">results</span><span class="p">[</span><span class="n">rec_name</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;recall&#39;: 2.17613056783407,
 &#39;ndcg&#39;: 0.008987939473071081,
 &#39;resurfaced&#39;: 5.851751105066304,
 &#39;recall_discover&#39;: 1.0412926391382404,
 &#39;recall_resurface&#39;: 4.11927451583154,
 &#39;ndcg_discover&#39;: 0.00414625202392573,
 &#39;ndcg_resurface&#39;: 0.017278194342957215}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">wr</span><span class="o">.</span><span class="n">display_recs_with_history</span><span class="p">(</span>
    <span class="n">jrecs</span><span class="p">,</span>
    <span class="n">userids</span><span class="p">[:</span><span class="mi">30</span><span class="p">],</span>
    <span class="n">histories_test</span><span class="p">,</span>
    <span class="n">histories_train</span><span class="p">,</span>
    <span class="n">p2t</span><span class="p">,</span>
    <span class="n">u2n</span><span class="p">,</span>
    <span class="n">recs_to_display</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span>
    <span class="n">hist_to_display</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span>
<span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>AxelBoldt</th>
      <th>Berek</th>
      <th>RobLa</th>
      <th>LA2</th>
      <th>Shsilver</th>
      <th>Rmhermen</th>
      <th>Ray Van De Walker</th>
      <th>SimonP</th>
      <th>Maury Markowitz</th>
      <th>ASchoenhofer</th>
      <th>...</th>
      <th>Ixfd64</th>
      <th>Graue</th>
      <th>Lquilter</th>
      <th>Zanimum</th>
      <th>Dcljr</th>
      <th>Tgeorgescu</th>
      <th>IZAK</th>
      <th>Cameron Dewe</th>
      <th>TakuyaMurata</th>
      <th>SebastianHelm</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>True value</th>
      <td>Ulm Minster</td>
      <td>Exterior calculus</td>
      <td>Civil Rights Act of 1964</td>
      <td>Flax</td>
      <td>David Britton</td>
      <td>Paradise, Kentucky</td>
      <td>IPHWR-700</td>
      <td>St. Frances Cabrini Church (New Orleans)</td>
      <td>Plessey AR-320</td>
      <td>Facility location (competitive game)</td>
      <td>...</td>
      <td>Jewels of the Oracle</td>
      <td>Free Culture (book)</td>
      <td>Exhibitionism</td>
      <td>COVID-19 pandemic in the Regional Municipality...</td>
      <td>Marte Eberson</td>
      <td>Eusebius</td>
      <td>Vladimir Zelenko</td>
      <td>Bridle Path (New Zealand)</td>
      <td>Glossary of representation theory</td>
      <td>ß</td>
    </tr>
    <tr>
      <th>Rec 1</th>
      <td>Passiflora edulis</td>
      <td>Fishing in India</td>
      <td>Long Branch station</td>
      <td>St Georges Terrace</td>
      <td>Northeast New York PGA Championship</td>
      <td>Parallel import</td>
      <td>RS-232</td>
      <td>Tornado Outbreak of December 23-24 2020</td>
      <td>Hymeniacidon kitchingi</td>
      <td>Claviceps purpurea</td>
      <td>...</td>
      <td>Sequoyah Nuclear Plant</td>
      <td>Piedmont, California</td>
      <td>Monkey &amp; Bear</td>
      <td>Blue Steel (1990 film)</td>
      <td>Calcitonin gene-related peptide</td>
      <td>Large Stone Structure</td>
      <td>Thomas Gage (botanist)</td>
      <td>Southbridge Branch, New Zealand</td>
      <td>Free module</td>
      <td>Sark (disambiguation)</td>
    </tr>
    <tr>
      <th>Rec 2</th>
      <td>Rubus chamaemorus</td>
      <td>Adam Nash (executive)</td>
      <td>Demarest station</td>
      <td>Neil McNeil (businessman)</td>
      <td>Lasse Jensen (golfer)</td>
      <td>Jolt Cola</td>
      <td>Cataphract</td>
      <td>Barrie Rutter</td>
      <td>Quality Protein Maize</td>
      <td>Lovitt Records</td>
      <td>...</td>
      <td>Needle Peak (British Columbia)</td>
      <td>Academy of Art University</td>
      <td>The Big Fun Crafty Show</td>
      <td>Jackie Tohn</td>
      <td>Contact guidance</td>
      <td>Digest (Roman law)</td>
      <td>David Merdy</td>
      <td>NZR FM guards van</td>
      <td>Zappa–Szép product</td>
      <td>Pope Innocent XII</td>
    </tr>
    <tr>
      <th>Rec 3</th>
      <td>Hippophae rhamnoides</td>
      <td>RSSOwl</td>
      <td>Denville station</td>
      <td>Subiaco, Western Australia</td>
      <td>Mike Donald</td>
      <td>Eddie Joyce</td>
      <td>Richard Ingoldsby (British Army officer, died ...</td>
      <td>Gardner Airport</td>
      <td>Christine Duffy</td>
      <td>List of DC Comics characters: U</td>
      <td>...</td>
      <td>Mount Sir Donald</td>
      <td>Gower Gulch</td>
      <td>List of Wonder Pets! episodes</td>
      <td>Terry Kiser</td>
      <td>Jasmine R. Marcelin</td>
      <td>Larry Hurtado</td>
      <td>José Cobián</td>
      <td>Sanson Tramway</td>
      <td>Algebraic function field</td>
      <td>Aryabhatta Research Institute of Observational...</td>
    </tr>
    <tr>
      <th>Rec 4</th>
      <td>Horseradish</td>
      <td>Andrew Douglas (rugby union)</td>
      <td>East Orange station</td>
      <td>James Peet</td>
      <td>Michigan Open</td>
      <td>Emiratis</td>
      <td>Free War</td>
      <td>List of towns and cities with 100,000 or more ...</td>
      <td>Phase-locked loop</td>
      <td>List of food faddists</td>
      <td>...</td>
      <td>Paradise Combined Cycle Plant</td>
      <td>Haas–Lilienthal House</td>
      <td>The Amazing World of Gumball (season 1)</td>
      <td>Cat Chaser</td>
      <td>Genkō War</td>
      <td>Eustathius of Sebaste</td>
      <td>Abu Salem</td>
      <td>North Island Volcanic Plateau</td>
      <td>Pullback (differential geometry)</td>
      <td>The Serfs (book)</td>
    </tr>
    <tr>
      <th>Rec 5</th>
      <td>Capsicum annuum</td>
      <td>Broken Hill Mosque</td>
      <td>Orange station (NJ Transit)</td>
      <td>Court Hotel, Perth</td>
      <td>Marion Hollins</td>
      <td>Latae sententiae</td>
      <td>Gendarme (historical)</td>
      <td>Kesklinn, Tallinn</td>
      <td>LM3914</td>
      <td>List of Teen Vogue cover models</td>
      <td>...</td>
      <td>Gallatin Fossil Plant</td>
      <td>Idyllwild Arts Academy</td>
      <td>List of highways numbered 643</td>
      <td>Bob Balaban</td>
      <td>Timeline of the Bill Clinton presidency (1999)</td>
      <td>Isaiah 42</td>
      <td>Dominique Esnault</td>
      <td>Rimutaka Incline</td>
      <td>Row echelon form</td>
      <td>Anjalie Gupta (disambiguation)</td>
    </tr>
    <tr>
      <th>-</th>
      <td>----------</td>
      <td>----------</td>
      <td>----------</td>
      <td>----------</td>
      <td>----------</td>
      <td>----------</td>
      <td>----------</td>
      <td>----------</td>
      <td>----------</td>
      <td>----------</td>
      <td>...</td>
      <td>----------</td>
      <td>----------</td>
      <td>----------</td>
      <td>----------</td>
      <td>----------</td>
      <td>----------</td>
      <td>----------</td>
      <td>----------</td>
      <td>----------</td>
      <td>----------</td>
    </tr>
    <tr>
      <th>Hist 1</th>
      <td>Girolamo Savonarola</td>
      <td>2020 Bangladesh Election Commission scandal</td>
      <td>Civil Rights Act of 1964</td>
      <td>Elmer William Engstrom</td>
      <td>Jorie Remus</td>
      <td>Ade (drink suffix)</td>
      <td>Carl Icahn</td>
      <td>Oblate Youth Australia</td>
      <td>Plessey AR-3D</td>
      <td>Flying Bulgar Klezmer Band</td>
      <td>...</td>
      <td>Navajo Generating Station</td>
      <td>Nick Montfort</td>
      <td>Exhibitionism</td>
      <td>COVID-19 pandemic in the Regional Municipality...</td>
      <td>Frøken Norge 2011</td>
      <td>Ze'ev Herzog</td>
      <td>Vladimir Zelenko</td>
      <td>Lyttelton Rail Tunnel</td>
      <td>Indecomposable module</td>
      <td>Prevalence effect</td>
    </tr>
    <tr>
      <th>Hist 2</th>
      <td>CoronaVac</td>
      <td>Kepler-533</td>
      <td>Student Nonviolent Coordinating Committee</td>
      <td>Sidney Low</td>
      <td>Jorie Remus</td>
      <td>Here Comes Santa Claus</td>
      <td>Motorola</td>
      <td>Nepsa</td>
      <td>1948 Airborne Transport DC-3 disappearance</td>
      <td>The Terminator</td>
      <td>...</td>
      <td>Time travel claims and urban legends</td>
      <td>Foothills Park</td>
      <td>Christianne Oliveira</td>
      <td>COVID-19 pandemic in the Regional Municipality...</td>
      <td>Frøken Norge 2011</td>
      <td>Ze'ev Herzog</td>
      <td>Vladimir Zelenko</td>
      <td>Lyttelton Rail Tunnel</td>
      <td>Quiver (mathematics)</td>
      <td>ß</td>
    </tr>
    <tr>
      <th>Hist 3</th>
      <td>Blackbird (land yacht)</td>
      <td>Kepler-533</td>
      <td>Student Nonviolent Coordinating Committee</td>
      <td>Living Lutheran</td>
      <td>Leonard B. Stern</td>
      <td>General Tso's chicken</td>
      <td>Motorola</td>
      <td>Giovanni Mossi</td>
      <td>Micralign</td>
      <td>Active users</td>
      <td>...</td>
      <td>Crossbow</td>
      <td>Colma, California</td>
      <td>Edward Hyams</td>
      <td>Larger than Life (film)</td>
      <td>Senri Kawaguchi</td>
      <td>Ze'ev Herzog</td>
      <td>Vladimir Zelenko</td>
      <td>Sumner, New Zealand</td>
      <td>Ring (mathematics)</td>
      <td>ß</td>
    </tr>
    <tr>
      <th>Hist 4</th>
      <td>Blackbird (land yacht)</td>
      <td>Kepler-533</td>
      <td>Civil Rights Act of 1964</td>
      <td>Esperance Stonehenge</td>
      <td>List of Worldcons</td>
      <td>Remilitarization of the Rhineland</td>
      <td>Universal asynchronous receiver-transmitter</td>
      <td>Mehrshahr</td>
      <td>MOS Technology 6502</td>
      <td>Active users</td>
      <td>...</td>
      <td>Conservation and restoration of historic firearms</td>
      <td>Vietnam War</td>
      <td>Edward Hyams</td>
      <td>Port Hudson State Historic Site</td>
      <td>Juneteenth</td>
      <td>Ze'ev Herzog</td>
      <td>Vladimir Zelenko</td>
      <td>Sumner, New Zealand</td>
      <td>Associative algebra</td>
      <td>Liturgical calendar of the Syro-Malabar Cathol...</td>
    </tr>
    <tr>
      <th>Hist 5</th>
      <td>Allium ursinum</td>
      <td>Next Indian general election in Gujarat</td>
      <td>Leesburg Stockade</td>
      <td>Alice Tegnér</td>
      <td>Mata Hari</td>
      <td>Popcorn chicken</td>
      <td>Universal asynchronous receiver-transmitter</td>
      <td>Marv Albert Show</td>
      <td>MOS Technology 6502</td>
      <td>-</td>
      <td>...</td>
      <td>Navajo Generating Station</td>
      <td>Mission District, San Francisco</td>
      <td>Edward Hyams</td>
      <td>Brenda Starr (1989 film)</td>
      <td>List of Finding Your Roots episodes</td>
      <td>Genesis creation narrative</td>
      <td>Vladimir Zelenko</td>
      <td>Sumner, New Zealand</td>
      <td>Associative algebra</td>
      <td>Liturgical calendar of the Syro-Malabar Cathol...</td>
    </tr>
    <tr>
      <th>Hist 6</th>
      <td>Monocotyledon</td>
      <td>Madhava Varma II</td>
      <td>Student Nonviolent Coordinating Committee</td>
      <td>Baa, Baa, Black Sheep</td>
      <td>Mata Hari</td>
      <td>Popcorn chicken</td>
      <td>Universal asynchronous receiver-transmitter</td>
      <td>Thomas Joel Maloy</td>
      <td>Fairchild 9440</td>
      <td>-</td>
      <td>...</td>
      <td>Navajo Generating Station</td>
      <td>Thomas Wolf</td>
      <td>Lausanne (disambiguation)</td>
      <td>Your Show Time</td>
      <td>List of Finding Your Roots episodes</td>
      <td>Almah</td>
      <td>Vladimir Zelenko</td>
      <td>Sumner, New Zealand</td>
      <td>Glossary of representation theory</td>
      <td>Hemanth</td>
    </tr>
    <tr>
      <th>Hist 7</th>
      <td>Tumor necrosis factor</td>
      <td>Fairness for High Skilled Immigrants Act</td>
      <td>Student Nonviolent Coordinating Committee</td>
      <td>Top of the World (The Carpenters song)</td>
      <td>Galgano Guidotti</td>
      <td>Unification of Norway</td>
      <td>Universal asynchronous receiver-transmitter</td>
      <td>Maître à penser</td>
      <td>National Semiconductor SC/MP</td>
      <td>-</td>
      <td>...</td>
      <td>Near Death Experience (disambiguation)</td>
      <td>San Francisco</td>
      <td>Edward Hyams</td>
      <td>Bob Callahan</td>
      <td>List of Finding Your Roots episodes</td>
      <td>Arianism</td>
      <td>Vladimir Zelenko</td>
      <td>Lyttelton road tunnel</td>
      <td>Glossary of representation theory</td>
      <td>Radha Prem Rangi Rangali</td>
    </tr>
    <tr>
      <th>Hist 8</th>
      <td>Tumor necrosis factor</td>
      <td>Eristalinus tabanoides</td>
      <td>Student Nonviolent Coordinating Committee</td>
      <td>Malmfälten</td>
      <td>Phyllis Eisenstein</td>
      <td>Bush shoeing incident</td>
      <td>Universal asynchronous receiver-transmitter</td>
      <td>Matthew 5:14</td>
      <td>National Semiconductor SC/MP</td>
      <td>-</td>
      <td>...</td>
      <td>Shiprock, New Mexico</td>
      <td>United States</td>
      <td>Edward Hyams</td>
      <td>Bob Callahan</td>
      <td>List of Finding Your Roots episodes</td>
      <td>Isaiah 7:14</td>
      <td>Vladimir Zelenko</td>
      <td>Lyttelton road tunnel</td>
      <td>Glossary of representation theory</td>
      <td>Bigg Boss Marathi (season 2)</td>
    </tr>
    <tr>
      <th>Hist 9</th>
      <td>Ernst Jünger</td>
      <td>Eristalinus tabanoides</td>
      <td>John Lewis</td>
      <td>Tartu</td>
      <td>Phyllis Eisenstein</td>
      <td>List of unsuccessful terrorist plots in the Un...</td>
      <td>Universal asynchronous receiver-transmitter</td>
      <td>Lo Bartolo</td>
      <td>National Semiconductor SC/MP</td>
      <td>-</td>
      <td>...</td>
      <td>Tata Motors</td>
      <td>Fictitious capital</td>
      <td>Edward Hyams</td>
      <td>Bob Callahan</td>
      <td>List of MeSH codes (G03)</td>
      <td>Nebuchadnezzar II</td>
      <td>Vladimir Zelenko</td>
      <td>Lyttelton road tunnel</td>
      <td>Glossary of differential geometry and topology</td>
      <td>Yeh Rishta Kya Kehlata Hai</td>
    </tr>
    <tr>
      <th>Hist 10</th>
      <td>Empedocles</td>
      <td>Eristalinus tabanoides</td>
      <td>Student Nonviolent Coordinating Committee</td>
      <td>Youth for Christ</td>
      <td>Redd Foxx</td>
      <td>Norway</td>
      <td>Universal asynchronous receiver-transmitter</td>
      <td>Large-group communication</td>
      <td>Fairchild F8</td>
      <td>-</td>
      <td>...</td>
      <td>Osedax japonicus</td>
      <td>Pendleton Ward</td>
      <td>Edward Hyams</td>
      <td>Bob Callahan</td>
      <td>List of MeSH codes (G03)</td>
      <td>Pornography addiction</td>
      <td>Celebrity doctor</td>
      <td>Evidence-based policing</td>
      <td>Glossary of differential geometry and topology</td>
      <td>Qalb (film)</td>
    </tr>
  </tbody>
</table>
<p>17 rows × 30 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="n">time</span>
<span class="c1"># Sorted by Jaccard</span>
<span class="n">K</span><span class="o">=</span><span class="mi">5</span>
<span class="n">jrec</span> <span class="o">=</span> <span class="n">recommenders</span><span class="o">.</span><span class="n">JaccardRecommender</span><span class="p">(</span><span class="n">implicit_matrix</span><span class="p">,</span> <span class="n">p2i</span><span class="o">=</span><span class="n">p2i</span><span class="p">,</span> <span class="n">t2i</span><span class="o">=</span><span class="n">t2i</span><span class="p">,</span> <span class="n">i2t</span><span class="o">=</span><span class="n">i2t</span><span class="p">,</span> <span class="n">i2p</span><span class="o">=</span><span class="n">i2p</span><span class="p">,</span> <span class="n">n2i</span><span class="o">=</span><span class="n">n2i</span><span class="p">,</span> <span class="n">u2i</span><span class="o">=</span><span class="n">u2i</span><span class="p">,</span> <span class="n">i2u</span><span class="o">=</span><span class="n">i2u</span><span class="p">)</span>
<span class="n">jrecs</span> <span class="o">=</span> <span class="n">jrec</span><span class="o">.</span><span class="n">recommend_all</span><span class="p">(</span><span class="n">userids</span><span class="p">[:</span><span class="mi">1000</span><span class="p">],</span> 
                                   <span class="mi">10</span><span class="p">,</span> 
                                   <span class="n">num_lookpage_pages</span><span class="o">=</span><span class="mi">50</span><span class="p">,</span> 
                                   <span class="n">recent_pages_dict</span><span class="o">=</span><span class="n">recent_pages_dict</span><span class="p">,</span> 
                                   <span class="n">interactions</span><span class="o">=</span><span class="n">histories_train</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Jaccard&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id": "e8b374d98a2f401c9f48ff75e50b67e1", "version_major": 2, "version_minor": 0}
</script><div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/Users/dsaunder/WikiRecs/repo/recommenders.py:212: RuntimeWarning:

Mean of empty slice
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Jaccard
CPU times: user 51min 21s, sys: 38min 14s, total: 1h 29min 36s
Wall time: 1h 35min 25s
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Recall @ </span><span class="si">%d</span><span class="s2">: </span><span class="si">%.1f%%</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">K</span><span class="p">,</span> <span class="mi">100</span><span class="o">*</span><span class="n">wr</span><span class="o">.</span><span class="n">recall</span><span class="p">(</span><span class="n">histories_test</span><span class="p">,</span> <span class="n">jrecs</span><span class="p">,</span> <span class="n">K</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Prop resurfaced: </span><span class="si">%.1f%%</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="mi">100</span><span class="o">*</span><span class="n">wr</span><span class="o">.</span><span class="n">prop_resurface</span><span class="p">(</span><span class="n">jrecs</span><span class="p">,</span> <span class="n">K</span><span class="p">,</span> <span class="n">implicit_matrix</span><span class="p">,</span> <span class="n">i2p</span><span class="p">,</span> <span class="n">u2i</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Recall @ </span><span class="si">%d</span><span class="s2"> (discovery): </span><span class="si">%.1f%%</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">K</span><span class="p">,</span> <span class="mi">100</span><span class="o">*</span><span class="n">wr</span><span class="o">.</span><span class="n">recall</span><span class="p">(</span><span class="n">histories_test</span><span class="p">,</span> <span class="n">jrecs</span><span class="p">,</span> <span class="n">K</span><span class="p">,</span> <span class="n">userid_subset</span><span class="o">=</span><span class="n">discovery_userids</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Recall @ </span><span class="si">%d</span><span class="s2"> (resurface): </span><span class="si">%.1f%%</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="n">K</span><span class="p">,</span> <span class="mi">100</span><span class="o">*</span><span class="n">wr</span><span class="o">.</span><span class="n">recall</span><span class="p">(</span><span class="n">histories_test</span><span class="p">,</span> <span class="n">jrecs</span><span class="p">,</span> <span class="n">K</span><span class="p">,</span> <span class="n">userid_subset</span><span class="o">=</span><span class="n">resurface_userids</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Recall @ 5: 0.0%
Prop resurfaced: 22.0%
Recall @ 5 (discovery): 0.0%
Recall @ 5 (resurface): 0.0%
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="interleaved">
<h2>Interleaved<a class="headerlink" href="#interleaved" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">recs</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>dict_keys([&#39;Popularity&#39;, &#39;Recent&#39;, &#39;Frequent&#39;, &#39;Implicit&#39;, &#39;Implicit_filtered&#39;, &#39;bm25&#39;, &#39;bm25_filtered&#39;, &#39;interleaved&#39;])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Interleaved jaccard and recent</span>
<span class="n">K</span><span class="o">=</span><span class="mi">20</span>
<span class="n">rec_name</span> <span class="o">=</span> <span class="s2">&quot;Interleaved&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">rec_name</span><span class="p">)</span>
<span class="n">intrec</span> <span class="o">=</span> <span class="n">recommenders</span><span class="o">.</span><span class="n">InterleaveRecommender</span><span class="p">()</span>
<span class="n">intrecs</span> <span class="o">=</span> <span class="n">intrec</span><span class="o">.</span><span class="n">recommend_all</span><span class="p">(</span><span class="n">K</span><span class="p">,</span> <span class="p">[</span><span class="n">recs</span><span class="p">[</span><span class="s1">&#39;Recent&#39;</span><span class="p">],</span> <span class="n">recs</span><span class="p">[</span><span class="s1">&#39;bm25_filtered&#39;</span><span class="p">]])</span>

<span class="n">wr</span><span class="o">.</span><span class="n">save_pickle</span><span class="p">(</span><span class="n">intrecs</span><span class="p">,</span> <span class="s2">&quot;../&quot;</span> <span class="o">+</span> <span class="n">rec_name</span> <span class="o">+</span><span class="s2">&quot;_recs.pickle&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Interleaved
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">results</span><span class="p">[</span><span class="n">rec_name</span><span class="p">]</span> <span class="o">=</span> <span class="n">wr</span><span class="o">.</span><span class="n">get_recs_metrics</span><span class="p">(</span>
    <span class="n">histories_dev</span><span class="p">,</span> <span class="n">intrecs</span><span class="p">,</span> <span class="n">K</span><span class="p">,</span> <span class="n">discovery_userids</span><span class="p">,</span> <span class="n">resurface_userids</span><span class="p">,</span> <span class="n">implicit_matrix</span><span class="p">,</span> <span class="n">i2p</span><span class="p">,</span> <span class="n">u2i</span><span class="p">)</span>
<span class="n">results</span><span class="p">[</span><span class="n">rec_name</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;recall&#39;: 21.382766778732414,
 &#39;ndcg&#39;: 0.12924273396038563,
 &#39;resurfaced&#39;: 42.478676379031256,
 &#39;recall_discover&#39;: 1.8364457031595716,
 &#39;recall_resurface&#39;: 67.75141717404996,
 &#39;ndcg_discover&#39;: 0.006943981897312752,
 &#39;ndcg_resurface&#39;: 0.4193652616867473}
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="report-on-evaluations-results">
<h2>Report on evaluations results<a class="headerlink" href="#report-on-evaluations-results" title="Permalink to this headline">¶</a></h2>
<div class="section" id="hard-coded-metrics">
<h3>Hard coded metrics<a class="headerlink" href="#hard-coded-metrics" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">results</span> <span class="o">=</span> <span class="p">{}</span>
<span class="n">results</span><span class="p">[</span><span class="s2">&quot;Popularity&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;recall&#39;</span><span class="p">:</span> <span class="mf">0.16187274312040842</span><span class="p">,</span>
 <span class="s1">&#39;ndcg&#39;</span><span class="p">:</span> <span class="mf">0.0005356797596941751</span><span class="p">,</span>
 <span class="s1">&#39;resurfaced&#39;</span><span class="p">:</span> <span class="mf">0.6213422985929523</span><span class="p">,</span>
 <span class="s1">&#39;recall_discover&#39;</span><span class="p">:</span> <span class="mf">0.11947959996459864</span><span class="p">,</span>
 <span class="s1">&#39;recall_resurface&#39;</span><span class="p">:</span> <span class="mf">0.2624396388830569</span><span class="p">,</span>
 <span class="s1">&#39;ndcg_discover&#39;</span><span class="p">:</span> <span class="mf">0.000410354483750028</span><span class="p">,</span>
 <span class="s1">&#39;ndcg_resurface&#39;</span><span class="p">:</span> <span class="mf">0.0008329819416998272</span><span class="p">}</span>
<span class="n">results</span><span class="p">[</span><span class="s2">&quot;Recent&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;recall&#39;</span><span class="p">:</span> <span class="mf">22.618602913709378</span><span class="p">,</span>
 <span class="s1">&#39;ndcg&#39;</span><span class="p">:</span> <span class="mf">0.14306080818547054</span><span class="p">,</span>
 <span class="s1">&#39;resurfaced&#39;</span><span class="p">:</span> <span class="mf">71.13808990163118</span><span class="p">,</span>
 <span class="s1">&#39;recall_discover&#39;</span><span class="p">:</span> <span class="mf">0.03982653332153288</span><span class="p">,</span>
 <span class="s1">&#39;recall_resurface&#39;</span><span class="p">:</span> <span class="mf">76.18097837497375</span><span class="p">,</span>
 <span class="s1">&#39;ndcg_discover&#39;</span><span class="p">:</span> <span class="mf">0.00011494775493754298</span><span class="p">,</span>
 <span class="s1">&#39;ndcg_resurface&#39;</span><span class="p">:</span> <span class="mf">0.4821633227780786</span><span class="p">}</span>
<span class="n">results</span><span class="p">[</span><span class="s2">&quot;Frequent&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;recall&#39;</span><span class="p">:</span> <span class="mf">20.834889802017184</span><span class="p">,</span>
 <span class="s1">&#39;ndcg&#39;</span><span class="p">:</span> <span class="mf">0.11356953338215306</span><span class="p">,</span>
 <span class="s1">&#39;resurfaced&#39;</span><span class="p">:</span> <span class="mf">76.10353629684971</span><span class="p">,</span>
 <span class="s1">&#39;recall_discover&#39;</span><span class="p">:</span> <span class="mf">0.035401362952473675</span><span class="p">,</span>
 <span class="s1">&#39;recall_resurface&#39;</span><span class="p">:</span> <span class="mf">70.17635943732941</span><span class="p">,</span>
 <span class="s1">&#39;ndcg_discover&#39;</span><span class="p">:</span> <span class="mf">9.90570471847343e-05</span><span class="p">,</span>
 <span class="s1">&#39;ndcg_resurface&#39;</span><span class="p">:</span> <span class="mf">0.38274923359395385</span><span class="p">}</span>
<span class="n">results</span><span class="p">[</span><span class="s2">&quot;ALS&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;recall&#39;</span><span class="p">:</span> <span class="mf">5.488108579255385</span><span class="p">,</span>
 <span class="s1">&#39;ndcg&#39;</span><span class="p">:</span> <span class="mf">0.026193145556306998</span><span class="p">,</span>
 <span class="s1">&#39;resurfaced&#39;</span><span class="p">:</span> <span class="mf">16.251556468683848</span><span class="p">,</span>
 <span class="s1">&#39;recall_discover&#39;</span><span class="p">:</span> <span class="mf">1.146119125586335</span><span class="p">,</span>
 <span class="s1">&#39;recall_resurface&#39;</span><span class="p">:</span> <span class="mf">15.788368675204703</span><span class="p">,</span>
 <span class="s1">&#39;ndcg_discover&#39;</span><span class="p">:</span> <span class="mf">0.004817135435898367</span><span class="p">,</span>
 <span class="s1">&#39;ndcg_resurface&#39;</span><span class="p">:</span> <span class="mf">0.0769022655123215</span><span class="p">}</span>
<span class="n">results</span><span class="p">[</span><span class="s2">&quot;ALS_filtered&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;recall&#39;</span><span class="p">:</span> <span class="mf">0.9027518366330469</span><span class="p">,</span>
 <span class="s1">&#39;ndcg&#39;</span><span class="p">:</span> <span class="mf">0.003856703716094881</span><span class="p">,</span>
 <span class="s1">&#39;resurfaced&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
 <span class="s1">&#39;recall_discover&#39;</span><span class="p">:</span> <span class="mf">1.2832994070271706</span><span class="p">,</span>
 <span class="s1">&#39;recall_resurface&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">,</span>
 <span class="s1">&#39;ndcg_discover&#39;</span><span class="p">:</span> <span class="mf">0.005482465270193466</span><span class="p">,</span>
 <span class="s1">&#39;ndcg_resurface&#39;</span><span class="p">:</span> <span class="mf">0.0</span><span class="p">}</span>
<span class="n">results</span><span class="p">[</span><span class="s2">&quot;BM25&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;recall&#39;</span><span class="p">:</span> <span class="mf">18.945336819823186</span><span class="p">,</span>
 <span class="s1">&#39;ndcg&#39;</span><span class="p">:</span> <span class="mf">0.1015175508656068</span><span class="p">,</span>
 <span class="s1">&#39;resurfaced&#39;</span><span class="p">:</span> <span class="mf">74.0469742248786</span><span class="p">,</span>
 <span class="s1">&#39;recall_discover&#39;</span><span class="p">:</span> <span class="mf">1.3939286662536507</span><span class="p">,</span>
 <span class="s1">&#39;recall_resurface&#39;</span><span class="p">:</span> <span class="mf">60.581566239764854</span><span class="p">,</span>
 <span class="s1">&#39;ndcg_discover&#39;</span><span class="p">:</span> <span class="mf">0.004204510293040833</span><span class="p">,</span>
 <span class="s1">&#39;ndcg_resurface&#39;</span><span class="p">:</span> <span class="mf">0.332367864833573</span><span class="p">}</span>
<span class="n">results</span><span class="p">[</span><span class="s2">&quot;BM25_filtered&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;recall&#39;</span><span class="p">:</span> <span class="mf">1.8148424853691942</span><span class="p">,</span>
 <span class="s1">&#39;ndcg&#39;</span><span class="p">:</span> <span class="mf">0.008622285155255174</span><span class="p">,</span>
 <span class="s1">&#39;resurfaced&#39;</span><span class="p">:</span> <span class="mf">0.14848711243929774</span><span class="p">,</span>
 <span class="s1">&#39;recall_discover&#39;</span><span class="p">:</span> <span class="mf">2.522347110363749</span><span class="p">,</span>
 <span class="s1">&#39;recall_resurface&#39;</span><span class="p">:</span> <span class="mf">0.1364686122191896</span><span class="p">,</span>
 <span class="s1">&#39;ndcg_discover&#39;</span><span class="p">:</span> <span class="mf">0.011740495141426633</span><span class="p">,</span>
 <span class="s1">&#39;ndcg_resurface&#39;</span><span class="p">:</span> <span class="mf">0.0012251290280766518</span><span class="p">}</span>
<span class="n">results</span><span class="p">[</span><span class="s2">&quot;Interleaved&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;recall&#39;</span><span class="p">:</span> <span class="mf">21.382766778732414</span><span class="p">,</span>
 <span class="s1">&#39;ndcg&#39;</span><span class="p">:</span> <span class="mf">0.12924273396038563</span><span class="p">,</span>
 <span class="s1">&#39;resurfaced&#39;</span><span class="p">:</span> <span class="mf">42.478676379031256</span><span class="p">,</span>
 <span class="s1">&#39;recall_discover&#39;</span><span class="p">:</span> <span class="mf">1.8364457031595716</span><span class="p">,</span>
 <span class="s1">&#39;recall_resurface&#39;</span><span class="p">:</span> <span class="mf">67.75141717404996</span><span class="p">,</span>
 <span class="s1">&#39;ndcg_discover&#39;</span><span class="p">:</span> <span class="mf">0.006943981897312752</span><span class="p">,</span>
 <span class="s1">&#39;ndcg_resurface&#39;</span><span class="p">:</span> <span class="mf">0.4193652616867473</span><span class="p">}</span>
<span class="n">results_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">results</span><span class="p">)</span><span class="o">.</span><span class="n">T</span>

<span class="n">results_df</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="table-of-results">
<h3>Table of results<a class="headerlink" href="#table-of-results" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">results_df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>index</th>
      <th>recall</th>
      <th>ndcg</th>
      <th>resurfaced</th>
      <th>recall_discover</th>
      <th>recall_resurface</th>
      <th>ndcg_discover</th>
      <th>ndcg_resurface</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Popularity</td>
      <td>0.161873</td>
      <td>0.000536</td>
      <td>0.621342</td>
      <td>0.119480</td>
      <td>0.262440</td>
      <td>0.000410</td>
      <td>0.000833</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Recent</td>
      <td>22.618603</td>
      <td>0.143061</td>
      <td>71.138090</td>
      <td>0.039827</td>
      <td>76.180978</td>
      <td>0.000115</td>
      <td>0.482163</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Frequent</td>
      <td>20.834890</td>
      <td>0.113570</td>
      <td>76.103536</td>
      <td>0.035401</td>
      <td>70.176359</td>
      <td>0.000099</td>
      <td>0.382749</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Implicit</td>
      <td>5.488109</td>
      <td>0.026193</td>
      <td>16.251556</td>
      <td>1.146119</td>
      <td>15.788369</td>
      <td>0.004817</td>
      <td>0.076902</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Implicit_filtered</td>
      <td>0.902752</td>
      <td>0.003857</td>
      <td>0.000000</td>
      <td>1.283299</td>
      <td>0.000000</td>
      <td>0.005482</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>5</th>
      <td>bm25</td>
      <td>18.945337</td>
      <td>0.101518</td>
      <td>74.046974</td>
      <td>1.393929</td>
      <td>60.581566</td>
      <td>0.004205</td>
      <td>0.332368</td>
    </tr>
    <tr>
      <th>6</th>
      <td>bm25_filtered</td>
      <td>1.814842</td>
      <td>0.008622</td>
      <td>0.148487</td>
      <td>2.522347</td>
      <td>0.136469</td>
      <td>0.011740</td>
      <td>0.001225</td>
    </tr>
    <tr>
      <th>7</th>
      <td>interleaved</td>
      <td>21.382767</td>
      <td>0.129243</td>
      <td>42.478676</td>
      <td>1.836446</td>
      <td>67.751417</td>
      <td>0.006944</td>
      <td>0.419365</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
<div class="section" id="fig-table-for-post">
<h3>FIG Table for post<a class="headerlink" href="#fig-table-for-post" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">scatter_text</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">text_column</span><span class="p">,</span> <span class="n">data</span><span class="p">,</span> <span class="n">title</span><span class="p">,</span> <span class="n">xlabel</span><span class="p">,</span> <span class="n">ylabel</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Scatter plot with country codes on the x y coordinates</span>
<span class="sd">       Based on this answer: https://stackoverflow.com/a/54789170/2641825&quot;&quot;&quot;</span>
    
    <span class="c1"># Create the scatter plot</span>
    <span class="n">p1</span> <span class="o">=</span> <span class="n">sns</span><span class="o">.</span><span class="n">scatterplot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">data</span><span class="o">=</span><span class="n">data</span><span class="p">,</span> <span class="n">size</span> <span class="o">=</span> <span class="mi">8</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="c1"># Add text besides each point</span>
    <span class="k">for</span> <span class="n">line</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="n">data</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
         <span class="n">p1</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">data</span><span class="p">[</span><span class="n">x</span><span class="p">][</span><span class="n">line</span><span class="p">]</span><span class="o">+</span><span class="mf">0.01</span><span class="p">,</span> <span class="n">data</span><span class="p">[</span><span class="n">y</span><span class="p">][</span><span class="n">line</span><span class="p">],</span> 
                 <span class="n">data</span><span class="p">[</span><span class="n">text_column</span><span class="p">][</span><span class="n">line</span><span class="p">],</span> <span class="n">horizontalalignment</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> 
                 <span class="n">size</span><span class="o">=</span><span class="s1">&#39;medium&#39;</span><span class="p">,</span> <span class="n">color</span><span class="o">=</span><span class="s1">&#39;black&#39;</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="s1">&#39;semibold&#39;</span><span class="p">)</span>
    <span class="c1"># Set title and axis labels</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="n">title</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="n">xlabel</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="n">ylabel</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">p1</span>


<span class="k">def</span> <span class="nf">highlight_max</span><span class="p">(</span><span class="n">s</span><span class="p">):</span>
    <span class="sd">&#39;&#39;&#39;</span>
<span class="sd">    highlight the maximum in a Series yellow.</span>
<span class="sd">    &#39;&#39;&#39;</span>
    <span class="n">is_max</span> <span class="o">=</span> <span class="n">s</span> <span class="o">==</span> <span class="n">s</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
    <span class="k">return</span> <span class="p">[</span><span class="s1">&#39;background-color: yellow&#39;</span> <span class="k">if</span> <span class="n">v</span> <span class="k">else</span> <span class="s1">&#39;&#39;</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">is_max</span><span class="p">]</span>



<span class="n">results_df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s2">&quot;recall&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">highlight_max</span><span class="p">,</span> <span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;recall&quot;</span><span class="p">,</span>
                                                                                    <span class="s2">&quot;ndcg&quot;</span><span class="p">,</span>
                                                                                    <span class="s2">&quot;resurfaced&quot;</span><span class="p">,</span>
                                                                                    <span class="s2">&quot;recall_discover&quot;</span><span class="p">,</span>
                                                                                    <span class="s2">&quot;recall_resurface&quot;</span><span class="p">,</span>
                                                                                    <span class="s2">&quot;ndcg_discover&quot;</span><span class="p">,</span>
                                                                                    <span class="s2">&quot;ndcg_resurface&quot;</span><span class="p">,])</span><span class="o">.</span><span class="n">format</span><span class="p">({</span><span class="s2">&quot;recall&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">{:.1f}</span><span class="s2">%&quot;</span><span class="p">,</span> 
                                             <span class="s2">&quot;ndcg&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">{:.3f}</span><span class="s2">&quot;</span><span class="p">,</span>
                                             <span class="s2">&quot;resurfaced&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">{:.1f}</span><span class="s2">%&quot;</span><span class="p">,</span> 
                                             <span class="s2">&quot;recall_discover&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">{:.1f}</span><span class="s2">%&quot;</span><span class="p">,</span> 
                                              <span class="s2">&quot;recall_resurface&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">{:.1f}</span><span class="s2">%&quot;</span><span class="p">,</span> 
                                            <span class="s2">&quot;ndcg_discover&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">{:.3f}</span><span class="s2">&quot;</span><span class="p">,</span>
                                              <span class="s2">&quot;ndcg_resurface&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">{:.3f}</span><span class="s2">&quot;</span><span class="p">,</span>
                                             <span class="p">})</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">colnames</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Recommender&quot;</span><span class="p">,</span> <span class="s2">&quot;Recall@20&quot;</span><span class="p">,</span> <span class="s2">&quot;nDCG@20&quot;</span><span class="p">,</span><span class="s2">&quot;Resurfaced&quot;</span><span class="p">,</span><span class="s2">&quot;Recall@20 discovery&quot;</span><span class="p">,</span><span class="s2">&quot;Recall@20 resurface&quot;</span><span class="p">,</span><span class="s2">&quot;nDCG@20 discovery&quot;</span><span class="p">,</span><span class="s2">&quot;nDCG@20 resurface&quot;</span><span class="p">]</span>
<span class="c1">#apply(highlight_max, subset=colnames[1:]).</span>
<span class="n">results_df</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="n">colnames</span>
<span class="n">results_df</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s2">&quot;Recall@20&quot;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">style</span><span class="o">.</span>\
    <span class="nb">format</span><span class="p">({</span><span class="s2">&quot;Recall@20&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">{:.1f}</span><span class="s2">%&quot;</span><span class="p">,</span> 
             <span class="s2">&quot;nDCG@20&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">{:.3f}</span><span class="s2">&quot;</span><span class="p">,</span>
             <span class="s2">&quot;Resurfaced&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">{:.1f}</span><span class="s2">%&quot;</span><span class="p">,</span> 
             <span class="s2">&quot;Recall@20 discovery&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">{:.1f}</span><span class="s2">%&quot;</span><span class="p">,</span> 
             <span class="s2">&quot;Recall@20 resurface&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">{:.1f}</span><span class="s2">%&quot;</span><span class="p">,</span> 
             <span class="s2">&quot;nDCG@20 discovery&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">{:.3f}</span><span class="s2">&quot;</span><span class="p">,</span>
             <span class="s2">&quot;nDCG@20 resurface&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="si">{:.3f}</span><span class="s2">&quot;</span><span class="p">,</span>
             <span class="p">})</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style  type="text/css" >
</style><table id="T_2c420_" ><thead>    <tr>        <th class="blank level0" ></th>        <th class="col_heading level0 col0" >Recommender</th>        <th class="col_heading level0 col1" >Recall@20</th>        <th class="col_heading level0 col2" >nDCG@20</th>        <th class="col_heading level0 col3" >Resurfaced</th>        <th class="col_heading level0 col4" >Recall@20 discovery</th>        <th class="col_heading level0 col5" >Recall@20 resurface</th>        <th class="col_heading level0 col6" >nDCG@20 discovery</th>        <th class="col_heading level0 col7" >nDCG@20 resurface</th>    </tr></thead><tbody>
                <tr>
                        <th id="T_2c420_level0_row0" class="row_heading level0 row0" >1</th>
                        <td id="T_2c420_row0_col0" class="data row0 col0" >Recent</td>
                        <td id="T_2c420_row0_col1" class="data row0 col1" >22.6%</td>
                        <td id="T_2c420_row0_col2" class="data row0 col2" >0.143</td>
                        <td id="T_2c420_row0_col3" class="data row0 col3" >71.1%</td>
                        <td id="T_2c420_row0_col4" class="data row0 col4" >0.0%</td>
                        <td id="T_2c420_row0_col5" class="data row0 col5" >76.2%</td>
                        <td id="T_2c420_row0_col6" class="data row0 col6" >0.000</td>
                        <td id="T_2c420_row0_col7" class="data row0 col7" >0.482</td>
            </tr>
            <tr>
                        <th id="T_2c420_level0_row1" class="row_heading level0 row1" >7</th>
                        <td id="T_2c420_row1_col0" class="data row1 col0" >Interleaved</td>
                        <td id="T_2c420_row1_col1" class="data row1 col1" >21.4%</td>
                        <td id="T_2c420_row1_col2" class="data row1 col2" >0.129</td>
                        <td id="T_2c420_row1_col3" class="data row1 col3" >42.5%</td>
                        <td id="T_2c420_row1_col4" class="data row1 col4" >1.8%</td>
                        <td id="T_2c420_row1_col5" class="data row1 col5" >67.8%</td>
                        <td id="T_2c420_row1_col6" class="data row1 col6" >0.007</td>
                        <td id="T_2c420_row1_col7" class="data row1 col7" >0.419</td>
            </tr>
            <tr>
                        <th id="T_2c420_level0_row2" class="row_heading level0 row2" >2</th>
                        <td id="T_2c420_row2_col0" class="data row2 col0" >Frequent</td>
                        <td id="T_2c420_row2_col1" class="data row2 col1" >20.8%</td>
                        <td id="T_2c420_row2_col2" class="data row2 col2" >0.114</td>
                        <td id="T_2c420_row2_col3" class="data row2 col3" >76.1%</td>
                        <td id="T_2c420_row2_col4" class="data row2 col4" >0.0%</td>
                        <td id="T_2c420_row2_col5" class="data row2 col5" >70.2%</td>
                        <td id="T_2c420_row2_col6" class="data row2 col6" >0.000</td>
                        <td id="T_2c420_row2_col7" class="data row2 col7" >0.383</td>
            </tr>
            <tr>
                        <th id="T_2c420_level0_row3" class="row_heading level0 row3" >5</th>
                        <td id="T_2c420_row3_col0" class="data row3 col0" >BM25</td>
                        <td id="T_2c420_row3_col1" class="data row3 col1" >18.9%</td>
                        <td id="T_2c420_row3_col2" class="data row3 col2" >0.102</td>
                        <td id="T_2c420_row3_col3" class="data row3 col3" >74.0%</td>
                        <td id="T_2c420_row3_col4" class="data row3 col4" >1.4%</td>
                        <td id="T_2c420_row3_col5" class="data row3 col5" >60.6%</td>
                        <td id="T_2c420_row3_col6" class="data row3 col6" >0.004</td>
                        <td id="T_2c420_row3_col7" class="data row3 col7" >0.332</td>
            </tr>
            <tr>
                        <th id="T_2c420_level0_row4" class="row_heading level0 row4" >3</th>
                        <td id="T_2c420_row4_col0" class="data row4 col0" >ALS</td>
                        <td id="T_2c420_row4_col1" class="data row4 col1" >5.5%</td>
                        <td id="T_2c420_row4_col2" class="data row4 col2" >0.026</td>
                        <td id="T_2c420_row4_col3" class="data row4 col3" >16.3%</td>
                        <td id="T_2c420_row4_col4" class="data row4 col4" >1.1%</td>
                        <td id="T_2c420_row4_col5" class="data row4 col5" >15.8%</td>
                        <td id="T_2c420_row4_col6" class="data row4 col6" >0.005</td>
                        <td id="T_2c420_row4_col7" class="data row4 col7" >0.077</td>
            </tr>
            <tr>
                        <th id="T_2c420_level0_row5" class="row_heading level0 row5" >6</th>
                        <td id="T_2c420_row5_col0" class="data row5 col0" >BM25_filtered</td>
                        <td id="T_2c420_row5_col1" class="data row5 col1" >1.8%</td>
                        <td id="T_2c420_row5_col2" class="data row5 col2" >0.009</td>
                        <td id="T_2c420_row5_col3" class="data row5 col3" >0.1%</td>
                        <td id="T_2c420_row5_col4" class="data row5 col4" >2.5%</td>
                        <td id="T_2c420_row5_col5" class="data row5 col5" >0.1%</td>
                        <td id="T_2c420_row5_col6" class="data row5 col6" >0.012</td>
                        <td id="T_2c420_row5_col7" class="data row5 col7" >0.001</td>
            </tr>
            <tr>
                        <th id="T_2c420_level0_row6" class="row_heading level0 row6" >4</th>
                        <td id="T_2c420_row6_col0" class="data row6 col0" >ALS_filtered</td>
                        <td id="T_2c420_row6_col1" class="data row6 col1" >0.9%</td>
                        <td id="T_2c420_row6_col2" class="data row6 col2" >0.004</td>
                        <td id="T_2c420_row6_col3" class="data row6 col3" >0.0%</td>
                        <td id="T_2c420_row6_col4" class="data row6 col4" >1.3%</td>
                        <td id="T_2c420_row6_col5" class="data row6 col5" >0.0%</td>
                        <td id="T_2c420_row6_col6" class="data row6 col6" >0.005</td>
                        <td id="T_2c420_row6_col7" class="data row6 col7" >0.000</td>
            </tr>
            <tr>
                        <th id="T_2c420_level0_row7" class="row_heading level0 row7" >0</th>
                        <td id="T_2c420_row7_col0" class="data row7 col0" >Popularity</td>
                        <td id="T_2c420_row7_col1" class="data row7 col1" >0.2%</td>
                        <td id="T_2c420_row7_col2" class="data row7 col2" >0.001</td>
                        <td id="T_2c420_row7_col3" class="data row7 col3" >0.6%</td>
                        <td id="T_2c420_row7_col4" class="data row7 col4" >0.1%</td>
                        <td id="T_2c420_row7_col5" class="data row7 col5" >0.3%</td>
                        <td id="T_2c420_row7_col6" class="data row7 col6" >0.000</td>
                        <td id="T_2c420_row7_col7" class="data row7 col7" >0.001</td>
            </tr>
    </tbody></table></div></div>
</div>
</div>
<div class="section" id="scatter-plots-resurface-vs-discover">
<h3>Scatter plots (resurface vs discover)<a class="headerlink" href="#scatter-plots-resurface-vs-discover" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">data_frame</span><span class="o">=</span><span class="n">results_df</span><span class="p">,</span>
                 <span class="n">x</span><span class="o">=</span><span class="s1">&#39;ndcg_discover&#39;</span><span class="p">,</span>
                 <span class="n">y</span><span class="o">=</span><span class="s1">&#39;ndcg_resurface&#39;</span><span class="p">,</span>
                <span class="n">hover_name</span><span class="o">=</span><span class="s1">&#39;index&#39;</span><span class="p">)</span>
<span class="c1">#                  hover_name=&#39;title&#39;,)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">fig</span> <span class="o">=</span> <span class="n">px</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">data_frame</span><span class="o">=</span><span class="n">results_df</span><span class="p">,</span>
                 <span class="n">x</span><span class="o">=</span><span class="s1">&#39;recall_discover&#39;</span><span class="p">,</span>
                 <span class="n">y</span><span class="o">=</span><span class="s1">&#39;recall_resurface&#39;</span><span class="p">,</span>
                <span class="n">hover_name</span><span class="o">=</span><span class="s1">&#39;index&#39;</span><span class="p">)</span>
<span class="c1">#                  hover_name=&#39;title&#39;,)</span>
<span class="n">fig</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="fig-scatterplot-for-post">
<h3>FIG Scatterplot for post<a class="headerlink" href="#fig-scatterplot-for-post" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">x</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="p">[</span><span class="n">results_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">results_df</span><span class="o">.</span><span class="n">Recommender</span> <span class="o">==</span> <span class="s2">&quot;Interleaved&quot;</span><span class="p">,</span><span class="s2">&quot;Recall@20 resurface&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>
<span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="n">results_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">results_df</span><span class="o">.</span><span class="n">Recommender</span> <span class="o">==</span> <span class="s2">&quot;Interleaved&quot;</span><span class="p">,</span><span class="s2">&quot;Recall@20 discovery&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">set_theme</span><span class="p">(</span><span class="n">style</span><span class="o">=</span><span class="s2">&quot;darkgrid&quot;</span><span class="p">)</span>
<span class="n">matplotlib</span><span class="o">.</span><span class="n">rcParams</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;font.size&#39;</span><span class="p">:</span> <span class="mi">48</span><span class="p">,</span> <span class="s1">&#39;figure.figsize&#39;</span><span class="p">:(</span><span class="mi">8</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span> <span class="s1">&#39;legend.edgecolor&#39;</span><span class="p">:</span><span class="s1">&#39;k&#39;</span><span class="p">})</span>


<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">12</span><span class="p">,</span><span class="mi">7</span><span class="p">))</span>
<span class="n">A</span> <span class="o">=</span> <span class="n">results_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s1">&#39;Recall@20 discovery&#39;</span><span class="p">]</span>
<span class="n">B</span> <span class="o">=</span> <span class="n">results_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s1">&#39;Recall@20 resurface&#39;</span><span class="p">]</span>

<span class="n">x</span> <span class="o">=</span> <span class="mi">2</span><span class="o">*</span><span class="p">[</span><span class="n">results_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">results_df</span><span class="o">.</span><span class="n">Recommender</span> <span class="o">==</span> <span class="s2">&quot;Interleaved&quot;</span><span class="p">,</span><span class="s2">&quot;Recall@20 discovery&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>
<span class="n">y</span> <span class="o">=</span> <span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">results_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">results_df</span><span class="o">.</span><span class="n">Recommender</span> <span class="o">==</span> <span class="s2">&quot;Interleaved&quot;</span><span class="p">,</span><span class="s2">&quot;Recall@20 resurface&quot;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]]</span>
<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="s2">&quot;:k&quot;</span><span class="p">)</span>
<span class="n">x</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">y</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">y</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="c1"># plt.rcParams.update({&#39;font.size&#39;: 48})</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rc</span><span class="p">(</span><span class="s1">&#39;xtick&#39;</span><span class="p">,</span> <span class="n">labelsize</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span>

<span class="n">font</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;family&#39;</span> <span class="p">:</span> <span class="s1">&#39;normal&#39;</span><span class="p">,</span>
        <span class="s1">&#39;weight&#39;</span> <span class="p">:</span> <span class="s1">&#39;normal&#39;</span><span class="p">,</span>
        <span class="s1">&#39;size&#39;</span>   <span class="p">:</span> <span class="mi">22</span><span class="p">}</span>

<span class="n">matplotlib</span><span class="o">.</span><span class="n">rc</span><span class="p">(</span><span class="s1">&#39;font&#39;</span><span class="p">,</span> <span class="o">**</span><span class="n">font</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">x</span><span class="p">,</span><span class="n">y</span><span class="p">,</span><span class="s2">&quot;:k&quot;</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">A</span><span class="p">,</span><span class="n">B</span><span class="p">,</span><span class="s1">&#39;.&#39;</span><span class="p">,</span> <span class="n">MarkerSize</span><span class="o">=</span><span class="mi">15</span><span class="p">)</span>


<span class="k">for</span> <span class="n">xyz</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">results_df</span><span class="o">.</span><span class="n">Recommender</span><span class="p">,</span> <span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">):</span>                                       <span class="c1"># &lt;--</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">xyz</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">xy</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">xyz</span><span class="p">[</span><span class="mi">1</span><span class="p">:])</span><span class="o">+</span><span class="p">(</span><span class="mf">0.05</span><span class="p">,</span><span class="mi">0</span><span class="p">),</span> <span class="n">textcoords</span><span class="o">=</span><span class="s1">&#39;data&#39;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">18</span><span class="p">)</span> <span class="c1"># &lt;--</span>

<span class="k">for</span> <span class="n">tick</span> <span class="ow">in</span> <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">get_major_ticks</span><span class="p">():</span>
    <span class="n">tick</span><span class="o">.</span><span class="n">label</span><span class="o">.</span><span class="n">set_fontsize</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
<span class="k">for</span> <span class="n">tick</span> <span class="ow">in</span> <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">get_major_ticks</span><span class="p">():</span>
    <span class="n">tick</span><span class="o">.</span><span class="n">label</span><span class="o">.</span><span class="n">set_fontsize</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>

<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;Recall@20 discovery (%)&quot;</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Recall@20 resurface (%)&quot;</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span><span class="mi">3</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">([</span><span class="o">-</span><span class="mi">2</span><span class="p">,</span><span class="mi">85</span><span class="p">])</span>
<span class="n">axes</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;ipython-input-60-79f665c411c3&gt;:25: MatplotlibDeprecationWarning: Case-insensitive properties were deprecated in 3.3 and support will be removed two minor releases later
  plt.plot(A,B,&#39;.&#39;, MarkerSize=15)
</pre></div>
</div>
<img alt="../_images/T990001_wikirecs_recommender_172_1.png" src="../_images/T990001_wikirecs_recommender_172_1.png" />
</div>
</div>
</div>
</div>
<div class="section" id="read-recs-in-from-files">
<h2>Read recs in from files<a class="headerlink" href="#read-recs-in-from-files" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">recommender_names</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Popularity&#39;</span><span class="p">,</span> <span class="s1">&#39;Recent&#39;</span><span class="p">,</span> <span class="s1">&#39;Frequent&#39;</span><span class="p">,</span> <span class="s1">&#39;ALS&#39;</span><span class="p">,</span> <span class="s1">&#39;ALS_filtered&#39;</span><span class="p">,</span> <span class="s1">&#39;BM25&#39;</span><span class="p">,</span> <span class="s1">&#39;BM25_filtered&#39;</span><span class="p">,</span> <span class="s1">&#39;Interleaved&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">recs</span> <span class="o">=</span> <span class="p">{</span><span class="n">rname</span><span class="p">:</span><span class="n">wr</span><span class="o">.</span><span class="n">load_pickle</span><span class="p">(</span><span class="s2">&quot;../&quot;</span> <span class="o">+</span> <span class="n">rname</span> <span class="o">+</span> <span class="s2">&quot;_recs.pickle&quot;</span><span class="p">)</span> <span class="k">for</span> <span class="n">rname</span> <span class="ow">in</span> <span class="n">recommender_names</span><span class="p">}</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="recall-curves">
<h2>Recall curves<a class="headerlink" href="#recall-curves" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">histories_dev</span> <span class="o">=</span> <span class="n">feather</span><span class="o">.</span><span class="n">read_feather</span><span class="p">(</span><span class="s1">&#39;../histories_dev_2021-05-28.feather&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
<span class="k">for</span> <span class="n">rname</span> <span class="ow">in</span> <span class="n">recommender_names</span><span class="p">:</span>
    <span class="n">recall_curve</span> <span class="o">=</span> <span class="n">wr</span><span class="o">.</span><span class="n">recall_curve</span><span class="p">(</span><span class="n">histories_dev</span><span class="p">,</span> <span class="n">recs</span><span class="p">[</span><span class="n">rname</span><span class="p">],</span> <span class="mi">20</span><span class="p">)</span>
<span class="c1">#     print(recall_curve[-1])</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">recall_curve</span><span class="p">,</span><span class="s1">&#39;.-&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">recommender_names</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.legend.Legend at 0x12c7aa8b0&gt;
</pre></div>
</div>
<img alt="../_images/T990001_wikirecs_recommender_178_1.png" src="../_images/T990001_wikirecs_recommender_178_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
<span class="k">for</span> <span class="n">rname</span> <span class="ow">in</span> <span class="n">recommender_names</span><span class="p">:</span>
    <span class="n">recall_curve</span> <span class="o">=</span> <span class="n">wr</span><span class="o">.</span><span class="n">recall_curve</span><span class="p">(</span><span class="n">histories_dev</span><span class="p">,</span> <span class="n">recs</span><span class="p">[</span><span class="n">rname</span><span class="p">],</span> <span class="mi">20</span><span class="p">,</span> <span class="n">discovery_userids</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">recall_curve</span><span class="p">,</span><span class="s1">&#39;.-&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">recommender_names</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.legend.Legend at 0x1830c5970&gt;
</pre></div>
</div>
<img alt="../_images/T990001_wikirecs_recommender_179_1.png" src="../_images/T990001_wikirecs_recommender_179_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span><span class="mi">10</span><span class="p">))</span>
<span class="k">for</span> <span class="n">rname</span> <span class="ow">in</span> <span class="n">recommender_names</span><span class="p">:</span>
    <span class="n">recall_curve</span> <span class="o">=</span> <span class="n">wr</span><span class="o">.</span><span class="n">recall_curve</span><span class="p">(</span><span class="n">histories_dev</span><span class="p">,</span> <span class="n">recs</span><span class="p">[</span><span class="n">rname</span><span class="p">],</span> <span class="mi">20</span><span class="p">,</span> <span class="n">resurface_userids</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">recall_curve</span><span class="p">,</span><span class="s1">&#39;.-&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">recommender_names</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&lt;matplotlib.legend.Legend at 0x214bf30a0&gt;
</pre></div>
</div>
<img alt="../_images/T990001_wikirecs_recommender_180_1.png" src="../_images/T990001_wikirecs_recommender_180_1.png" />
</div>
</div>
<div class="section" id="fig-implicit-vs-bm25-figure">
<h3>FIG Implicit vs BM25 figure<a class="headerlink" href="#fig-implicit-vs-bm25-figure" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">set_theme</span><span class="p">(</span><span class="n">style</span><span class="o">=</span><span class="s2">&quot;darkgrid&quot;</span><span class="p">)</span>
<span class="n">matplotlib</span><span class="o">.</span><span class="n">rcParams</span><span class="o">.</span><span class="n">update</span><span class="p">({</span><span class="s1">&#39;font.size&#39;</span><span class="p">:</span> <span class="mi">18</span><span class="p">,</span> <span class="s1">&#39;figure.figsize&#39;</span><span class="p">:(</span><span class="mi">8</span><span class="p">,</span><span class="mi">5</span><span class="p">),</span> <span class="s1">&#39;legend.edgecolor&#39;</span><span class="p">:</span><span class="s1">&#39;k&#39;</span><span class="p">})</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span><span class="mi">6</span><span class="p">))</span>
<span class="k">for</span> <span class="n">rname</span> <span class="ow">in</span> <span class="p">[</span><span class="s2">&quot;ALS&quot;</span><span class="p">,</span><span class="s2">&quot;BM25&quot;</span><span class="p">]:</span>
    <span class="n">recall_curve</span> <span class="o">=</span> <span class="n">wr</span><span class="o">.</span><span class="n">recall_curve</span><span class="p">(</span><span class="n">histories_dev</span><span class="p">,</span> <span class="n">recs</span><span class="p">[</span><span class="n">rname</span><span class="p">],</span> <span class="mi">20</span><span class="p">,</span> <span class="n">discovery_userids</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">recall_curve</span><span class="p">)</span><span class="o">*</span><span class="mi">100</span><span class="p">,</span><span class="s1">&#39;.-&#39;</span><span class="p">,</span><span class="n">markersize</span><span class="o">=</span><span class="mi">12</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span> <span class="p">[</span><span class="s2">&quot;ALS&quot;</span><span class="p">,</span><span class="s2">&quot;BM25&quot;</span><span class="p">],</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;Algorithm&quot;</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span> <span class="n">title_fontsize</span><span class="o">=</span><span class="mi">16</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="s2">&quot;w&quot;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;@N&quot;</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;Discovery recall (%)&quot;</span><span class="p">,</span><span class="n">fontsize</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
<span class="n">_</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">20</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
<span class="c1"># plt.gca().legend(prop=dict(size=20))</span>
<span class="k">for</span> <span class="n">tick</span> <span class="ow">in</span> <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">get_major_ticks</span><span class="p">():</span>
    <span class="n">tick</span><span class="o">.</span><span class="n">label</span><span class="o">.</span><span class="n">set_fontsize</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
<span class="k">for</span> <span class="n">tick</span> <span class="ow">in</span> <span class="n">plt</span><span class="o">.</span><span class="n">gca</span><span class="p">()</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">get_major_ticks</span><span class="p">():</span>
    <span class="n">tick</span><span class="o">.</span><span class="n">label</span><span class="o">.</span><span class="n">set_fontsize</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/T990001_wikirecs_recommender_182_0.png" src="../_images/T990001_wikirecs_recommender_182_0.png" />
</div>
</div>
</div>
</div>
<div class="section" id="user-recommendation-comparison">
<h2>User recommendation comparison<a class="headerlink" href="#user-recommendation-comparison" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">recs_subset</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Recent&quot;</span><span class="p">,</span><span class="s2">&quot;Frequent&quot;</span><span class="p">,</span><span class="s2">&quot;Popularity&quot;</span><span class="p">,</span><span class="s2">&quot;Implicit&quot;</span><span class="p">,</span><span class="s2">&quot;bm25&quot;</span><span class="p">,</span><span class="s2">&quot;interleaved&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Next edit: &quot;</span> <span class="o">+</span> <span class="n">histories_dev</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">histories_dev</span><span class="o">.</span><span class="n">userid</span> <span class="o">==</span> <span class="n">userid</span><span class="p">]</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Next edit: Police van
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="fig-rama-table">
<h2>FIG Rama table<a class="headerlink" href="#fig-rama-table" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">bold_viewed</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="n">viewed_pages</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Takes a scalar and returns a string with</span>
<span class="sd">    the css property `&#39;color: red&#39;` for negative</span>
<span class="sd">    strings, black otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">weight</span> <span class="o">=</span> <span class="s1">&#39;bold&#39;</span> <span class="k">if</span> <span class="n">val</span> <span class="ow">in</span>  <span class="n">viewed_pages</span> <span class="k">else</span> <span class="s1">&#39;normal&#39;</span>
    <span class="k">return</span> <span class="s1">&#39;font-weight: </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">weight</span>

<span class="k">def</span> <span class="nf">color_target</span><span class="p">(</span><span class="n">val</span><span class="p">,</span> <span class="n">target_page</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Takes a scalar and returns a string with</span>
<span class="sd">    the css property `&#39;color: red&#39;` for negative</span>
<span class="sd">    strings, black otherwise.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;red&#39;</span> <span class="k">if</span> <span class="n">val</span> <span class="o">==</span>  <span class="n">target_page</span> <span class="k">else</span> <span class="s1">&#39;black&#39;</span>
    <span class="k">return</span> <span class="s1">&#39;color: </span><span class="si">%s</span><span class="s1">&#39;</span> <span class="o">%</span> <span class="n">color</span>

<span class="k">def</span> <span class="nf">display_user_recs_comparison</span><span class="p">(</span><span class="n">user_name</span><span class="p">,</span> <span class="n">recs</span><span class="p">,</span> <span class="n">recs_subset</span><span class="p">,</span> <span class="n">train_set</span><span class="p">,</span> <span class="n">test_set</span><span class="p">,</span> <span class="n">N</span><span class="o">=</span><span class="mi">20</span><span class="p">):</span>
    <span class="n">userid</span> <span class="o">=</span> <span class="n">n2u</span><span class="p">[</span><span class="n">user_name</span><span class="p">]</span>
    <span class="n">recs_table</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="n">rec_name</span><span class="p">:</span> <span class="p">[</span><span class="n">p2t</span><span class="p">[</span><span class="n">r</span><span class="p">]</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">recs</span><span class="p">[</span><span class="n">rec_name</span><span class="p">][</span><span class="n">userid</span><span class="p">][:</span><span class="n">N</span><span class="p">]]</span> <span class="k">for</span> <span class="n">rec_name</span> <span class="ow">in</span> <span class="n">recs_subset</span><span class="p">})</span>
    <span class="n">recs_table</span> <span class="o">=</span> <span class="n">recs_table</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span>
    <span class="n">recs_table</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s2">&quot;index&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">recs_table</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span><span class="s2">&quot;index&quot;</span><span class="p">]</span><span class="o">+</span><span class="mi">1</span>
    <span class="n">recs_table</span> <span class="o">=</span> <span class="n">recs_table</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s2">&quot;index&quot;</span><span class="p">:</span><span class="s2">&quot;&quot;</span><span class="p">})</span>
    <span class="n">viewed_pages</span> <span class="o">=</span> <span class="n">train_set</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">train_set</span><span class="o">.</span><span class="n">userid</span> <span class="o">==</span> <span class="n">userid</span><span class="p">,[</span><span class="s2">&quot;title&quot;</span><span class="p">]]</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s2">&quot;title&quot;</span><span class="p">])</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">squeeze</span><span class="p">()</span>
    <span class="n">target_page</span> <span class="o">=</span> <span class="n">test_set</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">test_set</span><span class="o">.</span><span class="n">userid</span> <span class="o">==</span> <span class="n">userid</span><span class="p">]</span><span class="o">.</span><span class="n">title</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="c1">#     print(&quot;Next edit: &quot; + target_page)</span>
    <span class="n">s</span> <span class="o">=</span> <span class="n">recs_table</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">applymap</span><span class="p">(</span><span class="n">bold_viewed</span><span class="p">,</span> <span class="n">viewed_pages</span><span class="o">=</span><span class="n">viewed_pages</span><span class="p">)</span><span class="o">.</span><span class="n">applymap</span><span class="p">(</span><span class="n">color_target</span><span class="p">,</span> <span class="n">target_page</span><span class="o">=</span><span class="n">target_page</span><span class="p">)</span>
    <span class="n">display</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">recs_subset</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Recent&quot;</span><span class="p">,</span><span class="s2">&quot;Frequent&quot;</span><span class="p">,</span><span class="s2">&quot;Popularity&quot;</span><span class="p">,</span><span class="s2">&quot;ALS&quot;</span><span class="p">,</span><span class="s2">&quot;ALS_filtered&quot;</span><span class="p">,</span><span class="s2">&quot;BM25&quot;</span><span class="p">,</span><span class="s2">&quot;BM25_filtered&quot;</span><span class="p">]</span>

<span class="n">display_user_recs_comparison</span><span class="p">(</span><span class="s1">&#39;Rama&#39;</span><span class="p">,</span> <span class="n">recs</span><span class="p">,</span> <span class="n">recs_subset</span><span class="p">,</span> <span class="n">histories_train</span><span class="p">,</span> <span class="n">histories_dev</span><span class="p">,</span> <span class="n">N</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style  type="text/css" >
#T_abe89_row0_col0,#T_abe89_row0_col3,#T_abe89_row0_col5,#T_abe89_row0_col7,#T_abe89_row1_col0,#T_abe89_row1_col3,#T_abe89_row1_col5,#T_abe89_row1_col7,#T_abe89_row2_col0,#T_abe89_row2_col3,#T_abe89_row2_col5,#T_abe89_row2_col7,#T_abe89_row3_col0,#T_abe89_row3_col3,#T_abe89_row3_col5,#T_abe89_row3_col7,#T_abe89_row4_col0,#T_abe89_row4_col3,#T_abe89_row4_col5,#T_abe89_row4_col7,#T_abe89_row5_col0,#T_abe89_row5_col3,#T_abe89_row5_col5,#T_abe89_row5_col7,#T_abe89_row6_col0,#T_abe89_row6_col3,#T_abe89_row6_col5,#T_abe89_row6_col7,#T_abe89_row7_col0,#T_abe89_row7_col3,#T_abe89_row7_col5,#T_abe89_row7_col7,#T_abe89_row8_col0,#T_abe89_row8_col3,#T_abe89_row8_col5,#T_abe89_row8_col7,#T_abe89_row9_col0,#T_abe89_row9_col3,#T_abe89_row9_col5,#T_abe89_row9_col7{
            font-weight:  normal;
            color:  black;
        }#T_abe89_row0_col1,#T_abe89_row0_col2,#T_abe89_row0_col4,#T_abe89_row0_col6,#T_abe89_row1_col2,#T_abe89_row1_col4,#T_abe89_row1_col6,#T_abe89_row2_col1,#T_abe89_row2_col2,#T_abe89_row2_col4,#T_abe89_row2_col6,#T_abe89_row3_col1,#T_abe89_row3_col2,#T_abe89_row3_col4,#T_abe89_row3_col6,#T_abe89_row4_col1,#T_abe89_row4_col2,#T_abe89_row4_col4,#T_abe89_row4_col6,#T_abe89_row5_col1,#T_abe89_row5_col2,#T_abe89_row5_col4,#T_abe89_row5_col6,#T_abe89_row6_col1,#T_abe89_row6_col2,#T_abe89_row6_col4,#T_abe89_row6_col6,#T_abe89_row7_col1,#T_abe89_row7_col2,#T_abe89_row7_col4,#T_abe89_row7_col6,#T_abe89_row8_col1,#T_abe89_row8_col2,#T_abe89_row8_col4,#T_abe89_row8_col6,#T_abe89_row9_col1,#T_abe89_row9_col2,#T_abe89_row9_col4,#T_abe89_row9_col6{
            font-weight:  bold;
            color:  black;
        }#T_abe89_row1_col1{
            font-weight:  bold;
            color:  red;
        }</style><table id="T_abe89_" ><thead>    <tr>        <th class="blank level0" ></th>        <th class="col_heading level0 col0" ></th>        <th class="col_heading level0 col1" >Recent</th>        <th class="col_heading level0 col2" >Frequent</th>        <th class="col_heading level0 col3" >Popularity</th>        <th class="col_heading level0 col4" >ALS</th>        <th class="col_heading level0 col5" >ALS_filtered</th>        <th class="col_heading level0 col6" >BM25</th>        <th class="col_heading level0 col7" >BM25_filtered</th>    </tr></thead><tbody>
                <tr>
                        <th id="T_abe89_level0_row0" class="row_heading level0 row0" >0</th>
                        <td id="T_abe89_row0_col0" class="data row0 col0" >1</td>
                        <td id="T_abe89_row0_col1" class="data row0 col1" >Andrew Lee (entrepreneur)</td>
                        <td id="T_abe89_row0_col2" class="data row0 col2" >Joseph de Flotte</td>
                        <td id="T_abe89_row0_col3" class="data row0 col3" >Prince Philip, Duke of Edinburgh</td>
                        <td id="T_abe89_row0_col4" class="data row0 col4" >Joseph de Flotte</td>
                        <td id="T_abe89_row0_col5" class="data row0 col5" >HMS Triton (1796)</td>
                        <td id="T_abe89_row0_col6" class="data row0 col6" >Battle of Fort Royal</td>
                        <td id="T_abe89_row0_col7" class="data row0 col7" >Battle of the Mona Passage</td>
            </tr>
            <tr>
                        <th id="T_abe89_level0_row1" class="row_heading level0 row1" >1</th>
                        <td id="T_abe89_row1_col0" class="data row1 col0" >2</td>
                        <td id="T_abe89_row1_col1" class="data row1 col1" >Freenode</td>
                        <td id="T_abe89_row1_col2" class="data row1 col2" >French fluyt Gros Ventre (1767)</td>
                        <td id="T_abe89_row1_col3" class="data row1 col3" >2020–2021 Belarusian protests</td>
                        <td id="T_abe89_row1_col4" class="data row1 col4" >French fluyt Gros Ventre (1767)</td>
                        <td id="T_abe89_row1_col5" class="data row1 col5" >Battle of the Mona Passage</td>
                        <td id="T_abe89_row1_col6" class="data row1 col6" >Nicolas Henri de Grimouard</td>
                        <td id="T_abe89_row1_col7" class="data row1 col7" >Great Siege of Gibraltar</td>
            </tr>
            <tr>
                        <th id="T_abe89_level0_row2" class="row_heading level0 row2" >2</th>
                        <td id="T_abe89_row2_col0" class="data row2 col0" >3</td>
                        <td id="T_abe89_row2_col1" class="data row2 col1" >Long Range Acoustic Device</td>
                        <td id="T_abe89_row2_col2" class="data row2 col2" >First voyage of Kerguelen</td>
                        <td id="T_abe89_row2_col3" class="data row2 col3" >Chadwick Boseman</td>
                        <td id="T_abe89_row2_col4" class="data row2 col4" >First voyage of Kerguelen</td>
                        <td id="T_abe89_row2_col5" class="data row2 col5" >HMS Sylph</td>
                        <td id="T_abe89_row2_col6" class="data row2 col6" >French frigate Boudeuse (1766)</td>
                        <td id="T_abe89_row2_col7" class="data row2 col7" >Anglo-French War (1778–1783)</td>
            </tr>
            <tr>
                        <th id="T_abe89_level0_row3" class="row_heading level0 row3" >3</th>
                        <td id="T_abe89_row3_col0" class="data row3 col0" >4</td>
                        <td id="T_abe89_row3_col1" class="data row3 col1" >French ship Adelaide (1699)</td>
                        <td id="T_abe89_row3_col2" class="data row3 col2" >Battle of Fort Royal</td>
                        <td id="T_abe89_row3_col3" class="data row3 col3" >2024 United States presidential election</td>
                        <td id="T_abe89_row3_col4" class="data row3 col4" >Battle of Fort Royal</td>
                        <td id="T_abe89_row3_col5" class="data row3 col5" >HMS Sylph (1795)</td>
                        <td id="T_abe89_row3_col6" class="data row3 col6" >Joseph de Flotte</td>
                        <td id="T_abe89_row3_col7" class="data row3 col7" >Invasion of Martinique (1809)</td>
            </tr>
            <tr>
                        <th id="T_abe89_level0_row4" class="row_heading level0 row4" >4</th>
                        <td id="T_abe89_row4_col0" class="data row4 col0" >5</td>
                        <td id="T_abe89_row4_col1" class="data row4 col1" >French frigate Muiron</td>
                        <td id="T_abe89_row4_col2" class="data row4 col2" >Louis Charles du Chaffault de Besné</td>
                        <td id="T_abe89_row4_col3" class="data row4 col3" >COVID-19 pandemic in the United States</td>
                        <td id="T_abe89_row4_col4" class="data row4 col4" >Louis Charles du Chaffault de Besné</td>
                        <td id="T_abe89_row4_col5" class="data row4 col5" >Great Siege of Gibraltar</td>
                        <td id="T_abe89_row4_col6" class="data row4 col6" >French fluyt Gros Ventre (1767)</td>
                        <td id="T_abe89_row4_col7" class="data row4 col7" >Action of 12 December 1779</td>
            </tr>
            <tr>
                        <th id="T_abe89_level0_row5" class="row_heading level0 row5" >5</th>
                        <td id="T_abe89_row5_col0" class="data row5 col0" >6</td>
                        <td id="T_abe89_row5_col1" class="data row5 col1" >Future French aircraft carrier</td>
                        <td id="T_abe89_row5_col2" class="data row5 col2" >Robert Surcouf</td>
                        <td id="T_abe89_row5_col3" class="data row5 col3" >Black Lives Matter</td>
                        <td id="T_abe89_row5_col4" class="data row5 col4" >French frigate Flore (1769)</td>
                        <td id="T_abe89_row5_col5" class="data row5 col5" >Battle of Pulo Aura</td>
                        <td id="T_abe89_row5_col6" class="data row5 col6" >French frigate Flore (1769)</td>
                        <td id="T_abe89_row5_col7" class="data row5 col7" >Action of 17 June 1778</td>
            </tr>
            <tr>
                        <th id="T_abe89_level0_row6" class="row_heading level0 row6" >6</th>
                        <td id="T_abe89_row6_col0" class="data row6 col0" >7</td>
                        <td id="T_abe89_row6_col1" class="data row6 col1" >French Naval Aviation</td>
                        <td id="T_abe89_row6_col2" class="data row6 col2" >Future French aircraft carrier</td>
                        <td id="T_abe89_row6_col3" class="data row6 col3" >George Floyd</td>
                        <td id="T_abe89_row6_col4" class="data row6 col4" >Battle of St. Lucia</td>
                        <td id="T_abe89_row6_col5" class="data row6 col5" >Battle of Nieuwpoort</td>
                        <td id="T_abe89_row6_col6" class="data row6 col6" >First voyage of Kerguelen</td>
                        <td id="T_abe89_row6_col7" class="data row6 col7" >Action of 17 August 1779</td>
            </tr>
            <tr>
                        <th id="T_abe89_level0_row7" class="row_heading level0 row7" >7</th>
                        <td id="T_abe89_row7_col0" class="data row7 col0" >8</td>
                        <td id="T_abe89_row7_col1" class="data row7 col1" >NHIndustries NH90</td>
                        <td id="T_abe89_row7_col2" class="data row7 col2" >Jacques de Grenier</td>
                        <td id="T_abe89_row7_col3" class="data row7 col3" >Derek Chauvin</td>
                        <td id="T_abe89_row7_col4" class="data row7 col4" >Jacques de Grenier</td>
                        <td id="T_abe89_row7_col5" class="data row7 col5" >HMS Alceste (1806)</td>
                        <td id="T_abe89_row7_col6" class="data row7 col6" >Battle of St. Lucia</td>
                        <td id="T_abe89_row7_col7" class="data row7 col7" >American Revolutionary War</td>
            </tr>
            <tr>
                        <th id="T_abe89_level0_row8" class="row_heading level0 row8" >8</th>
                        <td id="T_abe89_row8_col0" class="data row8 col0" >9</td>
                        <td id="T_abe89_row8_col1" class="data row8 col1" >French frigate Auvergne</td>
                        <td id="T_abe89_row8_col2" class="data row8 col2" >French frigate Flore (1769)</td>
                        <td id="T_abe89_row8_col3" class="data row8 col3" >2021 Israel–Palestine crisis</td>
                        <td id="T_abe89_row8_col4" class="data row8 col4" >Battle of Grenada</td>
                        <td id="T_abe89_row8_col5" class="data row8 col5" >French frigate Sibylle (1792)</td>
                        <td id="T_abe89_row8_col6" class="data row8 col6" >Louis Charles du Chaffault de Besné</td>
                        <td id="T_abe89_row8_col7" class="data row8 col7" >France in the American Revolutionary War</td>
            </tr>
            <tr>
                        <th id="T_abe89_level0_row9" class="row_heading level0 row9" >9</th>
                        <td id="T_abe89_row9_col0" class="data row9 col0" >10</td>
                        <td id="T_abe89_row9_col1" class="data row9 col1" >EMPAR</td>
                        <td id="T_abe89_row9_col2" class="data row9 col2" >Battle of St. Lucia</td>
                        <td id="T_abe89_row9_col3" class="data row9 col3" >Zack Snyder's Justice League</td>
                        <td id="T_abe89_row9_col4" class="data row9 col4" >Robert Surcouf</td>
                        <td id="T_abe89_row9_col5" class="data row9 col5" >HMS Amethyst (1799)</td>
                        <td id="T_abe89_row9_col6" class="data row9 col6" >USS Hancock (1776)</td>
                        <td id="T_abe89_row9_col7" class="data row9 col7" >British Army during the American Revolutionary War</td>
            </tr>
    </tbody></table></div></div>
</div>
</div>
<div class="section" id="other-individuals-tables">
<h2>Other individuals tables<a class="headerlink" href="#other-individuals-tables" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">display_user_recs_comparison</span><span class="p">(</span><span class="s1">&#39;Meow&#39;</span><span class="p">,</span> <span class="n">recs</span><span class="p">,</span> <span class="n">recs_subset</span><span class="p">,</span> <span class="n">histories_train</span><span class="p">,</span> <span class="n">histories_dev</span><span class="p">,</span> <span class="n">N</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style  type="text/css" >
#T_9d013_row0_col0,#T_9d013_row0_col3,#T_9d013_row0_col5,#T_9d013_row0_col7,#T_9d013_row1_col0,#T_9d013_row1_col3,#T_9d013_row1_col5,#T_9d013_row1_col7,#T_9d013_row2_col0,#T_9d013_row2_col3,#T_9d013_row2_col5,#T_9d013_row2_col7,#T_9d013_row3_col0,#T_9d013_row3_col3,#T_9d013_row3_col5,#T_9d013_row3_col7,#T_9d013_row4_col0,#T_9d013_row4_col3,#T_9d013_row4_col5,#T_9d013_row4_col7,#T_9d013_row5_col0,#T_9d013_row5_col3,#T_9d013_row5_col5,#T_9d013_row5_col7,#T_9d013_row6_col0,#T_9d013_row6_col3,#T_9d013_row6_col5,#T_9d013_row6_col7,#T_9d013_row7_col0,#T_9d013_row7_col3,#T_9d013_row7_col5,#T_9d013_row7_col7,#T_9d013_row8_col0,#T_9d013_row8_col3,#T_9d013_row8_col5,#T_9d013_row8_col7,#T_9d013_row9_col0,#T_9d013_row9_col3,#T_9d013_row9_col4,#T_9d013_row9_col5,#T_9d013_row9_col7{
            font-weight:  normal;
            color:  black;
        }#T_9d013_row0_col1,#T_9d013_row0_col2,#T_9d013_row0_col4,#T_9d013_row0_col6,#T_9d013_row1_col1,#T_9d013_row1_col2,#T_9d013_row1_col4,#T_9d013_row1_col6,#T_9d013_row2_col1,#T_9d013_row2_col2,#T_9d013_row2_col4,#T_9d013_row2_col6,#T_9d013_row3_col2,#T_9d013_row3_col4,#T_9d013_row3_col6,#T_9d013_row4_col1,#T_9d013_row4_col2,#T_9d013_row4_col6,#T_9d013_row5_col1,#T_9d013_row5_col2,#T_9d013_row5_col4,#T_9d013_row5_col6,#T_9d013_row6_col1,#T_9d013_row6_col2,#T_9d013_row6_col4,#T_9d013_row6_col6,#T_9d013_row7_col1,#T_9d013_row7_col2,#T_9d013_row7_col4,#T_9d013_row7_col6,#T_9d013_row8_col1,#T_9d013_row8_col2,#T_9d013_row8_col4,#T_9d013_row8_col6,#T_9d013_row9_col1,#T_9d013_row9_col6{
            font-weight:  bold;
            color:  black;
        }#T_9d013_row3_col1,#T_9d013_row4_col4,#T_9d013_row9_col2{
            font-weight:  bold;
            color:  red;
        }</style><table id="T_9d013_" ><thead>    <tr>        <th class="blank level0" ></th>        <th class="col_heading level0 col0" >index</th>        <th class="col_heading level0 col1" >Recent</th>        <th class="col_heading level0 col2" >Frequent</th>        <th class="col_heading level0 col3" >Popularity</th>        <th class="col_heading level0 col4" >Implicit</th>        <th class="col_heading level0 col5" >Implicit_filtered</th>        <th class="col_heading level0 col6" >bm25</th>        <th class="col_heading level0 col7" >bm25_filtered</th>    </tr></thead><tbody>
                <tr>
                        <th id="T_9d013_level0_row0" class="row_heading level0 row0" >0</th>
                        <td id="T_9d013_row0_col0" class="data row0 col0" >1</td>
                        <td id="T_9d013_row0_col1" class="data row0 col1" >MediaWiki</td>
                        <td id="T_9d013_row0_col2" class="data row0 col2" >2020 Pacific typhoon season</td>
                        <td id="T_9d013_row0_col3" class="data row0 col3" >Prince Philip, Duke of Edinburgh</td>
                        <td id="T_9d013_row0_col4" class="data row0 col4" >Tropical cyclones in 2021</td>
                        <td id="T_9d013_row0_col5" class="data row0 col5" >Tropical cyclones in 2020</td>
                        <td id="T_9d013_row0_col6" class="data row0 col6" >2020–21 South Pacific cyclone season</td>
                        <td id="T_9d013_row0_col7" class="data row0 col7" >Tropical cyclones in 2020</td>
            </tr>
            <tr>
                        <th id="T_9d013_level0_row1" class="row_heading level0 row1" >1</th>
                        <td id="T_9d013_row1_col0" class="data row1 col0" >2</td>
                        <td id="T_9d013_row1_col1" class="data row1 col1" >Zombo.com</td>
                        <td id="T_9d013_row1_col2" class="data row1 col2" >2020–21 Australian region cyclone season</td>
                        <td id="T_9d013_row1_col3" class="data row1 col3" >2020–2021 Belarusian protests</td>
                        <td id="T_9d013_row1_col4" class="data row1 col4" >2020–21 Australian region cyclone season</td>
                        <td id="T_9d013_row1_col5" class="data row1 col5" >Cyclone Yasa</td>
                        <td id="T_9d013_row1_col6" class="data row1 col6" >2020–21 Australian region cyclone season</td>
                        <td id="T_9d013_row1_col7" class="data row1 col7" >Cyclone Ana</td>
            </tr>
            <tr>
                        <th id="T_9d013_level0_row2" class="row_heading level0 row2" >2</th>
                        <td id="T_9d013_row2_col0" class="data row2 col0" >3</td>
                        <td id="T_9d013_row2_col1" class="data row2 col1" >Comparison of wiki software</td>
                        <td id="T_9d013_row2_col2" class="data row2 col2" >2020–21 South-West Indian Ocean cyclone season</td>
                        <td id="T_9d013_row2_col3" class="data row2 col3" >Chadwick Boseman</td>
                        <td id="T_9d013_row2_col4" class="data row2 col4" >2020–21 South-West Indian Ocean cyclone season</td>
                        <td id="T_9d013_row2_col5" class="data row2 col5" >Cyclone Eloise</td>
                        <td id="T_9d013_row2_col6" class="data row2 col6" >2020–21 South-West Indian Ocean cyclone season</td>
                        <td id="T_9d013_row2_col7" class="data row2 col7" >2021 Pacific hurricane season</td>
            </tr>
            <tr>
                        <th id="T_9d013_level0_row3" class="row_heading level0 row3" >3</th>
                        <td id="T_9d013_row3_col0" class="data row3 col0" >4</td>
                        <td id="T_9d013_row3_col1" class="data row3 col1" >2021 North Indian Ocean cyclone season</td>
                        <td id="T_9d013_row3_col2" class="data row3 col2" >2020–21 South Pacific cyclone season</td>
                        <td id="T_9d013_row3_col3" class="data row3 col3" >2024 United States presidential election</td>
                        <td id="T_9d013_row3_col4" class="data row3 col4" >2020–21 South Pacific cyclone season</td>
                        <td id="T_9d013_row3_col5" class="data row3 col5" >Cyclone Ana</td>
                        <td id="T_9d013_row3_col6" class="data row3 col6" >Typhoon Haishen (2020)</td>
                        <td id="T_9d013_row3_col7" class="data row3 col7" >Cyclone Kimi</td>
            </tr>
            <tr>
                        <th id="T_9d013_level0_row4" class="row_heading level0 row4" >4</th>
                        <td id="T_9d013_row4_col0" class="data row4 col0" >5</td>
                        <td id="T_9d013_row4_col1" class="data row4 col1" >PukiWiki</td>
                        <td id="T_9d013_row4_col2" class="data row4 col2" >2021 Pacific typhoon season</td>
                        <td id="T_9d013_row4_col3" class="data row4 col3" >COVID-19 pandemic in the United States</td>
                        <td id="T_9d013_row4_col4" class="data row4 col4" >2021 North Indian Ocean cyclone season</td>
                        <td id="T_9d013_row4_col5" class="data row4 col5" >2021 Pacific hurricane season</td>
                        <td id="T_9d013_row4_col6" class="data row4 col6" >2020 Pacific typhoon season</td>
                        <td id="T_9d013_row4_col7" class="data row4 col7" >Cyclone Yasa</td>
            </tr>
            <tr>
                        <th id="T_9d013_level0_row5" class="row_heading level0 row5" >5</th>
                        <td id="T_9d013_row5_col0" class="data row5 col0" >6</td>
                        <td id="T_9d013_row5_col1" class="data row5 col1" >2021 Pacific typhoon season</td>
                        <td id="T_9d013_row5_col2" class="data row5 col2" >2020 North Indian Ocean cyclone season</td>
                        <td id="T_9d013_row5_col3" class="data row5 col3" >Black Lives Matter</td>
                        <td id="T_9d013_row5_col4" class="data row5 col4" >2020 Pacific typhoon season</td>
                        <td id="T_9d013_row5_col5" class="data row5 col5" >2020–21 North American winter</td>
                        <td id="T_9d013_row5_col6" class="data row5 col6" >2020 North Indian Ocean cyclone season</td>
                        <td id="T_9d013_row5_col7" class="data row5 col7" >Typhoon Molave</td>
            </tr>
            <tr>
                        <th id="T_9d013_level0_row6" class="row_heading level0 row6" >6</th>
                        <td id="T_9d013_row6_col0" class="data row6 col0" >7</td>
                        <td id="T_9d013_row6_col1" class="data row6 col1" >Linkou Plateau</td>
                        <td id="T_9d013_row6_col2" class="data row6 col2" >South Atlantic tropical cyclone</td>
                        <td id="T_9d013_row6_col3" class="data row6 col3" >George Floyd</td>
                        <td id="T_9d013_row6_col4" class="data row6 col4" >2020 North Indian Ocean cyclone season</td>
                        <td id="T_9d013_row6_col5" class="data row6 col5" >2020 Atlantic hurricane season</td>
                        <td id="T_9d013_row6_col6" class="data row6 col6" >2021 Pacific typhoon season</td>
                        <td id="T_9d013_row6_col7" class="data row6 col7" >Cyclone Niran</td>
            </tr>
            <tr>
                        <th id="T_9d013_level0_row7" class="row_heading level0 row7" >7</th>
                        <td id="T_9d013_row7_col0" class="data row7 col0" >8</td>
                        <td id="T_9d013_row7_col1" class="data row7 col1" >List of the most intense tropical cyclones</td>
                        <td id="T_9d013_row7_col2" class="data row7 col2" >MacOS Big Sur</td>
                        <td id="T_9d013_row7_col3" class="data row7 col3" >Derek Chauvin</td>
                        <td id="T_9d013_row7_col4" class="data row7 col4" >Typhoon Surigae</td>
                        <td id="T_9d013_row7_col5" class="data row7 col5" >Hurricane Iota</td>
                        <td id="T_9d013_row7_col6" class="data row7 col6" >South Atlantic tropical cyclone</td>
                        <td id="T_9d013_row7_col7" class="data row7 col7" >2019–20 Australian region cyclone season</td>
            </tr>
            <tr>
                        <th id="T_9d013_level0_row8" class="row_heading level0 row8" >8</th>
                        <td id="T_9d013_row8_col0" class="data row8 col0" >9</td>
                        <td id="T_9d013_row8_col1" class="data row8 col1" >National Freeway 3</td>
                        <td id="T_9d013_row8_col2" class="data row8 col2" >Typhoon Haishen (2020)</td>
                        <td id="T_9d013_row8_col3" class="data row8 col3" >2021 Israel–Palestine crisis</td>
                        <td id="T_9d013_row8_col4" class="data row8 col4" >2021 Pacific typhoon season</td>
                        <td id="T_9d013_row8_col5" class="data row8 col5" >Hurricane Eta</td>
                        <td id="T_9d013_row8_col6" class="data row8 col6" >Typhoon Surigae</td>
                        <td id="T_9d013_row8_col7" class="data row8 col7" >2018 Pacific typhoon season</td>
            </tr>
            <tr>
                        <th id="T_9d013_level0_row9" class="row_heading level0 row9" >9</th>
                        <td id="T_9d013_row9_col0" class="data row9 col0" >10</td>
                        <td id="T_9d013_row9_col1" class="data row9 col1" >Tamsui River</td>
                        <td id="T_9d013_row9_col2" class="data row9 col2" >2021 North Indian Ocean cyclone season</td>
                        <td id="T_9d013_row9_col3" class="data row9 col3" >Zack Snyder's Justice League</td>
                        <td id="T_9d013_row9_col4" class="data row9 col4" >Tropical cyclones in 2020</td>
                        <td id="T_9d013_row9_col5" class="data row9 col5" >2020 Pacific hurricane season</td>
                        <td id="T_9d013_row9_col6" class="data row9 col6" >Typhoon Vongfong (2020)</td>
                        <td id="T_9d013_row9_col7" class="data row9 col7" >2021 Atlantic hurricane season</td>
            </tr>
    </tbody></table></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">display_user_recs_comparison</span><span class="p">(</span><span class="s1">&#39;KingArti&#39;</span><span class="p">,</span> <span class="n">recs</span><span class="p">,</span> <span class="n">recs_subset</span><span class="p">,</span> <span class="n">histories_train</span><span class="p">,</span> <span class="n">histories_dev</span><span class="p">,</span> <span class="n">N</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style  type="text/css" >
#T_03936_row0_col0,#T_03936_row0_col3,#T_03936_row0_col5,#T_03936_row0_col7,#T_03936_row1_col0,#T_03936_row1_col3,#T_03936_row1_col5,#T_03936_row1_col7,#T_03936_row2_col0,#T_03936_row2_col3,#T_03936_row2_col4,#T_03936_row2_col5,#T_03936_row2_col7,#T_03936_row3_col0,#T_03936_row3_col3,#T_03936_row3_col5,#T_03936_row3_col7,#T_03936_row4_col0,#T_03936_row4_col3,#T_03936_row4_col5,#T_03936_row4_col7,#T_03936_row5_col0,#T_03936_row5_col3,#T_03936_row5_col5,#T_03936_row5_col7,#T_03936_row6_col0,#T_03936_row6_col3,#T_03936_row6_col5,#T_03936_row6_col7,#T_03936_row7_col0,#T_03936_row7_col3,#T_03936_row7_col5,#T_03936_row7_col7,#T_03936_row8_col0,#T_03936_row8_col3,#T_03936_row8_col5,#T_03936_row8_col7,#T_03936_row9_col0,#T_03936_row9_col4,#T_03936_row9_col5,#T_03936_row9_col7{
            font-weight:  normal;
            color:  black;
        }#T_03936_row0_col1,#T_03936_row0_col4,#T_03936_row1_col1,#T_03936_row1_col2,#T_03936_row1_col4,#T_03936_row1_col6,#T_03936_row2_col1,#T_03936_row2_col2,#T_03936_row2_col6,#T_03936_row3_col1,#T_03936_row3_col2,#T_03936_row3_col4,#T_03936_row3_col6,#T_03936_row4_col2,#T_03936_row4_col4,#T_03936_row4_col6,#T_03936_row5_col1,#T_03936_row5_col2,#T_03936_row5_col4,#T_03936_row5_col6,#T_03936_row6_col1,#T_03936_row6_col2,#T_03936_row6_col4,#T_03936_row6_col6,#T_03936_row7_col1,#T_03936_row7_col2,#T_03936_row7_col4,#T_03936_row7_col6,#T_03936_row8_col1,#T_03936_row8_col2,#T_03936_row8_col4,#T_03936_row8_col6,#T_03936_row9_col1,#T_03936_row9_col2,#T_03936_row9_col3,#T_03936_row9_col6{
            font-weight:  bold;
            color:  black;
        }#T_03936_row0_col2,#T_03936_row0_col6,#T_03936_row4_col1{
            font-weight:  bold;
            color:  red;
        }</style><table id="T_03936_" ><thead>    <tr>        <th class="blank level0" ></th>        <th class="col_heading level0 col0" ></th>        <th class="col_heading level0 col1" >Recent</th>        <th class="col_heading level0 col2" >Frequent</th>        <th class="col_heading level0 col3" >Popularity</th>        <th class="col_heading level0 col4" >ALS</th>        <th class="col_heading level0 col5" >ALS_filtered</th>        <th class="col_heading level0 col6" >BM25</th>        <th class="col_heading level0 col7" >BM25_filtered</th>    </tr></thead><tbody>
                <tr>
                        <th id="T_03936_level0_row0" class="row_heading level0 row0" >0</th>
                        <td id="T_03936_row0_col0" class="data row0 col0" >1</td>
                        <td id="T_03936_row0_col1" class="data row0 col1" >Marvel Cinematic Universe: Phase Four</td>
                        <td id="T_03936_row0_col2" class="data row0 col2" >Ms. Marvel (TV series)</td>
                        <td id="T_03936_row0_col3" class="data row0 col3" >Prince Philip, Duke of Edinburgh</td>
                        <td id="T_03936_row0_col4" class="data row0 col4" >Black Adam (film)</td>
                        <td id="T_03936_row0_col5" class="data row0 col5" >Peacemaker (TV series)</td>
                        <td id="T_03936_row0_col6" class="data row0 col6" >Ms. Marvel (TV series)</td>
                        <td id="T_03936_row0_col7" class="data row0 col7" >The Marvels (film)</td>
            </tr>
            <tr>
                        <th id="T_03936_level0_row1" class="row_heading level0 row1" >1</th>
                        <td id="T_03936_row1_col0" class="data row1 col0" >2</td>
                        <td id="T_03936_row1_col1" class="data row1 col1" >List of Marvel Cinematic Universe television series</td>
                        <td id="T_03936_row1_col2" class="data row1 col2" >Marvel Cinematic Universe: Phase Four</td>
                        <td id="T_03936_row1_col3" class="data row1 col3" >2020–2021 Belarusian protests</td>
                        <td id="T_03936_row1_col4" class="data row1 col4" >The Flash (film)</td>
                        <td id="T_03936_row1_col5" class="data row1 col5" >Morbius (film)</td>
                        <td id="T_03936_row1_col6" class="data row1 col6" >Thor: Love and Thunder</td>
                        <td id="T_03936_row1_col7" class="data row1 col7" >List of Marvel Cinematic Universe television series actors (Marvel Television)</td>
            </tr>
            <tr>
                        <th id="T_03936_level0_row2" class="row_heading level0 row2" >2</th>
                        <td id="T_03936_row2_col0" class="data row2 col0" >3</td>
                        <td id="T_03936_row2_col1" class="data row2 col1" >Laith Nakli</td>
                        <td id="T_03936_row2_col2" class="data row2 col2" >WandaVision</td>
                        <td id="T_03936_row2_col3" class="data row2 col3" >Chadwick Boseman</td>
                        <td id="T_03936_row2_col4" class="data row2 col4" >Peacemaker (TV series)</td>
                        <td id="T_03936_row2_col5" class="data row2 col5" >Venom: Let There Be Carnage</td>
                        <td id="T_03936_row2_col6" class="data row2 col6" >Doctor Strange in the Multiverse of Madness</td>
                        <td id="T_03936_row2_col7" class="data row2 col7" >Ant-Man and the Wasp</td>
            </tr>
            <tr>
                        <th id="T_03936_level0_row3" class="row_heading level0 row3" >3</th>
                        <td id="T_03936_row3_col0" class="data row3 col0" >4</td>
                        <td id="T_03936_row3_col1" class="data row3 col1" >Iman Vellani</td>
                        <td id="T_03936_row3_col2" class="data row3 col2" >Iman Vellani</td>
                        <td id="T_03936_row3_col3" class="data row3 col3" >2024 United States presidential election</td>
                        <td id="T_03936_row3_col4" class="data row3 col4" >Thor: Love and Thunder</td>
                        <td id="T_03936_row3_col5" class="data row3 col5" >List of Marvel Cinematic Universe films</td>
                        <td id="T_03936_row3_col6" class="data row3 col6" >Eternals (film)</td>
                        <td id="T_03936_row3_col7" class="data row3 col7" >Spider-Man: Far From Home</td>
            </tr>
            <tr>
                        <th id="T_03936_level0_row4" class="row_heading level0 row4" >4</th>
                        <td id="T_03936_row4_col0" class="data row4 col0" >5</td>
                        <td id="T_03936_row4_col1" class="data row4 col1" >Ms. Marvel (TV series)</td>
                        <td id="T_03936_row4_col2" class="data row4 col2" >List of Marvel Cinematic Universe television series</td>
                        <td id="T_03936_row4_col3" class="data row4 col3" >COVID-19 pandemic in the United States</td>
                        <td id="T_03936_row4_col4" class="data row4 col4" >The Suicide Squad (film)</td>
                        <td id="T_03936_row4_col5" class="data row4 col5" >Sony Pictures Universe of Marvel Characters</td>
                        <td id="T_03936_row4_col6" class="data row4 col6" >She-Hulk (TV series)</td>
                        <td id="T_03936_row4_col7" class="data row4 col7" >Marvel Studios: Assembled</td>
            </tr>
            <tr>
                        <th id="T_03936_level0_row5" class="row_heading level0 row5" >5</th>
                        <td id="T_03936_row5_col0" class="data row5 col0" >6</td>
                        <td id="T_03936_row5_col1" class="data row5 col1" >Ant-Man and the Wasp: Quantumania</td>
                        <td id="T_03936_row5_col2" class="data row5 col2" >The Falcon and the Winter Soldier</td>
                        <td id="T_03936_row5_col3" class="data row5 col3" >Black Lives Matter</td>
                        <td id="T_03936_row5_col4" class="data row5 col4" >Doctor Strange in the Multiverse of Madness</td>
                        <td id="T_03936_row5_col5" class="data row5 col5" >Nick Fury (Marvel Cinematic Universe)</td>
                        <td id="T_03936_row5_col6" class="data row5 col6" >Shang-Chi and the Legend of the Ten Rings</td>
                        <td id="T_03936_row5_col7" class="data row5 col7" >Sony Pictures Universe of Marvel Characters</td>
            </tr>
            <tr>
                        <th id="T_03936_level0_row6" class="row_heading level0 row6" >6</th>
                        <td id="T_03936_row6_col0" class="data row6 col0" >7</td>
                        <td id="T_03936_row6_col1" class="data row6 col1" >Thor: Love and Thunder</td>
                        <td id="T_03936_row6_col2" class="data row6 col2" >DC Extended Universe</td>
                        <td id="T_03936_row6_col3" class="data row6 col3" >George Floyd</td>
                        <td id="T_03936_row6_col4" class="data row6 col4" >Shang-Chi and the Legend of the Ten Rings</td>
                        <td id="T_03936_row6_col5" class="data row6 col5" >Captain Marvel (film)</td>
                        <td id="T_03936_row6_col6" class="data row6 col6" >Hawkeye (2021 TV series)</td>
                        <td id="T_03936_row6_col7" class="data row6 col7" >List of Marvel Cinematic Universe film actors</td>
            </tr>
            <tr>
                        <th id="T_03936_level0_row7" class="row_heading level0 row7" >7</th>
                        <td id="T_03936_row7_col0" class="data row7 col0" >8</td>
                        <td id="T_03936_row7_col1" class="data row7 col1" >Moon Knight (TV series)</td>
                        <td id="T_03936_row7_col2" class="data row7 col2" >Spider-Man: No Way Home</td>
                        <td id="T_03936_row7_col3" class="data row7 col3" >Derek Chauvin</td>
                        <td id="T_03936_row7_col4" class="data row7 col4" >Spider-Man: No Way Home</td>
                        <td id="T_03936_row7_col5" class="data row7 col5" >The Marvels (film)</td>
                        <td id="T_03936_row7_col6" class="data row7 col6" >Spider-Man: No Way Home</td>
                        <td id="T_03936_row7_col7" class="data row7 col7" >Marvel's Netflix television series</td>
            </tr>
            <tr>
                        <th id="T_03936_level0_row8" class="row_heading level0 row8" >8</th>
                        <td id="T_03936_row8_col0" class="data row8 col0" >9</td>
                        <td id="T_03936_row8_col1" class="data row8 col1" >Eternals (film)</td>
                        <td id="T_03936_row8_col2" class="data row8 col2" >Kevin Feige</td>
                        <td id="T_03936_row8_col3" class="data row8 col3" >2021 Israel–Palestine crisis</td>
                        <td id="T_03936_row8_col4" class="data row8 col4" >The Falcon and the Winter Soldier</td>
                        <td id="T_03936_row8_col5" class="data row8 col5" >Spider-Man: Far From Home</td>
                        <td id="T_03936_row8_col6" class="data row8 col6" >Loki (TV series)</td>
                        <td id="T_03936_row8_col7" class="data row8 col7" >Marvel Cinematic Universe</td>
            </tr>
            <tr>
                        <th id="T_03936_level0_row9" class="row_heading level0 row9" >9</th>
                        <td id="T_03936_row9_col0" class="data row9 col0" >10</td>
                        <td id="T_03936_row9_col1" class="data row9 col1" >Obi-Wan Kenobi (TV series)</td>
                        <td id="T_03936_row9_col2" class="data row9 col2" >Thor: Love and Thunder</td>
                        <td id="T_03936_row9_col3" class="data row9 col3" >Zack Snyder's Justice League</td>
                        <td id="T_03936_row9_col4" class="data row9 col4" >Morbius (film)</td>
                        <td id="T_03936_row9_col5" class="data row9 col5" >Shazam! Fury of the Gods</td>
                        <td id="T_03936_row9_col6" class="data row9 col6" >Ant-Man and the Wasp: Quantumania</td>
                        <td id="T_03936_row9_col7" class="data row9 col7" >List of Marvel Cinematic Universe films</td>
            </tr>
    </tbody></table></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">display_user_recs_comparison</span><span class="p">(</span><span class="s1">&#39;Tulietto&#39;</span><span class="p">,</span> <span class="n">recs</span><span class="p">,</span> <span class="n">recs_subset</span><span class="p">,</span> <span class="n">histories_train</span><span class="p">,</span> <span class="n">histories_dev</span><span class="p">,</span> <span class="n">N</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Next edit: Demographics of Poland
</pre></div>
</div>
<div class="output text_html"><style  type="text/css" >
#T_aca94_row0_col0,#T_aca94_row0_col1,#T_aca94_row0_col4,#T_aca94_row0_col5,#T_aca94_row1_col0,#T_aca94_row1_col1,#T_aca94_row1_col4,#T_aca94_row2_col0,#T_aca94_row2_col1,#T_aca94_row2_col4,#T_aca94_row2_col5,#T_aca94_row3_col0,#T_aca94_row3_col1,#T_aca94_row3_col4,#T_aca94_row4_col0,#T_aca94_row4_col1,#T_aca94_row4_col3,#T_aca94_row4_col4,#T_aca94_row4_col5,#T_aca94_row5_col0,#T_aca94_row5_col1,#T_aca94_row5_col3,#T_aca94_row5_col4,#T_aca94_row6_col0,#T_aca94_row6_col1,#T_aca94_row6_col4,#T_aca94_row6_col5,#T_aca94_row7_col0,#T_aca94_row7_col1,#T_aca94_row7_col4,#T_aca94_row8_col0,#T_aca94_row8_col1,#T_aca94_row8_col4,#T_aca94_row8_col5,#T_aca94_row9_col0,#T_aca94_row9_col1,#T_aca94_row9_col3,#T_aca94_row9_col4{
            font-weight:  bold;
            color:  black;
        }#T_aca94_row0_col2,#T_aca94_row0_col3,#T_aca94_row1_col2,#T_aca94_row1_col3,#T_aca94_row1_col5,#T_aca94_row2_col2,#T_aca94_row2_col3,#T_aca94_row3_col2,#T_aca94_row3_col3,#T_aca94_row3_col5,#T_aca94_row4_col2,#T_aca94_row5_col2,#T_aca94_row5_col5,#T_aca94_row6_col2,#T_aca94_row6_col3,#T_aca94_row7_col2,#T_aca94_row7_col3,#T_aca94_row7_col5,#T_aca94_row8_col2,#T_aca94_row8_col3,#T_aca94_row9_col2,#T_aca94_row9_col5{
            font-weight:  normal;
            color:  black;
        }</style><table id="T_aca94_" ><thead>    <tr>        <th class="blank level0" ></th>        <th class="col_heading level0 col0" >Recent</th>        <th class="col_heading level0 col1" >Frequent</th>        <th class="col_heading level0 col2" >Popularity</th>        <th class="col_heading level0 col3" >Implicit</th>        <th class="col_heading level0 col4" >bm25</th>        <th class="col_heading level0 col5" >interleaved</th>    </tr></thead><tbody>
                <tr>
                        <th id="T_aca94_level0_row0" class="row_heading level0 row0" >0</th>
                        <td id="T_aca94_row0_col0" class="data row0 col0" >Demography of Wales</td>
                        <td id="T_aca94_row0_col1" class="data row0 col1" >Demography of Wales</td>
                        <td id="T_aca94_row0_col2" class="data row0 col2" >Prince Philip, Duke of Edinburgh</td>
                        <td id="T_aca94_row0_col3" class="data row0 col3" >Demographics of Bosnia and Herzegovina</td>
                        <td id="T_aca94_row0_col4" class="data row0 col4" >Demographics of Slovakia</td>
                        <td id="T_aca94_row0_col5" class="data row0 col5" >Demography of Wales</td>
            </tr>
            <tr>
                        <th id="T_aca94_level0_row1" class="row_heading level0 row1" >1</th>
                        <td id="T_aca94_row1_col0" class="data row1 col0" >Demography of England</td>
                        <td id="T_aca94_row1_col1" class="data row1 col1" >Demography of England</td>
                        <td id="T_aca94_row1_col2" class="data row1 col2" >2020–2021 Belarusian protests</td>
                        <td id="T_aca94_row1_col3" class="data row1 col3" >Demographics of Croatia</td>
                        <td id="T_aca94_row1_col4" class="data row1 col4" >Demographics of Luxembourg</td>
                        <td id="T_aca94_row1_col5" class="data row1 col5" >Demographics of Bulgaria</td>
            </tr>
            <tr>
                        <th id="T_aca94_level0_row2" class="row_heading level0 row2" >2</th>
                        <td id="T_aca94_row2_col0" class="data row2 col0" >Demographics of Portugal</td>
                        <td id="T_aca94_row2_col1" class="data row2 col1" >Demography of Northern Ireland</td>
                        <td id="T_aca94_row2_col2" class="data row2 col2" >Chadwick Boseman</td>
                        <td id="T_aca94_row2_col3" class="data row2 col3" >Demographics of Slovenia</td>
                        <td id="T_aca94_row2_col4" class="data row2 col4" >Demographics of Argentina</td>
                        <td id="T_aca94_row2_col5" class="data row2 col5" >Demography of England</td>
            </tr>
            <tr>
                        <th id="T_aca94_level0_row3" class="row_heading level0 row3" >3</th>
                        <td id="T_aca94_row3_col0" class="data row3 col0" >Demography of Scotland</td>
                        <td id="T_aca94_row3_col1" class="data row3 col1" >Demographics of Switzerland</td>
                        <td id="T_aca94_row3_col2" class="data row3 col2" >2024 United States presidential election</td>
                        <td id="T_aca94_row3_col3" class="data row3 col3" >Demographics of Montenegro</td>
                        <td id="T_aca94_row3_col4" class="data row3 col4" >Demographics of Iran</td>
                        <td id="T_aca94_row3_col5" class="data row3 col5" >Demographics of South Korea</td>
            </tr>
            <tr>
                        <th id="T_aca94_level0_row4" class="row_heading level0 row4" >4</th>
                        <td id="T_aca94_row4_col0" class="data row4 col0" >Demographics of New Zealand</td>
                        <td id="T_aca94_row4_col1" class="data row4 col1" >Demographics of Portugal</td>
                        <td id="T_aca94_row4_col2" class="data row4 col2" >COVID-19 pandemic in the United States</td>
                        <td id="T_aca94_row4_col3" class="data row4 col3" >Demographics of Portugal</td>
                        <td id="T_aca94_row4_col4" class="data row4 col4" >Demographics of Sweden</td>
                        <td id="T_aca94_row4_col5" class="data row4 col5" >Demographics of Portugal</td>
            </tr>
            <tr>
                        <th id="T_aca94_level0_row5" class="row_heading level0 row5" >5</th>
                        <td id="T_aca94_row5_col0" class="data row5 col0" >Demographics of the United States</td>
                        <td id="T_aca94_row5_col1" class="data row5 col1" >Demographics of Colombia</td>
                        <td id="T_aca94_row5_col2" class="data row5 col2" >Black Lives Matter</td>
                        <td id="T_aca94_row5_col3" class="data row5 col3" >Demography of Wales</td>
                        <td id="T_aca94_row5_col4" class="data row5 col4" >Demographics of Iceland</td>
                        <td id="T_aca94_row5_col5" class="data row5 col5" >Demographics of Montenegro</td>
            </tr>
            <tr>
                        <th id="T_aca94_level0_row6" class="row_heading level0 row6" >6</th>
                        <td id="T_aca94_row6_col0" class="data row6 col0" >Demographics of Andorra</td>
                        <td id="T_aca94_row6_col1" class="data row6 col1" >Demography of Scotland</td>
                        <td id="T_aca94_row6_col2" class="data row6 col2" >George Floyd</td>
                        <td id="T_aca94_row6_col3" class="data row6 col3" >Demographics of Serbia</td>
                        <td id="T_aca94_row6_col4" class="data row6 col4" >Demographics of the Czech Republic</td>
                        <td id="T_aca94_row6_col5" class="data row6 col5" >Demography of Scotland</td>
            </tr>
            <tr>
                        <th id="T_aca94_level0_row7" class="row_heading level0 row7" >7</th>
                        <td id="T_aca94_row7_col0" class="data row7 col0" >Demographics of the Republic of Ireland</td>
                        <td id="T_aca94_row7_col1" class="data row7 col1" >Demographics of France</td>
                        <td id="T_aca94_row7_col2" class="data row7 col2" >Derek Chauvin</td>
                        <td id="T_aca94_row7_col3" class="data row7 col3" >Demographics of North Macedonia</td>
                        <td id="T_aca94_row7_col4" class="data row7 col4" >Demographics of Romania</td>
                        <td id="T_aca94_row7_col5" class="data row7 col5" >Demographics of Slovenia</td>
            </tr>
            <tr>
                        <th id="T_aca94_level0_row8" class="row_heading level0 row8" >8</th>
                        <td id="T_aca94_row8_col0" class="data row8 col0" >Demographics of Cuba</td>
                        <td id="T_aca94_row8_col1" class="data row8 col1" >Demographics of Romania</td>
                        <td id="T_aca94_row8_col2" class="data row8 col2" >2021 Israel–Palestine crisis</td>
                        <td id="T_aca94_row8_col3" class="data row8 col3" >Demographics of Kosovo</td>
                        <td id="T_aca94_row8_col4" class="data row8 col4" >Demographics of France</td>
                        <td id="T_aca94_row8_col5" class="data row8 col5" >Demographics of New Zealand</td>
            </tr>
            <tr>
                        <th id="T_aca94_level0_row9" class="row_heading level0 row9" >9</th>
                        <td id="T_aca94_row9_col0" class="data row9 col0" >Demography of Northern Ireland</td>
                        <td id="T_aca94_row9_col1" class="data row9 col1" >Demographics of Sweden</td>
                        <td id="T_aca94_row9_col2" class="data row9 col2" >Zack Snyder's Justice League</td>
                        <td id="T_aca94_row9_col3" class="data row9 col3" >Demographics of Romania</td>
                        <td id="T_aca94_row9_col4" class="data row9 col4" >Demographics of Germany</td>
                        <td id="T_aca94_row9_col5" class="data row9 col5" >Demographics of Bosnia and Herzegovina</td>
            </tr>
    </tbody></table></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">display_user_recs_comparison</span><span class="p">(</span><span class="s1">&#39;Thornstrom&#39;</span><span class="p">,</span> <span class="n">recs</span><span class="p">,</span> <span class="n">recs_subset</span><span class="p">,</span> <span class="n">histories_train</span><span class="p">,</span> <span class="n">histories_dev</span><span class="p">,</span> <span class="n">N</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Next edit: List of Netflix original films (2021–)
</pre></div>
</div>
<div class="output text_html"><style  type="text/css" >
#T_8189a_row0_col0,#T_8189a_row0_col1,#T_8189a_row0_col3,#T_8189a_row0_col5,#T_8189a_row1_col1,#T_8189a_row1_col3,#T_8189a_row2_col0,#T_8189a_row2_col5,#T_8189a_row3_col0,#T_8189a_row3_col1,#T_8189a_row3_col3,#T_8189a_row3_col5,#T_8189a_row4_col0,#T_8189a_row4_col1,#T_8189a_row4_col3,#T_8189a_row4_col5,#T_8189a_row5_col0,#T_8189a_row5_col1,#T_8189a_row5_col5,#T_8189a_row6_col0,#T_8189a_row6_col1,#T_8189a_row7_col0,#T_8189a_row7_col1,#T_8189a_row7_col5,#T_8189a_row8_col0,#T_8189a_row8_col1,#T_8189a_row8_col3,#T_8189a_row8_col5,#T_8189a_row9_col0,#T_8189a_row9_col1,#T_8189a_row9_col3{
            font-weight:  bold;
            color:  black;
        }#T_8189a_row0_col2,#T_8189a_row0_col4,#T_8189a_row0_col6,#T_8189a_row1_col2,#T_8189a_row1_col4,#T_8189a_row1_col6,#T_8189a_row2_col2,#T_8189a_row2_col4,#T_8189a_row2_col6,#T_8189a_row3_col2,#T_8189a_row3_col4,#T_8189a_row3_col6,#T_8189a_row4_col2,#T_8189a_row4_col4,#T_8189a_row4_col6,#T_8189a_row5_col2,#T_8189a_row5_col3,#T_8189a_row5_col4,#T_8189a_row5_col6,#T_8189a_row6_col2,#T_8189a_row6_col3,#T_8189a_row6_col4,#T_8189a_row6_col5,#T_8189a_row6_col6,#T_8189a_row7_col2,#T_8189a_row7_col3,#T_8189a_row7_col4,#T_8189a_row7_col6,#T_8189a_row8_col2,#T_8189a_row8_col4,#T_8189a_row8_col6,#T_8189a_row9_col2,#T_8189a_row9_col4,#T_8189a_row9_col5,#T_8189a_row9_col6{
            font-weight:  normal;
            color:  black;
        }#T_8189a_row1_col0,#T_8189a_row1_col5,#T_8189a_row2_col1,#T_8189a_row2_col3{
            font-weight:  bold;
            color:  red;
        }</style><table id="T_8189a_" ><thead>    <tr>        <th class="blank level0" ></th>        <th class="col_heading level0 col0" >Recent</th>        <th class="col_heading level0 col1" >Frequent</th>        <th class="col_heading level0 col2" >Popularity</th>        <th class="col_heading level0 col3" >Implicit</th>        <th class="col_heading level0 col4" >Implicit_filtered</th>        <th class="col_heading level0 col5" >bm25</th>        <th class="col_heading level0 col6" >bm25_filtered</th>    </tr></thead><tbody>
                <tr>
                        <th id="T_8189a_level0_row0" class="row_heading level0 row0" >0</th>
                        <td id="T_8189a_row0_col0" class="data row0 col0" >Ghost Lab (film)</td>
                        <td id="T_8189a_row0_col1" class="data row0 col1" >List of Netflix original programming</td>
                        <td id="T_8189a_row0_col2" class="data row0 col2" >Prince Philip, Duke of Edinburgh</td>
                        <td id="T_8189a_row0_col3" class="data row0 col3" >Lists of Netflix original films</td>
                        <td id="T_8189a_row0_col4" class="data row0 col4" >List of Amazon Prime Video original programming</td>
                        <td id="T_8189a_row0_col5" class="data row0 col5" >Lists of Netflix original films</td>
                        <td id="T_8189a_row0_col6" class="data row0 col6" >List of Amazon Prime Video original programming</td>
            </tr>
            <tr>
                        <th id="T_8189a_level0_row1" class="row_heading level0 row1" >1</th>
                        <td id="T_8189a_row1_col0" class="data row1 col0" >List of Netflix original films (2021–)</td>
                        <td id="T_8189a_row1_col1" class="data row1 col1" >Lists of Netflix original films</td>
                        <td id="T_8189a_row1_col2" class="data row1 col2" >2020–2021 Belarusian protests</td>
                        <td id="T_8189a_row1_col3" class="data row1 col3" >List of Netflix original programming</td>
                        <td id="T_8189a_row1_col4" class="data row1 col4" >List of Hulu original programming</td>
                        <td id="T_8189a_row1_col5" class="data row1 col5" >List of Netflix original films (2021–)</td>
                        <td id="T_8189a_row1_col6" class="data row1 col6" >List of Amazon Studios films</td>
            </tr>
            <tr>
                        <th id="T_8189a_level0_row2" class="row_heading level0 row2" >2</th>
                        <td id="T_8189a_row2_col0" class="data row2 col0" >Baggio: The Divine Ponytail</td>
                        <td id="T_8189a_row2_col1" class="data row2 col1" >List of Netflix original films (2021–)</td>
                        <td id="T_8189a_row2_col2" class="data row2 col2" >Chadwick Boseman</td>
                        <td id="T_8189a_row2_col3" class="data row2 col3" >List of Netflix original films (2021–)</td>
                        <td id="T_8189a_row2_col4" class="data row2 col4" >List of Peacock original programming</td>
                        <td id="T_8189a_row2_col5" class="data row2 col5" >List of Netflix original programming</td>
                        <td id="T_8189a_row2_col6" class="data row2 col6" >List of Hulu original programming</td>
            </tr>
            <tr>
                        <th id="T_8189a_level0_row3" class="row_heading level0 row3" >3</th>
                        <td id="T_8189a_row3_col0" class="data row3 col0" >I Am All Girls</td>
                        <td id="T_8189a_row3_col1" class="data row3 col1" >List of Netflix exclusive international distribution programming</td>
                        <td id="T_8189a_row3_col2" class="data row3 col2" >2024 United States presidential election</td>
                        <td id="T_8189a_row3_col3" class="data row3 col3" >List of Netflix exclusive international distribution programming</td>
                        <td id="T_8189a_row3_col4" class="data row3 col4" >List of Lionsgate films</td>
                        <td id="T_8189a_row3_col5" class="data row3 col5" >List of Netflix original stand-up comedy specials</td>
                        <td id="T_8189a_row3_col6" class="data row3 col6" >List of Peacock original programming</td>
            </tr>
            <tr>
                        <th id="T_8189a_level0_row4" class="row_heading level0 row4" >4</th>
                        <td id="T_8189a_row4_col0" class="data row4 col0" >Ferry (film)</td>
                        <td id="T_8189a_row4_col1" class="data row4 col1" >The Heartbreak Club</td>
                        <td id="T_8189a_row4_col2" class="data row4 col2" >COVID-19 pandemic in the United States</td>
                        <td id="T_8189a_row4_col3" class="data row4 col3" >List of ended Netflix original programming</td>
                        <td id="T_8189a_row4_col4" class="data row4 col4" >List of HBO Max original programming</td>
                        <td id="T_8189a_row4_col5" class="data row4 col5" >List of Netflix exclusive international distribution programming</td>
                        <td id="T_8189a_row4_col6" class="data row4 col6" >List of Showtime original programming</td>
            </tr>
            <tr>
                        <th id="T_8189a_level0_row5" class="row_heading level0 row5" >5</th>
                        <td id="T_8189a_row5_col0" class="data row5 col0" >Disney+</td>
                        <td id="T_8189a_row5_col1" class="data row5 col1" >List of Netflix original films (2020)</td>
                        <td id="T_8189a_row5_col2" class="data row5 col2" >Black Lives Matter</td>
                        <td id="T_8189a_row5_col3" class="data row5 col3" >List of Amazon Prime Video original programming</td>
                        <td id="T_8189a_row5_col4" class="data row5 col4" >List of HBO original programming</td>
                        <td id="T_8189a_row5_col5" class="data row5 col5" >List of ended Netflix original programming</td>
                        <td id="T_8189a_row5_col6" class="data row5 col6" >List of HBO original programming</td>
            </tr>
            <tr>
                        <th id="T_8189a_level0_row6" class="row_heading level0 row6" >6</th>
                        <td id="T_8189a_row6_col0" class="data row6 col0" >Millarworld</td>
                        <td id="T_8189a_row6_col1" class="data row6 col1" >La Révolution</td>
                        <td id="T_8189a_row6_col2" class="data row6 col2" >George Floyd</td>
                        <td id="T_8189a_row6_col3" class="data row6 col3" >List of Hulu original programming</td>
                        <td id="T_8189a_row6_col4" class="data row6 col4" >List of Showtime original programming</td>
                        <td id="T_8189a_row6_col5" class="data row6 col5" >List of Amazon Prime Video original programming</td>
                        <td id="T_8189a_row6_col6" class="data row6 col6" >List of programs broadcast by AMC</td>
            </tr>
            <tr>
                        <th id="T_8189a_level0_row7" class="row_heading level0 row7" >7</th>
                        <td id="T_8189a_row7_col0" class="data row7 col0" >List of best-selling Nintendo Switch video games</td>
                        <td id="T_8189a_row7_col1" class="data row7 col1" >Freaks: You're One of Us</td>
                        <td id="T_8189a_row7_col2" class="data row7 col2" >Derek Chauvin</td>
                        <td id="T_8189a_row7_col3" class="data row7 col3" >List of Peacock original programming</td>
                        <td id="T_8189a_row7_col4" class="data row7 col4" >List of programs broadcast by AMC</td>
                        <td id="T_8189a_row7_col5" class="data row7 col5" >List of Netflix original films (2020)</td>
                        <td id="T_8189a_row7_col6" class="data row7 col6" >List of Lionsgate films</td>
            </tr>
            <tr>
                        <th id="T_8189a_level0_row8" class="row_heading level0 row8" >8</th>
                        <td id="T_8189a_row8_col0" class="data row8 col0" >List of Netflix original programming</td>
                        <td id="T_8189a_row8_col1" class="data row8 col1" >Geez & Ann</td>
                        <td id="T_8189a_row8_col2" class="data row8 col2" >2021 Israel–Palestine crisis</td>
                        <td id="T_8189a_row8_col3" class="data row8 col3" >List of Netflix original films (2020)</td>
                        <td id="T_8189a_row8_col4" class="data row8 col4" >List of Saban Films films</td>
                        <td id="T_8189a_row8_col5" class="data row8 col5" >List of Netflix original films (2015–2017)</td>
                        <td id="T_8189a_row8_col6" class="data row8 col6" >List of Disney+ original films</td>
            </tr>
            <tr>
                        <th id="T_8189a_level0_row9" class="row_heading level0 row9" >9</th>
                        <td id="T_8189a_row9_col0" class="data row9 col0" >List of ended Netflix original programming</td>
                        <td id="T_8189a_row9_col1" class="data row9 col1" >Love, Guaranteed</td>
                        <td id="T_8189a_row9_col2" class="data row9 col2" >Zack Snyder's Justice League</td>
                        <td id="T_8189a_row9_col3" class="data row9 col3" >List of Netflix original stand-up comedy specials</td>
                        <td id="T_8189a_row9_col4" class="data row9 col4" >List of Paramount+ original programming</td>
                        <td id="T_8189a_row9_col5" class="data row9 col5" >List of Amazon Studios films</td>
                        <td id="T_8189a_row9_col6" class="data row9 col6" >List of Disney+ original programming</td>
            </tr>
    </tbody></table></div></div>
</div>
</div>
<div class="section" id="fig-interleaved">
<h2>FIG Interleaved<a class="headerlink" href="#fig-interleaved" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">display_user_recs_comparison</span><span class="p">(</span><span class="s1">&#39;Rama&#39;</span><span class="p">,</span> <span class="n">recs</span><span class="p">,[</span><span class="s1">&#39;Interleaved&#39;</span><span class="p">],</span> <span class="n">histories_train</span><span class="p">,</span> <span class="n">histories_dev</span><span class="p">,</span> <span class="n">N</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style  type="text/css" >
#T_80819_row0_col0,#T_80819_row1_col0,#T_80819_row1_col1,#T_80819_row2_col0,#T_80819_row3_col0,#T_80819_row3_col1,#T_80819_row4_col0,#T_80819_row5_col0,#T_80819_row5_col1,#T_80819_row6_col0,#T_80819_row7_col0,#T_80819_row7_col1,#T_80819_row8_col0,#T_80819_row9_col0,#T_80819_row9_col1{
            font-weight:  normal;
            color:  black;
        }#T_80819_row0_col1,#T_80819_row4_col1,#T_80819_row6_col1,#T_80819_row8_col1{
            font-weight:  bold;
            color:  black;
        }#T_80819_row2_col1{
            font-weight:  bold;
            color:  red;
        }</style><table id="T_80819_" ><thead>    <tr>        <th class="blank level0" ></th>        <th class="col_heading level0 col0" ></th>        <th class="col_heading level0 col1" >Interleaved</th>    </tr></thead><tbody>
                <tr>
                        <th id="T_80819_level0_row0" class="row_heading level0 row0" >0</th>
                        <td id="T_80819_row0_col0" class="data row0 col0" >1</td>
                        <td id="T_80819_row0_col1" class="data row0 col1" >Andrew Lee (entrepreneur)</td>
            </tr>
            <tr>
                        <th id="T_80819_level0_row1" class="row_heading level0 row1" >1</th>
                        <td id="T_80819_row1_col0" class="data row1 col0" >2</td>
                        <td id="T_80819_row1_col1" class="data row1 col1" >Battle of the Mona Passage</td>
            </tr>
            <tr>
                        <th id="T_80819_level0_row2" class="row_heading level0 row2" >2</th>
                        <td id="T_80819_row2_col0" class="data row2 col0" >3</td>
                        <td id="T_80819_row2_col1" class="data row2 col1" >Freenode</td>
            </tr>
            <tr>
                        <th id="T_80819_level0_row3" class="row_heading level0 row3" >3</th>
                        <td id="T_80819_row3_col0" class="data row3 col0" >4</td>
                        <td id="T_80819_row3_col1" class="data row3 col1" >Great Siege of Gibraltar</td>
            </tr>
            <tr>
                        <th id="T_80819_level0_row4" class="row_heading level0 row4" >4</th>
                        <td id="T_80819_row4_col0" class="data row4 col0" >5</td>
                        <td id="T_80819_row4_col1" class="data row4 col1" >Long Range Acoustic Device</td>
            </tr>
            <tr>
                        <th id="T_80819_level0_row5" class="row_heading level0 row5" >5</th>
                        <td id="T_80819_row5_col0" class="data row5 col0" >6</td>
                        <td id="T_80819_row5_col1" class="data row5 col1" >Anglo-French War (1778–1783)</td>
            </tr>
            <tr>
                        <th id="T_80819_level0_row6" class="row_heading level0 row6" >6</th>
                        <td id="T_80819_row6_col0" class="data row6 col0" >7</td>
                        <td id="T_80819_row6_col1" class="data row6 col1" >French ship Adelaide (1699)</td>
            </tr>
            <tr>
                        <th id="T_80819_level0_row7" class="row_heading level0 row7" >7</th>
                        <td id="T_80819_row7_col0" class="data row7 col0" >8</td>
                        <td id="T_80819_row7_col1" class="data row7 col1" >Invasion of Martinique (1809)</td>
            </tr>
            <tr>
                        <th id="T_80819_level0_row8" class="row_heading level0 row8" >8</th>
                        <td id="T_80819_row8_col0" class="data row8 col0" >9</td>
                        <td id="T_80819_row8_col1" class="data row8 col1" >French frigate Muiron</td>
            </tr>
            <tr>
                        <th id="T_80819_level0_row9" class="row_heading level0 row9" >9</th>
                        <td id="T_80819_row9_col0" class="data row9 col0" >10</td>
                        <td id="T_80819_row9_col1" class="data row9 col1" >Action of 12 December 1779</td>
            </tr>
    </tbody></table></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">display_user_recs_comparison</span><span class="p">(</span><span class="s1">&#39;KingArti&#39;</span><span class="p">,</span> <span class="n">recs</span><span class="p">,[</span><span class="s1">&#39;Interleaved&#39;</span><span class="p">],</span> <span class="n">histories_train</span><span class="p">,</span> <span class="n">histories_dev</span><span class="p">,</span> <span class="n">N</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><style  type="text/css" >
#T_62881_row0_col0,#T_62881_row1_col0,#T_62881_row1_col1,#T_62881_row2_col0,#T_62881_row3_col0,#T_62881_row3_col1,#T_62881_row4_col0,#T_62881_row5_col0,#T_62881_row5_col1,#T_62881_row6_col0,#T_62881_row7_col0,#T_62881_row7_col1,#T_62881_row8_col0,#T_62881_row9_col0,#T_62881_row9_col1{
            font-weight:  normal;
            color:  black;
        }#T_62881_row0_col1,#T_62881_row2_col1,#T_62881_row4_col1,#T_62881_row6_col1{
            font-weight:  bold;
            color:  black;
        }#T_62881_row8_col1{
            font-weight:  bold;
            color:  red;
        }</style><table id="T_62881_" ><thead>    <tr>        <th class="blank level0" ></th>        <th class="col_heading level0 col0" ></th>        <th class="col_heading level0 col1" >Interleaved</th>    </tr></thead><tbody>
                <tr>
                        <th id="T_62881_level0_row0" class="row_heading level0 row0" >0</th>
                        <td id="T_62881_row0_col0" class="data row0 col0" >1</td>
                        <td id="T_62881_row0_col1" class="data row0 col1" >Marvel Cinematic Universe: Phase Four</td>
            </tr>
            <tr>
                        <th id="T_62881_level0_row1" class="row_heading level0 row1" >1</th>
                        <td id="T_62881_row1_col0" class="data row1 col0" >2</td>
                        <td id="T_62881_row1_col1" class="data row1 col1" >The Marvels (film)</td>
            </tr>
            <tr>
                        <th id="T_62881_level0_row2" class="row_heading level0 row2" >2</th>
                        <td id="T_62881_row2_col0" class="data row2 col0" >3</td>
                        <td id="T_62881_row2_col1" class="data row2 col1" >List of Marvel Cinematic Universe television series</td>
            </tr>
            <tr>
                        <th id="T_62881_level0_row3" class="row_heading level0 row3" >3</th>
                        <td id="T_62881_row3_col0" class="data row3 col0" >4</td>
                        <td id="T_62881_row3_col1" class="data row3 col1" >List of Marvel Cinematic Universe television series actors (Marvel Television)</td>
            </tr>
            <tr>
                        <th id="T_62881_level0_row4" class="row_heading level0 row4" >4</th>
                        <td id="T_62881_row4_col0" class="data row4 col0" >5</td>
                        <td id="T_62881_row4_col1" class="data row4 col1" >Laith Nakli</td>
            </tr>
            <tr>
                        <th id="T_62881_level0_row5" class="row_heading level0 row5" >5</th>
                        <td id="T_62881_row5_col0" class="data row5 col0" >6</td>
                        <td id="T_62881_row5_col1" class="data row5 col1" >Ant-Man and the Wasp</td>
            </tr>
            <tr>
                        <th id="T_62881_level0_row6" class="row_heading level0 row6" >6</th>
                        <td id="T_62881_row6_col0" class="data row6 col0" >7</td>
                        <td id="T_62881_row6_col1" class="data row6 col1" >Iman Vellani</td>
            </tr>
            <tr>
                        <th id="T_62881_level0_row7" class="row_heading level0 row7" >7</th>
                        <td id="T_62881_row7_col0" class="data row7 col0" >8</td>
                        <td id="T_62881_row7_col1" class="data row7 col1" >Spider-Man: Far From Home</td>
            </tr>
            <tr>
                        <th id="T_62881_level0_row8" class="row_heading level0 row8" >8</th>
                        <td id="T_62881_row8_col0" class="data row8 col0" >9</td>
                        <td id="T_62881_row8_col1" class="data row8 col1" >Ms. Marvel (TV series)</td>
            </tr>
            <tr>
                        <th id="T_62881_level0_row9" class="row_heading level0 row9" >9</th>
                        <td id="T_62881_row9_col0" class="data row9 col0" >10</td>
                        <td id="T_62881_row9_col1" class="data row9 col1" >Marvel Studios: Assembled</td>
            </tr>
    </tbody></table></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">N</span> <span class="o">=</span> <span class="mi">20</span>
<span class="n">display</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="n">rec_name</span><span class="p">:</span> <span class="p">[</span><span class="n">p2t</span><span class="p">[</span><span class="n">r</span><span class="p">]</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">recs</span><span class="p">[</span><span class="n">rec_name</span><span class="p">][</span><span class="n">n2u</span><span class="p">[</span><span class="s1">&#39;HenryXVII&#39;</span><span class="p">]]][:</span><span class="n">N</span><span class="p">]</span> <span class="k">for</span> <span class="n">rec_name</span> <span class="ow">in</span> <span class="n">recs_subset</span><span class="p">}))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Recent</th>
      <th>Frequent</th>
      <th>Popularity</th>
      <th>Implicit</th>
      <th>bm25</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Meanings of minor planet names: 17001–18000</td>
      <td>Constance, Queen of Sicily</td>
      <td>Prince Philip, Duke of Edinburgh</td>
      <td>Philip II of France</td>
      <td>Beatrice I, Countess of Burgundy</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Margaret of Burgundy, Queen of France</td>
      <td>William II of Sicily</td>
      <td>2020–2021 Belarusian protests</td>
      <td>Beatrice I, Countess of Burgundy</td>
      <td>William II of Sicily</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Antipope Paschal III</td>
      <td>Beatrice I, Countess of Burgundy</td>
      <td>Chadwick Boseman</td>
      <td>Joan I of Navarre</td>
      <td>Margaret of Navarre</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Wu Mengchao</td>
      <td>Margaret of Navarre</td>
      <td>2024 United States presidential election</td>
      <td>William II of Sicily</td>
      <td>Eleanor, Fair Maid of Brittany</td>
    </tr>
    <tr>
      <th>4</th>
      <td>List of French royal consorts</td>
      <td>Tancred, King of Sicily</td>
      <td>COVID-19 pandemic in the United States</td>
      <td>Philip III of France</td>
      <td>Constance, Queen of Sicily</td>
    </tr>
    <tr>
      <th>5</th>
      <td>Yevdokiya Lopukhina</td>
      <td>Timeline of the Middle Ages</td>
      <td>Black Lives Matter</td>
      <td>Joanna I of Naples</td>
      <td>Tancred, King of Sicily</td>
    </tr>
    <tr>
      <th>6</th>
      <td>Washington family</td>
      <td>Frederick I, Holy Roman Emperor</td>
      <td>George Floyd</td>
      <td>Biette de Cassinel</td>
      <td>Roger III, Duke of Apulia</td>
    </tr>
    <tr>
      <th>7</th>
      <td>Constance, Duchess of Brittany</td>
      <td>Eleanor, Fair Maid of Brittany</td>
      <td>Derek Chauvin</td>
      <td>Philip of Swabia</td>
      <td>The Thunder (TV series)</td>
    </tr>
    <tr>
      <th>8</th>
      <td>James Francis Edward Stuart</td>
      <td>Blanche of Burgundy</td>
      <td>2021 Israel–Palestine crisis</td>
      <td>Louis X of France</td>
      <td>Bi Shiduo</td>
    </tr>
    <tr>
      <th>9</th>
      <td>Louis VIII of France</td>
      <td>Margaret of Burgundy, Queen of France</td>
      <td>Zack Snyder's Justice League</td>
      <td>Louis XI</td>
      <td>Treaty of Venice</td>
    </tr>
    <tr>
      <th>10</th>
      <td>Blanche of Burgundy</td>
      <td>Southern Tang</td>
      <td>2020</td>
      <td>Constance, Queen of Sicily</td>
      <td>IPartment</td>
    </tr>
    <tr>
      <th>11</th>
      <td>Tour de Nesle affair</td>
      <td>Li Nong</td>
      <td>Inauguration of Joe Biden</td>
      <td>Anne of Brittany</td>
      <td>Margaret of Burgundy, Queen of France</td>
    </tr>
    <tr>
      <th>12</th>
      <td>List of rulers of Brittany</td>
      <td>Siege of Naples (1191)</td>
      <td>WandaVision</td>
      <td>Alexandra Feodorovna (Alix of Hesse)</td>
      <td>Song conquest of Southern Tang</td>
    </tr>
    <tr>
      <th>13</th>
      <td>1184</td>
      <td>IPartment</td>
      <td>COVID-19 misinformation</td>
      <td>Æthelred the Unready</td>
      <td>Siege of Naples (1191)</td>
    </tr>
    <tr>
      <th>14</th>
      <td>1330</td>
      <td>List of French royal consorts</td>
      <td>2021 Suez Canal obstruction</td>
      <td>Jean de Montagu</td>
      <td>Margaritus of Brindisi</td>
    </tr>
    <tr>
      <th>15</th>
      <td>1326</td>
      <td>The Thunder (TV series)</td>
      <td>2020 Atlantic hurricane season</td>
      <td>Matilda of Scotland</td>
      <td>Runze Hao</td>
    </tr>
    <tr>
      <th>16</th>
      <td>1315</td>
      <td>First Barons' War</td>
      <td>Wonder Woman 1984</td>
      <td>Louis VIII of France</td>
      <td>1189 in Italy</td>
    </tr>
    <tr>
      <th>17</th>
      <td>List of Navarrese royal consorts</td>
      <td>Line Walker: The Prelude</td>
      <td>Diego Maradona</td>
      <td>John II Komnenos</td>
      <td>Keep Running (season 7)</td>
    </tr>
    <tr>
      <th>18</th>
      <td>Joan II of Navarre</td>
      <td>Stanley Mosque</td>
      <td>Among Us</td>
      <td>Charles V of France</td>
      <td>Murong Wang</td>
    </tr>
    <tr>
      <th>19</th>
      <td>Prince Philip, Duke of Edinburgh</td>
      <td>Kingdom of Sicily</td>
      <td>Attempts to overturn the 2020 United States pr...</td>
      <td>Gratian</td>
      <td>Zheng Yihan</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">persons_of_interest</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s2">&quot;DoctorWho42&quot;</span><span class="p">,</span>
    <span class="s2">&quot;AxelSjögren&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Mighty platypus&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Tulietto&quot;</span><span class="p">,</span>
    <span class="s2">&quot;LipaCityPH&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Hesperian Nguyen&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Thornstrom&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Meow&quot;</span><span class="p">,</span>
    <span class="s2">&quot;HyprMarc&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Jampilot&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Rama&quot;</span>
<span class="p">]</span>
<span class="n">N</span><span class="o">=</span><span class="mi">10</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">irec_500</span> <span class="o">=</span> <span class="n">recommenders</span><span class="o">.</span><span class="n">ImplicitCollaborativeRecommender</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">implicit_matrix</span><span class="p">)</span>
<span class="n">irecs_poi</span> <span class="o">=</span> <span class="n">irec_500</span><span class="o">.</span><span class="n">recommend_all</span><span class="p">([</span><span class="n">n2u</span><span class="p">[</span><span class="n">user_name</span><span class="p">]</span> <span class="k">for</span> <span class="n">user_name</span> <span class="ow">in</span> <span class="n">persons_of_interest</span><span class="p">],</span> <span class="n">N</span><span class="p">,</span> <span class="n">u2i</span><span class="o">=</span><span class="n">u2i</span><span class="p">,</span> <span class="n">n2i</span><span class="o">=</span><span class="n">n2i</span><span class="p">,</span> <span class="n">i2p</span><span class="o">=</span><span class="n">i2p</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<script type="application/vnd.jupyter.widget-view+json">
{"model_id": "df21373672484fc8a075c5acf4cf3e3b", "version_major": 2, "version_minor": 0}
</script></div>
</div>
</div>
<div class="section" id="find-interesting-users">
<h2>Find interesting users<a class="headerlink" href="#find-interesting-users" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">edited_pages</span> <span class="o">=</span> <span class="n">clean_histories</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">(</span><span class="n">subset</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;title&#39;</span><span class="p">,</span><span class="s1">&#39;user&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;user&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">userid</span><span class="o">.</span><span class="n">count</span><span class="p">()</span>

<span class="n">edited_pages</span> <span class="o">=</span> <span class="n">edited_pages</span><span class="p">[</span><span class="n">edited_pages</span> <span class="o">&gt;</span> <span class="mi">50</span><span class="p">]</span>
<span class="n">edited_pages</span> <span class="o">=</span> <span class="n">edited_pages</span><span class="p">[</span><span class="n">edited_pages</span> <span class="o">&lt;</span> <span class="mi">300</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">clean_histories</span><span class="o">.</span><span class="n">columns</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Index([&#39;userid&#39;, &#39;user&#39;, &#39;pageid&#39;, &#39;title&#39;, &#39;first_timestamp&#39;,
       &#39;last_timestamp&#39;, &#39;sum_sizediff&#39;, &#39;consecutive_edits&#39;],
      dtype=&#39;object&#39;)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">display_user_recs_comparison</span><span class="p">(</span><span class="s2">&quot;Rama&quot;</span><span class="p">,</span> <span class="n">recs</span><span class="p">,</span> <span class="n">recs_subset</span><span class="p">,</span> <span class="n">histories_train</span><span class="p">,</span> <span class="n">histories_dev</span><span class="p">,</span> <span class="n">N</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Next edit: Freenode
</pre></div>
</div>
<div class="output text_html"><style  type="text/css" >
#T_5acc2_row0_col0,#T_5acc2_row0_col1,#T_5acc2_row0_col3,#T_5acc2_row0_col5,#T_5acc2_row1_col1,#T_5acc2_row1_col3,#T_5acc2_row1_col5,#T_5acc2_row2_col0,#T_5acc2_row2_col1,#T_5acc2_row2_col3,#T_5acc2_row2_col5,#T_5acc2_row3_col0,#T_5acc2_row3_col1,#T_5acc2_row3_col3,#T_5acc2_row3_col5,#T_5acc2_row4_col0,#T_5acc2_row4_col1,#T_5acc2_row4_col3,#T_5acc2_row4_col5,#T_5acc2_row5_col0,#T_5acc2_row5_col1,#T_5acc2_row5_col3,#T_5acc2_row5_col5,#T_5acc2_row6_col0,#T_5acc2_row6_col1,#T_5acc2_row6_col3,#T_5acc2_row6_col5,#T_5acc2_row7_col0,#T_5acc2_row7_col1,#T_5acc2_row7_col3,#T_5acc2_row7_col5,#T_5acc2_row8_col0,#T_5acc2_row8_col1,#T_5acc2_row8_col3,#T_5acc2_row8_col5,#T_5acc2_row9_col0,#T_5acc2_row9_col1,#T_5acc2_row9_col3,#T_5acc2_row9_col5,#T_5acc2_row10_col0,#T_5acc2_row10_col1,#T_5acc2_row10_col3,#T_5acc2_row10_col5,#T_5acc2_row11_col0,#T_5acc2_row11_col1,#T_5acc2_row11_col3,#T_5acc2_row11_col5,#T_5acc2_row12_col0,#T_5acc2_row12_col1,#T_5acc2_row12_col3,#T_5acc2_row12_col5,#T_5acc2_row13_col0,#T_5acc2_row13_col1,#T_5acc2_row13_col3,#T_5acc2_row13_col5,#T_5acc2_row14_col0,#T_5acc2_row14_col1,#T_5acc2_row14_col3,#T_5acc2_row14_col5,#T_5acc2_row15_col0,#T_5acc2_row15_col1,#T_5acc2_row15_col3,#T_5acc2_row15_col5,#T_5acc2_row16_col0,#T_5acc2_row16_col1,#T_5acc2_row16_col3,#T_5acc2_row16_col5,#T_5acc2_row17_col0,#T_5acc2_row17_col1,#T_5acc2_row17_col3,#T_5acc2_row17_col5,#T_5acc2_row18_col0,#T_5acc2_row18_col1,#T_5acc2_row18_col3,#T_5acc2_row18_col5,#T_5acc2_row19_col1,#T_5acc2_row19_col3,#T_5acc2_row19_col5{
            font-weight:  bold;
            color:  black;
        }#T_5acc2_row0_col2,#T_5acc2_row0_col4,#T_5acc2_row0_col6,#T_5acc2_row1_col2,#T_5acc2_row1_col4,#T_5acc2_row1_col6,#T_5acc2_row2_col2,#T_5acc2_row2_col4,#T_5acc2_row2_col6,#T_5acc2_row3_col2,#T_5acc2_row3_col4,#T_5acc2_row3_col6,#T_5acc2_row4_col2,#T_5acc2_row4_col4,#T_5acc2_row4_col6,#T_5acc2_row5_col2,#T_5acc2_row5_col4,#T_5acc2_row5_col6,#T_5acc2_row6_col2,#T_5acc2_row6_col4,#T_5acc2_row6_col6,#T_5acc2_row7_col2,#T_5acc2_row7_col4,#T_5acc2_row7_col6,#T_5acc2_row8_col2,#T_5acc2_row8_col4,#T_5acc2_row8_col6,#T_5acc2_row9_col2,#T_5acc2_row9_col4,#T_5acc2_row9_col6,#T_5acc2_row10_col2,#T_5acc2_row10_col4,#T_5acc2_row10_col6,#T_5acc2_row11_col2,#T_5acc2_row11_col4,#T_5acc2_row11_col6,#T_5acc2_row12_col2,#T_5acc2_row12_col4,#T_5acc2_row12_col6,#T_5acc2_row13_col2,#T_5acc2_row13_col4,#T_5acc2_row13_col6,#T_5acc2_row14_col2,#T_5acc2_row14_col4,#T_5acc2_row14_col6,#T_5acc2_row15_col2,#T_5acc2_row15_col4,#T_5acc2_row15_col6,#T_5acc2_row16_col2,#T_5acc2_row16_col4,#T_5acc2_row16_col6,#T_5acc2_row17_col2,#T_5acc2_row17_col4,#T_5acc2_row17_col6,#T_5acc2_row18_col2,#T_5acc2_row18_col4,#T_5acc2_row18_col6,#T_5acc2_row19_col0,#T_5acc2_row19_col2,#T_5acc2_row19_col4,#T_5acc2_row19_col6{
            font-weight:  normal;
            color:  black;
        }#T_5acc2_row1_col0{
            font-weight:  bold;
            color:  red;
        }</style><table id="T_5acc2_" ><thead>    <tr>        <th class="blank level0" ></th>        <th class="col_heading level0 col0" >Recent</th>        <th class="col_heading level0 col1" >Frequent</th>        <th class="col_heading level0 col2" >Popularity</th>        <th class="col_heading level0 col3" >Implicit</th>        <th class="col_heading level0 col4" >Implicit_filtered</th>        <th class="col_heading level0 col5" >bm25</th>        <th class="col_heading level0 col6" >bm25_filtered</th>    </tr></thead><tbody>
                <tr>
                        <th id="T_5acc2_level0_row0" class="row_heading level0 row0" >0</th>
                        <td id="T_5acc2_row0_col0" class="data row0 col0" >Andrew Lee (entrepreneur)</td>
                        <td id="T_5acc2_row0_col1" class="data row0 col1" >Joseph de Flotte</td>
                        <td id="T_5acc2_row0_col2" class="data row0 col2" >Prince Philip, Duke of Edinburgh</td>
                        <td id="T_5acc2_row0_col3" class="data row0 col3" >Joseph de Flotte</td>
                        <td id="T_5acc2_row0_col4" class="data row0 col4" >HMS Triton (1796)</td>
                        <td id="T_5acc2_row0_col5" class="data row0 col5" >Battle of Fort Royal</td>
                        <td id="T_5acc2_row0_col6" class="data row0 col6" >Battle of the Mona Passage</td>
            </tr>
            <tr>
                        <th id="T_5acc2_level0_row1" class="row_heading level0 row1" >1</th>
                        <td id="T_5acc2_row1_col0" class="data row1 col0" >Freenode</td>
                        <td id="T_5acc2_row1_col1" class="data row1 col1" >French fluyt Gros Ventre (1767)</td>
                        <td id="T_5acc2_row1_col2" class="data row1 col2" >2020–2021 Belarusian protests</td>
                        <td id="T_5acc2_row1_col3" class="data row1 col3" >French fluyt Gros Ventre (1767)</td>
                        <td id="T_5acc2_row1_col4" class="data row1 col4" >Battle of the Mona Passage</td>
                        <td id="T_5acc2_row1_col5" class="data row1 col5" >Nicolas Henri de Grimouard</td>
                        <td id="T_5acc2_row1_col6" class="data row1 col6" >Great Siege of Gibraltar</td>
            </tr>
            <tr>
                        <th id="T_5acc2_level0_row2" class="row_heading level0 row2" >2</th>
                        <td id="T_5acc2_row2_col0" class="data row2 col0" >Long Range Acoustic Device</td>
                        <td id="T_5acc2_row2_col1" class="data row2 col1" >First voyage of Kerguelen</td>
                        <td id="T_5acc2_row2_col2" class="data row2 col2" >Chadwick Boseman</td>
                        <td id="T_5acc2_row2_col3" class="data row2 col3" >First voyage of Kerguelen</td>
                        <td id="T_5acc2_row2_col4" class="data row2 col4" >HMS Sylph</td>
                        <td id="T_5acc2_row2_col5" class="data row2 col5" >French frigate Boudeuse (1766)</td>
                        <td id="T_5acc2_row2_col6" class="data row2 col6" >Anglo-French War (1778–1783)</td>
            </tr>
            <tr>
                        <th id="T_5acc2_level0_row3" class="row_heading level0 row3" >3</th>
                        <td id="T_5acc2_row3_col0" class="data row3 col0" >French ship Adelaide (1699)</td>
                        <td id="T_5acc2_row3_col1" class="data row3 col1" >Battle of Fort Royal</td>
                        <td id="T_5acc2_row3_col2" class="data row3 col2" >2024 United States presidential election</td>
                        <td id="T_5acc2_row3_col3" class="data row3 col3" >Battle of Fort Royal</td>
                        <td id="T_5acc2_row3_col4" class="data row3 col4" >HMS Sylph (1795)</td>
                        <td id="T_5acc2_row3_col5" class="data row3 col5" >Joseph de Flotte</td>
                        <td id="T_5acc2_row3_col6" class="data row3 col6" >Invasion of Martinique (1809)</td>
            </tr>
            <tr>
                        <th id="T_5acc2_level0_row4" class="row_heading level0 row4" >4</th>
                        <td id="T_5acc2_row4_col0" class="data row4 col0" >French frigate Muiron</td>
                        <td id="T_5acc2_row4_col1" class="data row4 col1" >Louis Charles du Chaffault de Besné</td>
                        <td id="T_5acc2_row4_col2" class="data row4 col2" >COVID-19 pandemic in the United States</td>
                        <td id="T_5acc2_row4_col3" class="data row4 col3" >Louis Charles du Chaffault de Besné</td>
                        <td id="T_5acc2_row4_col4" class="data row4 col4" >Great Siege of Gibraltar</td>
                        <td id="T_5acc2_row4_col5" class="data row4 col5" >French fluyt Gros Ventre (1767)</td>
                        <td id="T_5acc2_row4_col6" class="data row4 col6" >Action of 12 December 1779</td>
            </tr>
            <tr>
                        <th id="T_5acc2_level0_row5" class="row_heading level0 row5" >5</th>
                        <td id="T_5acc2_row5_col0" class="data row5 col0" >Future French aircraft carrier</td>
                        <td id="T_5acc2_row5_col1" class="data row5 col1" >Robert Surcouf</td>
                        <td id="T_5acc2_row5_col2" class="data row5 col2" >Black Lives Matter</td>
                        <td id="T_5acc2_row5_col3" class="data row5 col3" >French frigate Flore (1769)</td>
                        <td id="T_5acc2_row5_col4" class="data row5 col4" >Battle of Pulo Aura</td>
                        <td id="T_5acc2_row5_col5" class="data row5 col5" >French frigate Flore (1769)</td>
                        <td id="T_5acc2_row5_col6" class="data row5 col6" >Action of 17 June 1778</td>
            </tr>
            <tr>
                        <th id="T_5acc2_level0_row6" class="row_heading level0 row6" >6</th>
                        <td id="T_5acc2_row6_col0" class="data row6 col0" >French Naval Aviation</td>
                        <td id="T_5acc2_row6_col1" class="data row6 col1" >Future French aircraft carrier</td>
                        <td id="T_5acc2_row6_col2" class="data row6 col2" >George Floyd</td>
                        <td id="T_5acc2_row6_col3" class="data row6 col3" >Battle of St. Lucia</td>
                        <td id="T_5acc2_row6_col4" class="data row6 col4" >Battle of Nieuwpoort</td>
                        <td id="T_5acc2_row6_col5" class="data row6 col5" >First voyage of Kerguelen</td>
                        <td id="T_5acc2_row6_col6" class="data row6 col6" >Action of 17 August 1779</td>
            </tr>
            <tr>
                        <th id="T_5acc2_level0_row7" class="row_heading level0 row7" >7</th>
                        <td id="T_5acc2_row7_col0" class="data row7 col0" >NHIndustries NH90</td>
                        <td id="T_5acc2_row7_col1" class="data row7 col1" >Jacques de Grenier</td>
                        <td id="T_5acc2_row7_col2" class="data row7 col2" >Derek Chauvin</td>
                        <td id="T_5acc2_row7_col3" class="data row7 col3" >Jacques de Grenier</td>
                        <td id="T_5acc2_row7_col4" class="data row7 col4" >HMS Alceste (1806)</td>
                        <td id="T_5acc2_row7_col5" class="data row7 col5" >Battle of St. Lucia</td>
                        <td id="T_5acc2_row7_col6" class="data row7 col6" >American Revolutionary War</td>
            </tr>
            <tr>
                        <th id="T_5acc2_level0_row8" class="row_heading level0 row8" >8</th>
                        <td id="T_5acc2_row8_col0" class="data row8 col0" >French frigate Auvergne</td>
                        <td id="T_5acc2_row8_col1" class="data row8 col1" >French frigate Flore (1769)</td>
                        <td id="T_5acc2_row8_col2" class="data row8 col2" >2021 Israel–Palestine crisis</td>
                        <td id="T_5acc2_row8_col3" class="data row8 col3" >Battle of Grenada</td>
                        <td id="T_5acc2_row8_col4" class="data row8 col4" >French frigate Sibylle (1792)</td>
                        <td id="T_5acc2_row8_col5" class="data row8 col5" >Louis Charles du Chaffault de Besné</td>
                        <td id="T_5acc2_row8_col6" class="data row8 col6" >France in the American Revolutionary War</td>
            </tr>
            <tr>
                        <th id="T_5acc2_level0_row9" class="row_heading level0 row9" >9</th>
                        <td id="T_5acc2_row9_col0" class="data row9 col0" >EMPAR</td>
                        <td id="T_5acc2_row9_col1" class="data row9 col1" >Battle of St. Lucia</td>
                        <td id="T_5acc2_row9_col2" class="data row9 col2" >Zack Snyder's Justice League</td>
                        <td id="T_5acc2_row9_col3" class="data row9 col3" >Robert Surcouf</td>
                        <td id="T_5acc2_row9_col4" class="data row9 col4" >HMS Amethyst (1799)</td>
                        <td id="T_5acc2_row9_col5" class="data row9 col5" >USS Hancock (1776)</td>
                        <td id="T_5acc2_row9_col6" class="data row9 col6" >British Army during the American Revolutionary War</td>
            </tr>
            <tr>
                        <th id="T_5acc2_level0_row10" class="row_heading level0 row10" >10</th>
                        <td id="T_5acc2_row10_col0" class="data row10 col0" >French frigate Chevalier Paul</td>
                        <td id="T_5acc2_row10_col1" class="data row10 col1" >Victurnien-Henri-Elzéar de Rochechouart de Mortemart</td>
                        <td id="T_5acc2_row10_col2" class="data row10 col2" >2020</td>
                        <td id="T_5acc2_row10_col3" class="data row10 col3" >Victurnien-Henri-Elzéar de Rochechouart de Mortemart</td>
                        <td id="T_5acc2_row10_col4" class="data row10 col4" >French frigate Pomone (1787)</td>
                        <td id="T_5acc2_row10_col5" class="data row10 col5" >French frigate Gentille (1778)</td>
                        <td id="T_5acc2_row10_col6" class="data row10 col6" >Capture of the Bahamas (1783)</td>
            </tr>
            <tr>
                        <th id="T_5acc2_level0_row11" class="row_heading level0 row11" >11</th>
                        <td id="T_5acc2_row11_col0" class="data row11 col0" >OTO Melara 76 mm</td>
                        <td id="T_5acc2_row11_col1" class="data row11 col1" >Ahutoru</td>
                        <td id="T_5acc2_row11_col2" class="data row11 col2" >Inauguration of Joe Biden</td>
                        <td id="T_5acc2_row11_col3" class="data row11 col3" >USS Hancock (1776)</td>
                        <td id="T_5acc2_row11_col4" class="data row11 col4" >Lord Nelson (East Indiaman)</td>
                        <td id="T_5acc2_row11_col5" class="data row11 col5" >French frigate Terpsichore (1763)</td>
                        <td id="T_5acc2_row11_col6" class="data row11 col6" >Battle of Trincomalee</td>
            </tr>
            <tr>
                        <th id="T_5acc2_level0_row12" class="row_heading level0 row12" >12</th>
                        <td id="T_5acc2_row12_col0" class="data row12 col0" >Future Combat Air System</td>
                        <td id="T_5acc2_row12_col1" class="data row12 col1" >USS Hancock (1776)</td>
                        <td id="T_5acc2_row12_col2" class="data row12 col2" >WandaVision</td>
                        <td id="T_5acc2_row12_col3" class="data row12 col3" >Ahutoru</td>
                        <td id="T_5acc2_row12_col4" class="data row12 col4" >Anglo-French War (1778–1783)</td>
                        <td id="T_5acc2_row12_col5" class="data row12 col5" >Alexandre Guy Pingré</td>
                        <td id="T_5acc2_row12_col6" class="data row12 col6" >Battle of Cuddalore (1783)</td>
            </tr>
            <tr>
                        <th id="T_5acc2_level0_row13" class="row_heading level0 row13" >13</th>
                        <td id="T_5acc2_row13_col0" class="data row13 col0" >Herakles (radar)</td>
                        <td id="T_5acc2_row13_col1" class="data row13 col1" >Battle of Grenada</td>
                        <td id="T_5acc2_row13_col2" class="data row13 col2" >COVID-19 misinformation</td>
                        <td id="T_5acc2_row13_col3" class="data row13 col3" >Nicolas Henri de Grimouard</td>
                        <td id="T_5acc2_row13_col4" class="data row13 col4" >French frigate Armide (1804)</td>
                        <td id="T_5acc2_row13_col5" class="data row13 col5" >French frigate Alcmène (1774)</td>
                        <td id="T_5acc2_row13_col6" class="data row13 col6" >Battle of Sangshak</td>
            </tr>
            <tr>
                        <th id="T_5acc2_level0_row14" class="row_heading level0 row14" >14</th>
                        <td id="T_5acc2_row14_col0" class="data row14 col0" >French ship Invincible (1780)</td>
                        <td id="T_5acc2_row14_col1" class="data row14 col1" >Battle of the Saintes</td>
                        <td id="T_5acc2_row14_col2" class="data row14 col2" >2021 Suez Canal obstruction</td>
                        <td id="T_5acc2_row14_col3" class="data row14 col3" >French frigate Boudeuse (1766)</td>
                        <td id="T_5acc2_row14_col4" class="data row14 col4" >HMS Speedy (1782)</td>
                        <td id="T_5acc2_row14_col5" class="data row14 col5" >HMS Richmond (1757)</td>
                        <td id="T_5acc2_row14_col6" class="data row14 col6" >Burma campaign</td>
            </tr>
            <tr>
                        <th id="T_5acc2_level0_row15" class="row_heading level0 row15" >15</th>
                        <td id="T_5acc2_row15_col0" class="data row15 col0" >Pang</td>
                        <td id="T_5acc2_row15_col1" class="data row15 col1" >Alexandre Guy Pingré</td>
                        <td id="T_5acc2_row15_col2" class="data row15 col2" >2020 Atlantic hurricane season</td>
                        <td id="T_5acc2_row15_col3" class="data row15 col3" >Étienne Eustache Bruix</td>
                        <td id="T_5acc2_row15_col4" class="data row15 col4" >Francis Reynolds-Moreton, 3rd Baron Ducie</td>
                        <td id="T_5acc2_row15_col5" class="data row15 col5" >Victurnien-Henri-Elzéar de Rochechouart de Mortemart</td>
                        <td id="T_5acc2_row15_col6" class="data row15 col6" >French aircraft carrier Charles de Gaulle</td>
            </tr>
            <tr>
                        <th id="T_5acc2_level0_row16" class="row_heading level0 row16" >16</th>
                        <td id="T_5acc2_row16_col0" class="data row16 col0" >List of current ships of the United States Navy</td>
                        <td id="T_5acc2_row16_col1" class="data row16 col1" >Nicolas Henri de Grimouard</td>
                        <td id="T_5acc2_row16_col2" class="data row16 col2" >Wonder Woman 1984</td>
                        <td id="T_5acc2_row16_col3" class="data row16 col3" >French cutter Pandour (1780)</td>
                        <td id="T_5acc2_row16_col4" class="data row16 col4" >HMS Phoenix (1783)</td>
                        <td id="T_5acc2_row16_col5" class="data row16 col5" >French ship Glorieux (1756)</td>
                        <td id="T_5acc2_row16_col6" class="data row16 col6" >Perseus (missile)</td>
            </tr>
            <tr>
                        <th id="T_5acc2_level0_row17" class="row_heading level0 row17" >17</th>
                        <td id="T_5acc2_row17_col0" class="data row17 col0" >Cabinet reshuffle</td>
                        <td id="T_5acc2_row17_col1" class="data row17 col1" >Escadre d'évolution</td>
                        <td id="T_5acc2_row17_col2" class="data row17 col2" >Diego Maradona</td>
                        <td id="T_5acc2_row17_col3" class="data row17 col3" >Action of 4 January 1781</td>
                        <td id="T_5acc2_row17_col4" class="data row17 col4" >Seringapatam (1799 ship)</td>
                        <td id="T_5acc2_row17_col5" class="data row17 col5" >French frigate Aigrette (1756)</td>
                        <td id="T_5acc2_row17_col6" class="data row17 col6" >George Brydges Rodney, 1st Baron Rodney</td>
            </tr>
            <tr>
                        <th id="T_5acc2_level0_row18" class="row_heading level0 row18" >18</th>
                        <td id="T_5acc2_row18_col0" class="data row18 col0" >We Who Are About To</td>
                        <td id="T_5acc2_row18_col1" class="data row18 col1" >French frigate Terpsichore (1763)</td>
                        <td id="T_5acc2_row18_col2" class="data row18 col2" >Among Us</td>
                        <td id="T_5acc2_row18_col3" class="data row18 col3" >French frigate Alcmène (1774)</td>
                        <td id="T_5acc2_row18_col4" class="data row18 col4" >Siege of Alexandria</td>
                        <td id="T_5acc2_row18_col5" class="data row18 col5" >French fluyt Fortune (1758)</td>
                        <td id="T_5acc2_row18_col6" class="data row18 col6" >Battle of Maida</td>
            </tr>
            <tr>
                        <th id="T_5acc2_level0_row19" class="row_heading level0 row19" >19</th>
                        <td id="T_5acc2_row19_col0" class="data row19 col0" >Prince Philip, Duke of Edinburgh</td>
                        <td id="T_5acc2_row19_col1" class="data row19 col1" >Baie de la Dauphine</td>
                        <td id="T_5acc2_row19_col2" class="data row19 col2" >Attempts to overturn the 2020 United States presidential election</td>
                        <td id="T_5acc2_row19_col3" class="data row19 col3" >French frigate Terpsichore (1763)</td>
                        <td id="T_5acc2_row19_col4" class="data row19 col4" >Action of 4 August 1800</td>
                        <td id="T_5acc2_row19_col5" class="data row19 col5" >French ship Nymphe</td>
                        <td id="T_5acc2_row19_col6" class="data row19 col6" >Battle of Alkmaar (1799)</td>
            </tr>
    </tbody></table></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">index</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">edited_pages</span><span class="p">)))</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">index</span><span class="p">[:</span><span class="mi">10</span><span class="p">]:</span>
    <span class="n">user_name</span> <span class="o">=</span> <span class="n">edited_pages</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">user_name</span><span class="p">)</span>
    <span class="n">display_user_recs_comparison</span><span class="p">(</span><span class="n">user_name</span><span class="p">,</span> <span class="n">recs</span><span class="p">,</span> <span class="n">recs_subset</span><span class="p">,</span> <span class="n">histories_train</span><span class="p">,</span> <span class="n">histories_dev</span><span class="p">,</span> <span class="n">N</span><span class="o">=</span><span class="mi">20</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Publichall
Next edit: Lyon Building
</pre></div>
</div>
<div class="output text_html"><style  type="text/css" >
#T_8201c_row0_col0,#T_8201c_row0_col1,#T_8201c_row0_col5,#T_8201c_row1_col0,#T_8201c_row1_col1,#T_8201c_row1_col3,#T_8201c_row1_col5,#T_8201c_row2_col0,#T_8201c_row2_col1,#T_8201c_row2_col5,#T_8201c_row3_col0,#T_8201c_row3_col1,#T_8201c_row3_col5,#T_8201c_row4_col0,#T_8201c_row4_col1,#T_8201c_row4_col5,#T_8201c_row5_col0,#T_8201c_row5_col1,#T_8201c_row5_col3,#T_8201c_row5_col5,#T_8201c_row6_col0,#T_8201c_row6_col1,#T_8201c_row6_col3,#T_8201c_row7_col0,#T_8201c_row7_col1,#T_8201c_row7_col3,#T_8201c_row7_col5,#T_8201c_row8_col0,#T_8201c_row8_col1,#T_8201c_row8_col5,#T_8201c_row9_col0,#T_8201c_row9_col1,#T_8201c_row9_col5,#T_8201c_row10_col0,#T_8201c_row10_col1,#T_8201c_row10_col5,#T_8201c_row11_col0,#T_8201c_row11_col1,#T_8201c_row11_col3,#T_8201c_row11_col5,#T_8201c_row12_col0,#T_8201c_row12_col1,#T_8201c_row12_col5,#T_8201c_row13_col0,#T_8201c_row13_col1,#T_8201c_row13_col3,#T_8201c_row13_col5,#T_8201c_row14_col0,#T_8201c_row14_col1,#T_8201c_row14_col5,#T_8201c_row15_col0,#T_8201c_row15_col5,#T_8201c_row16_col0,#T_8201c_row16_col1,#T_8201c_row16_col5,#T_8201c_row17_col0,#T_8201c_row17_col1,#T_8201c_row17_col5,#T_8201c_row18_col0,#T_8201c_row18_col1,#T_8201c_row18_col5,#T_8201c_row19_col1,#T_8201c_row19_col5{
            font-weight:  bold;
            color:  black;
        }#T_8201c_row0_col2,#T_8201c_row0_col3,#T_8201c_row0_col4,#T_8201c_row0_col6,#T_8201c_row1_col2,#T_8201c_row1_col4,#T_8201c_row1_col6,#T_8201c_row2_col2,#T_8201c_row2_col3,#T_8201c_row2_col4,#T_8201c_row2_col6,#T_8201c_row3_col2,#T_8201c_row3_col3,#T_8201c_row3_col4,#T_8201c_row3_col6,#T_8201c_row4_col2,#T_8201c_row4_col3,#T_8201c_row4_col4,#T_8201c_row4_col6,#T_8201c_row5_col2,#T_8201c_row5_col4,#T_8201c_row5_col6,#T_8201c_row6_col2,#T_8201c_row6_col4,#T_8201c_row6_col6,#T_8201c_row7_col2,#T_8201c_row7_col4,#T_8201c_row7_col6,#T_8201c_row8_col2,#T_8201c_row8_col3,#T_8201c_row8_col4,#T_8201c_row8_col6,#T_8201c_row9_col2,#T_8201c_row9_col3,#T_8201c_row9_col4,#T_8201c_row9_col6,#T_8201c_row10_col2,#T_8201c_row10_col3,#T_8201c_row10_col4,#T_8201c_row10_col6,#T_8201c_row11_col2,#T_8201c_row11_col4,#T_8201c_row11_col6,#T_8201c_row12_col2,#T_8201c_row12_col3,#T_8201c_row12_col4,#T_8201c_row12_col6,#T_8201c_row13_col2,#T_8201c_row13_col4,#T_8201c_row13_col6,#T_8201c_row14_col2,#T_8201c_row14_col3,#T_8201c_row14_col4,#T_8201c_row14_col6,#T_8201c_row15_col2,#T_8201c_row15_col3,#T_8201c_row15_col4,#T_8201c_row15_col6,#T_8201c_row16_col2,#T_8201c_row16_col3,#T_8201c_row16_col4,#T_8201c_row16_col6,#T_8201c_row17_col2,#T_8201c_row17_col3,#T_8201c_row17_col4,#T_8201c_row17_col6,#T_8201c_row18_col2,#T_8201c_row18_col3,#T_8201c_row18_col4,#T_8201c_row18_col6,#T_8201c_row19_col0,#T_8201c_row19_col2,#T_8201c_row19_col3,#T_8201c_row19_col4,#T_8201c_row19_col6{
            font-weight:  normal;
            color:  black;
        }#T_8201c_row6_col5,#T_8201c_row15_col1{
            font-weight:  bold;
            color:  red;
        }</style><table id="T_8201c_" ><thead>    <tr>        <th class="blank level0" ></th>        <th class="col_heading level0 col0" >Recent</th>        <th class="col_heading level0 col1" >Frequent</th>        <th class="col_heading level0 col2" >Popularity</th>        <th class="col_heading level0 col3" >Implicit</th>        <th class="col_heading level0 col4" >Implicit_filtered</th>        <th class="col_heading level0 col5" >bm25</th>        <th class="col_heading level0 col6" >bm25_filtered</th>    </tr></thead><tbody>
                <tr>
                        <th id="T_8201c_level0_row0" class="row_heading level0 row0" >0</th>
                        <td id="T_8201c_row0_col0" class="data row0 col0" >First National Bank of Eddy</td>
                        <td id="T_8201c_row0_col1" class="data row0 col1" >William E. Boone</td>
                        <td id="T_8201c_row0_col2" class="data row0 col2" >Prince Philip, Duke of Edinburgh</td>
                        <td id="T_8201c_row0_col3" class="data row0 col3" >Angeline Lake</td>
                        <td id="T_8201c_row0_col4" class="data row0 col4" >Angeline Lake</td>
                        <td id="T_8201c_row0_col5" class="data row0 col5" >Interurban Building (Seattle)</td>
                        <td id="T_8201c_row0_col6" class="data row0 col6" >Interstate 205 (Oregon–Washington)</td>
            </tr>
            <tr>
                        <th id="T_8201c_level0_row1" class="row_heading level0 row1" >1</th>
                        <td id="T_8201c_row1_col0" class="data row1 col0" >Naveed (song)</td>
                        <td id="T_8201c_row1_col1" class="data row1 col1" >Interurban Building (Seattle)</td>
                        <td id="T_8201c_row1_col2" class="data row1 col2" >2020–2021 Belarusian protests</td>
                        <td id="T_8201c_row1_col3" class="data row1 col3" >William E. Boone</td>
                        <td id="T_8201c_row1_col4" class="data row1 col4" >Robert Shields (diarist)</td>
                        <td id="T_8201c_row1_col5" class="data row1 col5" >Colman Building</td>
                        <td id="T_8201c_row1_col6" class="data row1 col6" >Dell Loy Hansen</td>
            </tr>
            <tr>
                        <th id="T_8201c_level0_row2" class="row_heading level0 row2" >2</th>
                        <td id="T_8201c_row2_col0" class="data row2 col0" >Right Behind You (Mafia)</td>
                        <td id="T_8201c_row2_col1" class="data row2 col1" >Elmer H. Fisher</td>
                        <td id="T_8201c_row2_col2" class="data row2 col2" >Chadwick Boseman</td>
                        <td id="T_8201c_row2_col3" class="data row2 col3" >Robert Shields (diarist)</td>
                        <td id="T_8201c_row2_col4" class="data row2 col4" >List of waterfalls of Washington (state)</td>
                        <td id="T_8201c_row2_col5" class="data row2 col5" >Union Trust Building (Seattle)</td>
                        <td id="T_8201c_row2_col6" class="data row2 col6" >Shoreline North/185th station</td>
            </tr>
            <tr>
                        <th id="T_8201c_level0_row3" class="row_heading level0 row3" >3</th>
                        <td id="T_8201c_row3_col0" class="data row3 col0" >William Rankin Ballard</td>
                        <td id="T_8201c_row3_col1" class="data row3 col1" >Colman Building</td>
                        <td id="T_8201c_row3_col2" class="data row3 col2" >2024 United States presidential election</td>
                        <td id="T_8201c_row3_col3" class="data row3 col3" >List of waterfalls of Washington (state)</td>
                        <td id="T_8201c_row3_col4" class="data row3 col4" >Cooper Lake (Washington)</td>
                        <td id="T_8201c_row3_col5" class="data row3 col5" >Agen Warehouse</td>
                        <td id="T_8201c_row3_col6" class="data row3 col6" >Interstate 405 (Oregon)</td>
            </tr>
            <tr>
                        <th id="T_8201c_level0_row4" class="row_heading level0 row4" >4</th>
                        <td id="T_8201c_row4_col0" class="data row4 col0" >Interurban Building (Seattle)</td>
                        <td id="T_8201c_row4_col1" class="data row4 col1" >Mottman Building</td>
                        <td id="T_8201c_row4_col2" class="data row4 col2" >COVID-19 pandemic in the United States</td>
                        <td id="T_8201c_row4_col3" class="data row4 col3" >Cooper Lake (Washington)</td>
                        <td id="T_8201c_row4_col4" class="data row4 col4" >Lake Ethel</td>
                        <td id="T_8201c_row4_col5" class="data row4 col5" >Grand Pacific Hotel (Seattle)</td>
                        <td id="T_8201c_row4_col6" class="data row4 col6" >University Street station</td>
            </tr>
            <tr>
                        <th id="T_8201c_level0_row5" class="row_heading level0 row5" >5</th>
                        <td id="T_8201c_row5_col0" class="data row5 col0" >Naveed (album)</td>
                        <td id="T_8201c_row5_col1" class="data row5 col1" >Rector Hotel</td>
                        <td id="T_8201c_row5_col2" class="data row5 col2" >Black Lives Matter</td>
                        <td id="T_8201c_row5_col3" class="data row5 col3" >Smith Tower</td>
                        <td id="T_8201c_row5_col4" class="data row5 col4" >Lake Ida (Washington)</td>
                        <td id="T_8201c_row5_col5" class="data row5 col5" >Rector Hotel</td>
                        <td id="T_8201c_row5_col6" class="data row5 col6" >Stadium station (Sound Transit)</td>
            </tr>
            <tr>
                        <th id="T_8201c_level0_row6" class="row_heading level0 row6" >6</th>
                        <td id="T_8201c_row6_col0" class="data row6 col0" >Happiness... Is Not a Fish That You Can Catch</td>
                        <td id="T_8201c_row6_col1" class="data row6 col1" >Masonic Lodge Building (Kirkland, Washington)</td>
                        <td id="T_8201c_row6_col2" class="data row6 col2" >George Floyd</td>
                        <td id="T_8201c_row6_col3" class="data row6 col3" >Union Trust Building (Seattle)</td>
                        <td id="T_8201c_row6_col4" class="data row6 col4" >Lake Augusta (Washington)</td>
                        <td id="T_8201c_row6_col5" class="data row6 col5" >Lyon Building</td>
                        <td id="T_8201c_row6_col6" class="data row6 col6" >MLS Cup 2000</td>
            </tr>
            <tr>
                        <th id="T_8201c_level0_row7" class="row_heading level0 row7" >7</th>
                        <td id="T_8201c_row7_col0" class="data row7 col0" >Spiritual Machines</td>
                        <td id="T_8201c_row7_col1" class="data row7 col1" >Umatilla, Oregon</td>
                        <td id="T_8201c_row7_col2" class="data row7 col2" >Derek Chauvin</td>
                        <td id="T_8201c_row7_col3" class="data row7 col3" >Interurban Building (Seattle)</td>
                        <td id="T_8201c_row7_col4" class="data row7 col4" >Kirkland, Washington</td>
                        <td id="T_8201c_row7_col5" class="data row7 col5" >Holyoke Building</td>
                        <td id="T_8201c_row7_col6" class="data row7 col6" >Granite Falls, Washington</td>
            </tr>
            <tr>
                        <th id="T_8201c_level0_row8" class="row_heading level0 row8" >8</th>
                        <td id="T_8201c_row8_col0" class="data row8 col0" >Gravity (Our Lady Peace album)</td>
                        <td id="T_8201c_row8_col1" class="data row8 col1" >Agen Warehouse</td>
                        <td id="T_8201c_row8_col2" class="data row8 col2" >2021 Israel–Palestine crisis</td>
                        <td id="T_8201c_row8_col3" class="data row8 col3" >Lake Ethel</td>
                        <td id="T_8201c_row8_col4" class="data row8 col4" >U District station</td>
                        <td id="T_8201c_row8_col5" class="data row8 col5" >Smith Tower</td>
                        <td id="T_8201c_row8_col6" class="data row8 col6" >MLS Cup 1999</td>
            </tr>
            <tr>
                        <th id="T_8201c_level0_row9" class="row_heading level0 row9" >9</th>
                        <td id="T_8201c_row9_col0" class="data row9 col0" >Clumsy (Our Lady Peace album)</td>
                        <td id="T_8201c_row9_col1" class="data row9 col1" >Union Trust Building (Seattle)</td>
                        <td id="T_8201c_row9_col2" class="data row9 col2" >Zack Snyder's Justice League</td>
                        <td id="T_8201c_row9_col3" class="data row9 col3" >Lake Ida (Washington)</td>
                        <td id="T_8201c_row9_col4" class="data row9 col4" >Interstate 5 in Washington</td>
                        <td id="T_8201c_row9_col5" class="data row9 col5" >Colonial Hotel (Seattle)</td>
                        <td id="T_8201c_row9_col6" class="data row9 col6" >List of tallest buildings in Seattle</td>
            </tr>
            <tr>
                        <th id="T_8201c_level0_row10" class="row_heading level0 row10" >10</th>
                        <td id="T_8201c_row10_col0" class="data row10 col0" >People's store</td>
                        <td id="T_8201c_row10_col1" class="data row10 col1" >Grand Pacific Hotel (Seattle)</td>
                        <td id="T_8201c_row10_col2" class="data row10 col2" >2020</td>
                        <td id="T_8201c_row10_col3" class="data row10 col3" >Lake Augusta (Washington)</td>
                        <td id="T_8201c_row10_col4" class="data row10 col4" >Interstate 405 (Oregon)</td>
                        <td id="T_8201c_row10_col5" class="data row10 col5" >German House (Seattle)</td>
                        <td id="T_8201c_row10_col6" class="data row10 col6" >Mount Baker station</td>
            </tr>
            <tr>
                        <th id="T_8201c_level0_row11" class="row_heading level0 row11" >11</th>
                        <td id="T_8201c_row11_col0" class="data row11 col0" >Peoples (store)</td>
                        <td id="T_8201c_row11_col1" class="data row11 col1" >Smith Tower</td>
                        <td id="T_8201c_row11_col2" class="data row11 col2" >Inauguration of Joe Biden</td>
                        <td id="T_8201c_row11_col3" class="data row11 col3" >Rector Hotel</td>
                        <td id="T_8201c_row11_col4" class="data row11 col4" >Mill Creek, Washington</td>
                        <td id="T_8201c_row11_col5" class="data row11 col5" >Colonnade Hotel (Seattle)</td>
                        <td id="T_8201c_row11_col6" class="data row11 col6" >Beacon Hill station (Sound Transit)</td>
            </tr>
            <tr>
                        <th id="T_8201c_level0_row12" class="row_heading level0 row12" >12</th>
                        <td id="T_8201c_row12_col0" class="data row12 col0" >Globe Building, Beebe Building and Hotel Cecil</td>
                        <td id="T_8201c_row12_col1" class="data row12 col1" >Gravity (Our Lady Peace album)</td>
                        <td id="T_8201c_row12_col2" class="data row12 col2" >WandaVision</td>
                        <td id="T_8201c_row12_col3" class="data row12 col3" >Kirkland, Washington</td>
                        <td id="T_8201c_row12_col4" class="data row12 col4" >List of tallest buildings in Seattle</td>
                        <td id="T_8201c_row12_col5" class="data row12 col5" >List of Seattle landmarks</td>
                        <td id="T_8201c_row12_col6" class="data row12 col6" >SODO station (Sound Transit)</td>
            </tr>
            <tr>
                        <th id="T_8201c_level0_row13" class="row_heading level0 row13" >13</th>
                        <td id="T_8201c_row13_col0" class="data row13 col0" >Their Satanic Majesties Request</td>
                        <td id="T_8201c_row13_col1" class="data row13 col1" >Peoples (store)</td>
                        <td id="T_8201c_row13_col2" class="data row13 col2" >COVID-19 misinformation</td>
                        <td id="T_8201c_row13_col3" class="data row13 col3" >Colman Building</td>
                        <td id="T_8201c_row13_col4" class="data row13 col4" >Mukilteo, Washington</td>
                        <td id="T_8201c_row13_col5" class="data row13 col5" >Buckley, Washington</td>
                        <td id="T_8201c_row13_col6" class="data row13 col6" >Westlake station (Sound Transit)</td>
            </tr>
            <tr>
                        <th id="T_8201c_level0_row14" class="row_heading level0 row14" >14</th>
                        <td id="T_8201c_row14_col0" class="data row14 col0" >Old Main (Western Washington University)</td>
                        <td id="T_8201c_row14_col1" class="data row14 col1" >Filson (company)</td>
                        <td id="T_8201c_row14_col2" class="data row14 col2" >2021 Suez Canal obstruction</td>
                        <td id="T_8201c_row14_col3" class="data row14 col3" >U District station</td>
                        <td id="T_8201c_row14_col4" class="data row14 col4" >MLS Cup 1999</td>
                        <td id="T_8201c_row14_col5" class="data row14 col5" >La Conner, Washington</td>
                        <td id="T_8201c_row14_col6" class="data row14 col6" >Duvall, Washington</td>
            </tr>
            <tr>
                        <th id="T_8201c_level0_row15" class="row_heading level0 row15" >15</th>
                        <td id="T_8201c_row15_col0" class="data row15 col0" >Starr Building (Seattle)</td>
                        <td id="T_8201c_row15_col1" class="data row15 col1" >Lyon Building</td>
                        <td id="T_8201c_row15_col2" class="data row15 col2" >2020 Atlantic hurricane season</td>
                        <td id="T_8201c_row15_col3" class="data row15 col3" >Interstate 5 in Washington</td>
                        <td id="T_8201c_row15_col4" class="data row15 col4" >Marysville, Washington</td>
                        <td id="T_8201c_row15_col5" class="data row15 col5" >William E. Boone</td>
                        <td id="T_8201c_row15_col6" class="data row15 col6" >Sedro-Woolley, Washington</td>
            </tr>
            <tr>
                        <th id="T_8201c_level0_row16" class="row_heading level0 row16" >16</th>
                        <td id="T_8201c_row16_col0" class="data row16 col0" >1201 Western Building (Seattle)</td>
                        <td id="T_8201c_row16_col1" class="data row16 col1" >Old Main (Western Washington University)</td>
                        <td id="T_8201c_row16_col2" class="data row16 col2" >Wonder Woman 1984</td>
                        <td id="T_8201c_row16_col3" class="data row16 col3" >Interstate 405 (Oregon)</td>
                        <td id="T_8201c_row16_col4" class="data row16 col4" >Interstate 405 (Washington)</td>
                        <td id="T_8201c_row16_col5" class="data row16 col5" >Elmer H. Fisher</td>
                        <td id="T_8201c_row16_col6" class="data row16 col6" >Tukwila, Washington</td>
            </tr>
            <tr>
                        <th id="T_8201c_level0_row17" class="row_heading level0 row17" >17</th>
                        <td id="T_8201c_row17_col0" class="data row17 col0" >Agen Warehouse</td>
                        <td id="T_8201c_row17_col1" class="data row17 col1" >Wilson Hotel</td>
                        <td id="T_8201c_row17_col2" class="data row17 col2" >Diego Maradona</td>
                        <td id="T_8201c_row17_col3" class="data row17 col3" >Mill Creek, Washington</td>
                        <td id="T_8201c_row17_col4" class="data row17 col4" >International District/Chinatown station</td>
                        <td id="T_8201c_row17_col5" class="data row17 col5" >Mottman Building</td>
                        <td id="T_8201c_row17_col6" class="data row17 col6" >Wing Luke</td>
            </tr>
            <tr>
                        <th id="T_8201c_level0_row18" class="row_heading level0 row18" >18</th>
                        <td id="T_8201c_row18_col0" class="data row18 col0" >John and Donald Parkinson</td>
                        <td id="T_8201c_row18_col1" class="data row18 col1" >Holyoke Building</td>
                        <td id="T_8201c_row18_col2" class="data row18 col2" >Among Us</td>
                        <td id="T_8201c_row18_col3" class="data row18 col3" >List of tallest buildings in Seattle</td>
                        <td id="T_8201c_row18_col4" class="data row18 col4" >Everett, Washington</td>
                        <td id="T_8201c_row18_col5" class="data row18 col5" >Umatilla, Oregon</td>
                        <td id="T_8201c_row18_col6" class="data row18 col6" >Martin Durkan</td>
            </tr>
            <tr>
                        <th id="T_8201c_level0_row19" class="row_heading level0 row19" >19</th>
                        <td id="T_8201c_row19_col0" class="data row19 col0" >Prince Philip, Duke of Edinburgh</td>
                        <td id="T_8201c_row19_col1" class="data row19 col1" >Naveed (album)</td>
                        <td id="T_8201c_row19_col2" class="data row19 col2" >Attempts to overturn the 2020 United States presidential election</td>
                        <td id="T_8201c_row19_col3" class="data row19 col3" >Mukilteo, Washington</td>
                        <td id="T_8201c_row19_col4" class="data row19 col4" >Kent, Washington</td>
                        <td id="T_8201c_row19_col5" class="data row19 col5" >Masonic Lodge Building (Kirkland, Washington)</td>
                        <td id="T_8201c_row19_col6" class="data row19 col6" >Spire (Seattle building)</td>
            </tr>
    </tbody></table></div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>HornetMike
Next edit: Richard Johnson (soccer)
</pre></div>
</div>
<div class="output text_html"><style  type="text/css" >
#T_85f7c_row0_col0,#T_85f7c_row0_col1,#T_85f7c_row0_col5,#T_85f7c_row1_col0,#T_85f7c_row1_col1,#T_85f7c_row1_col5,#T_85f7c_row2_col0,#T_85f7c_row2_col1,#T_85f7c_row2_col5,#T_85f7c_row3_col0,#T_85f7c_row3_col1,#T_85f7c_row3_col5,#T_85f7c_row4_col0,#T_85f7c_row4_col1,#T_85f7c_row4_col5,#T_85f7c_row5_col0,#T_85f7c_row5_col1,#T_85f7c_row5_col5,#T_85f7c_row6_col0,#T_85f7c_row6_col1,#T_85f7c_row6_col5,#T_85f7c_row7_col0,#T_85f7c_row7_col1,#T_85f7c_row7_col5,#T_85f7c_row8_col0,#T_85f7c_row8_col1,#T_85f7c_row8_col5,#T_85f7c_row9_col0,#T_85f7c_row9_col1,#T_85f7c_row9_col5,#T_85f7c_row10_col0,#T_85f7c_row10_col1,#T_85f7c_row10_col5,#T_85f7c_row11_col0,#T_85f7c_row11_col1,#T_85f7c_row11_col5,#T_85f7c_row12_col0,#T_85f7c_row12_col1,#T_85f7c_row12_col5,#T_85f7c_row13_col0,#T_85f7c_row13_col1,#T_85f7c_row13_col5,#T_85f7c_row14_col0,#T_85f7c_row14_col1,#T_85f7c_row14_col5,#T_85f7c_row15_col0,#T_85f7c_row15_col1,#T_85f7c_row15_col5,#T_85f7c_row16_col0,#T_85f7c_row16_col1,#T_85f7c_row16_col5,#T_85f7c_row17_col0,#T_85f7c_row17_col1,#T_85f7c_row17_col5,#T_85f7c_row18_col0,#T_85f7c_row18_col1,#T_85f7c_row18_col5,#T_85f7c_row19_col1,#T_85f7c_row19_col5{
            font-weight:  bold;
            color:  black;
        }#T_85f7c_row0_col2,#T_85f7c_row0_col3,#T_85f7c_row0_col4,#T_85f7c_row0_col6,#T_85f7c_row1_col2,#T_85f7c_row1_col3,#T_85f7c_row1_col4,#T_85f7c_row1_col6,#T_85f7c_row2_col2,#T_85f7c_row2_col3,#T_85f7c_row2_col4,#T_85f7c_row2_col6,#T_85f7c_row3_col2,#T_85f7c_row3_col3,#T_85f7c_row3_col4,#T_85f7c_row3_col6,#T_85f7c_row4_col2,#T_85f7c_row4_col3,#T_85f7c_row4_col4,#T_85f7c_row4_col6,#T_85f7c_row5_col2,#T_85f7c_row5_col3,#T_85f7c_row5_col4,#T_85f7c_row5_col6,#T_85f7c_row6_col2,#T_85f7c_row6_col3,#T_85f7c_row6_col4,#T_85f7c_row6_col6,#T_85f7c_row7_col2,#T_85f7c_row7_col3,#T_85f7c_row7_col4,#T_85f7c_row7_col6,#T_85f7c_row8_col2,#T_85f7c_row8_col3,#T_85f7c_row8_col4,#T_85f7c_row8_col6,#T_85f7c_row9_col2,#T_85f7c_row9_col3,#T_85f7c_row9_col4,#T_85f7c_row9_col6,#T_85f7c_row10_col2,#T_85f7c_row10_col3,#T_85f7c_row10_col4,#T_85f7c_row10_col6,#T_85f7c_row11_col2,#T_85f7c_row11_col3,#T_85f7c_row11_col4,#T_85f7c_row11_col6,#T_85f7c_row12_col2,#T_85f7c_row12_col3,#T_85f7c_row12_col4,#T_85f7c_row12_col6,#T_85f7c_row13_col2,#T_85f7c_row13_col3,#T_85f7c_row13_col4,#T_85f7c_row13_col6,#T_85f7c_row14_col2,#T_85f7c_row14_col3,#T_85f7c_row14_col4,#T_85f7c_row14_col6,#T_85f7c_row15_col2,#T_85f7c_row15_col3,#T_85f7c_row15_col4,#T_85f7c_row15_col6,#T_85f7c_row16_col2,#T_85f7c_row16_col3,#T_85f7c_row16_col4,#T_85f7c_row16_col6,#T_85f7c_row17_col2,#T_85f7c_row17_col3,#T_85f7c_row17_col4,#T_85f7c_row17_col6,#T_85f7c_row18_col2,#T_85f7c_row18_col3,#T_85f7c_row18_col4,#T_85f7c_row18_col6,#T_85f7c_row19_col0,#T_85f7c_row19_col2,#T_85f7c_row19_col3,#T_85f7c_row19_col4,#T_85f7c_row19_col6{
            font-weight:  normal;
            color:  black;
        }</style><table id="T_85f7c_" ><thead>    <tr>        <th class="blank level0" ></th>        <th class="col_heading level0 col0" >Recent</th>        <th class="col_heading level0 col1" >Frequent</th>        <th class="col_heading level0 col2" >Popularity</th>        <th class="col_heading level0 col3" >Implicit</th>        <th class="col_heading level0 col4" >Implicit_filtered</th>        <th class="col_heading level0 col5" >bm25</th>        <th class="col_heading level0 col6" >bm25_filtered</th>    </tr></thead><tbody>
                <tr>
                        <th id="T_85f7c_level0_row0" class="row_heading level0 row0" >0</th>
                        <td id="T_85f7c_row0_col0" class="data row0 col0" >Michał Karbownik</td>
                        <td id="T_85f7c_row0_col1" class="data row0 col1" >England national under-21 football team</td>
                        <td id="T_85f7c_row0_col2" class="data row0 col2" >Prince Philip, Duke of Edinburgh</td>
                        <td id="T_85f7c_row0_col3" class="data row0 col3" >Jamal Lowe</td>
                        <td id="T_85f7c_row0_col4" class="data row0 col4" >Jamal Lowe</td>
                        <td id="T_85f7c_row0_col5" class="data row0 col5" >England national under-21 football team</td>
                        <td id="T_85f7c_row0_col6" class="data row0 col6" >England national under-17 football team</td>
            </tr>
            <tr>
                        <th id="T_85f7c_level0_row1" class="row_heading level0 row1" >1</th>
                        <td id="T_85f7c_row1_col0" class="data row1 col0" >Troy Deeney</td>
                        <td id="T_85f7c_row1_col1" class="data row1 col1" >England national under-20 football team</td>
                        <td id="T_85f7c_row1_col2" class="data row1 col2" >2020–2021 Belarusian protests</td>
                        <td id="T_85f7c_row1_col3" class="data row1 col3" >2020–21 Brighton & Hove Albion F.C. season</td>
                        <td id="T_85f7c_row1_col4" class="data row1 col4" >2020–21 Brighton & Hove Albion F.C. season</td>
                        <td id="T_85f7c_row1_col5" class="data row1 col5" >England national under-20 football team</td>
                        <td id="T_85f7c_row1_col6" class="data row1 col6" >List of Plymouth Argyle F.C. records and statistics</td>
            </tr>
            <tr>
                        <th id="T_85f7c_level0_row2" class="row_heading level0 row2" >2</th>
                        <td id="T_85f7c_row2_col0" class="data row2 col0" >Hulme</td>
                        <td id="T_85f7c_row2_col1" class="data row2 col1" >Watford F.C.</td>
                        <td id="T_85f7c_row2_col2" class="data row2 col2" >Chadwick Boseman</td>
                        <td id="T_85f7c_row2_col3" class="data row2 col3" >2020–21 Blackburn Rovers F.C. season</td>
                        <td id="T_85f7c_row2_col4" class="data row2 col4" >2020–21 Blackburn Rovers F.C. season</td>
                        <td id="T_85f7c_row2_col5" class="data row2 col5" >England national under-19 football team</td>
                        <td id="T_85f7c_row2_col6" class="data row2 col6" >Chris Old</td>
            </tr>
            <tr>
                        <th id="T_85f7c_level0_row3" class="row_heading level0 row3" >3</th>
                        <td id="T_85f7c_row3_col0" class="data row3 col0" >2021 Manchester City Council election</td>
                        <td id="T_85f7c_row3_col1" class="data row3 col1" >England national under-19 football team</td>
                        <td id="T_85f7c_row3_col2" class="data row3 col2" >2024 United States presidential election</td>
                        <td id="T_85f7c_row3_col3" class="data row3 col3" >2020–21 Aston Villa F.C. season</td>
                        <td id="T_85f7c_row3_col4" class="data row3 col4" >2020–21 Aston Villa F.C. season</td>
                        <td id="T_85f7c_row3_col5" class="data row3 col5" >England national under-18 football team</td>
                        <td id="T_85f7c_row3_col6" class="data row3 col6" >Mikael Ndjoli</td>
            </tr>
            <tr>
                        <th id="T_85f7c_level0_row4" class="row_heading level0 row4" >4</th>
                        <td id="T_85f7c_row4_col0" class="data row4 col0" >Guardian Football Weekly</td>
                        <td id="T_85f7c_row4_col1" class="data row4 col1" >FA Youth Cup Finals</td>
                        <td id="T_85f7c_row4_col2" class="data row4 col2" >COVID-19 pandemic in the United States</td>
                        <td id="T_85f7c_row4_col3" class="data row4 col3" >Marc Guéhi</td>
                        <td id="T_85f7c_row4_col4" class="data row4 col4" >Marc Guéhi</td>
                        <td id="T_85f7c_row4_col5" class="data row4 col5" >England under-19 cricket team</td>
                        <td id="T_85f7c_row4_col6" class="data row4 col6" >2019–20 Manchester City F.C. season</td>
            </tr>
            <tr>
                        <th id="T_85f7c_level0_row5" class="row_heading level0 row5" >5</th>
                        <td id="T_85f7c_row5_col0" class="data row5 col0" >List of English association football families</td>
                        <td id="T_85f7c_row5_col1" class="data row5 col1" >Troy Deeney</td>
                        <td id="T_85f7c_row5_col2" class="data row5 col2" >Black Lives Matter</td>
                        <td id="T_85f7c_row5_col3" class="data row5 col3" >Jay Fulton</td>
                        <td id="T_85f7c_row5_col4" class="data row5 col4" >Jay Fulton</td>
                        <td id="T_85f7c_row5_col5" class="data row5 col5" >Thomas Agyepong</td>
                        <td id="T_85f7c_row5_col6" class="data row5 col6" >Cole Palmer</td>
            </tr>
            <tr>
                        <th id="T_85f7c_level0_row6" class="row_heading level0 row6" >6</th>
                        <td id="T_85f7c_row6_col0" class="data row6 col0" >Watford F.C.</td>
                        <td id="T_85f7c_row6_col1" class="data row6 col1" >England national under-18 football team</td>
                        <td id="T_85f7c_row6_col2" class="data row6 col2" >George Floyd</td>
                        <td id="T_85f7c_row6_col3" class="data row6 col3" >2020–21 Sheffield United F.C. season</td>
                        <td id="T_85f7c_row6_col4" class="data row6 col4" >2020–21 Sheffield United F.C. season</td>
                        <td id="T_85f7c_row6_col5" class="data row6 col5" >FA Youth Cup Finals</td>
                        <td id="T_85f7c_row6_col6" class="data row6 col6" >List of West Bromwich Albion F.C. seasons</td>
            </tr>
            <tr>
                        <th id="T_85f7c_level0_row7" class="row_heading level0 row7" >7</th>
                        <td id="T_85f7c_row7_col0" class="data row7 col0" >2012 Under-19 Cricket World Cup squads</td>
                        <td id="T_85f7c_row7_col1" class="data row7 col1" >England under-19 cricket team</td>
                        <td id="T_85f7c_row7_col2" class="data row7 col2" >Derek Chauvin</td>
                        <td id="T_85f7c_row7_col3" class="data row7 col3" >Freddie Woodman</td>
                        <td id="T_85f7c_row7_col4" class="data row7 col4" >Freddie Woodman</td>
                        <td id="T_85f7c_row7_col5" class="data row7 col5" >Allan Smart</td>
                        <td id="T_85f7c_row7_col6" class="data row7 col6" >Manchester City F.C.</td>
            </tr>
            <tr>
                        <th id="T_85f7c_level0_row8" class="row_heading level0 row8" >8</th>
                        <td id="T_85f7c_row8_col0" class="data row8 col0" >South Africa national cricket team</td>
                        <td id="T_85f7c_row8_col1" class="data row8 col1" >2021 Manchester City Council election</td>
                        <td id="T_85f7c_row8_col2" class="data row8 col2" >2021 Israel–Palestine crisis</td>
                        <td id="T_85f7c_row8_col3" class="data row8 col3" >2020–21 Milton Keynes Dons F.C. season</td>
                        <td id="T_85f7c_row8_col4" class="data row8 col4" >2020–21 Milton Keynes Dons F.C. season</td>
                        <td id="T_85f7c_row8_col5" class="data row8 col5" >Joao Pedro (Brazilian footballer)</td>
                        <td id="T_85f7c_row8_col6" class="data row8 col6" >Aidy Boothroyd</td>
            </tr>
            <tr>
                        <th id="T_85f7c_level0_row9" class="row_heading level0 row9" >9</th>
                        <td id="T_85f7c_row9_col0" class="data row9 col0" >The Guardian</td>
                        <td id="T_85f7c_row9_col1" class="data row9 col1" >South Africa national cricket team</td>
                        <td id="T_85f7c_row9_col2" class="data row9 col2" >Zack Snyder's Justice League</td>
                        <td id="T_85f7c_row9_col3" class="data row9 col3" >Sheffield United F.C.</td>
                        <td id="T_85f7c_row9_col4" class="data row9 col4" >Sheffield United F.C.</td>
                        <td id="T_85f7c_row9_col5" class="data row9 col5" >McPherson report</td>
                        <td id="T_85f7c_row9_col6" class="data row9 col6" >2017–18 Manchester City F.C. season</td>
            </tr>
            <tr>
                        <th id="T_85f7c_level0_row10" class="row_heading level0 row10" >10</th>
                        <td id="T_85f7c_row10_col0" class="data row10 col0" >Dominic Ball</td>
                        <td id="T_85f7c_row10_col1" class="data row10 col1" >Watford F.C. Under-23s and Academy</td>
                        <td id="T_85f7c_row10_col2" class="data row10 col2" >2020</td>
                        <td id="T_85f7c_row10_col3" class="data row10 col3" >Indiana Vassilev</td>
                        <td id="T_85f7c_row10_col4" class="data row10 col4" >Indiana Vassilev</td>
                        <td id="T_85f7c_row10_col5" class="data row10 col5" >Matt Bevans</td>
                        <td id="T_85f7c_row10_col6" class="data row10 col6" >James Norris (footballer)</td>
            </tr>
            <tr>
                        <th id="T_85f7c_level0_row11" class="row_heading level0 row11" >11</th>
                        <td id="T_85f7c_row11_col0" class="data row11 col0" >Chris Iwelumo</td>
                        <td id="T_85f7c_row11_col1" class="data row11 col1" >2019–20 Watford F.C. season</td>
                        <td id="T_85f7c_row11_col2" class="data row11 col2" >Inauguration of Joe Biden</td>
                        <td id="T_85f7c_row11_col3" class="data row11 col3" >Ben White (footballer)</td>
                        <td id="T_85f7c_row11_col4" class="data row11 col4" >Ben White (footballer)</td>
                        <td id="T_85f7c_row11_col5" class="data row11 col5" >2020-21 University Challenge</td>
                        <td id="T_85f7c_row11_col6" class="data row11 col6" >England national under-21 football team results (2000–2019)</td>
            </tr>
            <tr>
                        <th id="T_85f7c_level0_row12" class="row_heading level0 row12" >12</th>
                        <td id="T_85f7c_row12_col0" class="data row12 col0" >England national under-21 football team</td>
                        <td id="T_85f7c_row12_col1" class="data row12 col1" >Michael Folivi</td>
                        <td id="T_85f7c_row12_col2" class="data row12 col2" >WandaVision</td>
                        <td id="T_85f7c_row12_col3" class="data row12 col3" >Glenn Murray</td>
                        <td id="T_85f7c_row12_col4" class="data row12 col4" >Glenn Murray</td>
                        <td id="T_85f7c_row12_col5" class="data row12 col5" >Yeboah Amankwah</td>
                        <td id="T_85f7c_row12_col6" class="data row12 col6" >Josh Griffiths (footballer)</td>
            </tr>
            <tr>
                        <th id="T_85f7c_level0_row13" class="row_heading level0 row13" >13</th>
                        <td id="T_85f7c_row13_col0" class="data row13 col0" >England under-19 cricket team</td>
                        <td id="T_85f7c_row13_col1" class="data row13 col1" >João Pedro (footballer, born 2001)</td>
                        <td id="T_85f7c_row13_col2" class="data row13 col2" >COVID-19 misinformation</td>
                        <td id="T_85f7c_row13_col3" class="data row13 col3" >Matt Grimes</td>
                        <td id="T_85f7c_row13_col4" class="data row13 col4" >Matt Grimes</td>
                        <td id="T_85f7c_row13_col5" class="data row13 col5" >Bunbury Festival</td>
                        <td id="T_85f7c_row13_col6" class="data row13 col6" >Noni Madueke</td>
            </tr>
            <tr>
                        <th id="T_85f7c_level0_row14" class="row_heading level0 row14" >14</th>
                        <td id="T_85f7c_row14_col0" class="data row14 col0" >England national under-19 football team</td>
                        <td id="T_85f7c_row14_col1" class="data row14 col1" >Bunbury Festival</td>
                        <td id="T_85f7c_row14_col2" class="data row14 col2" >2021 Suez Canal obstruction</td>
                        <td id="T_85f7c_row14_col3" class="data row14 col3" >Ben Cabango</td>
                        <td id="T_85f7c_row14_col4" class="data row14 col4" >Ben Cabango</td>
                        <td id="T_85f7c_row14_col5" class="data row14 col5" >Plymouth Asylum</td>
                        <td id="T_85f7c_row14_col6" class="data row14 col6" >Lukas Hinterseer</td>
            </tr>
            <tr>
                        <th id="T_85f7c_level0_row15" class="row_heading level0 row15" >15</th>
                        <td id="T_85f7c_row15_col0" class="data row15 col0" >The Witches (2020 film)</td>
                        <td id="T_85f7c_row15_col1" class="data row15 col1" >List of English association football families</td>
                        <td id="T_85f7c_row15_col2" class="data row15 col2" >2020 Atlantic hurricane season</td>
                        <td id="T_85f7c_row15_col3" class="data row15 col3" >Grimsby Town F.C.</td>
                        <td id="T_85f7c_row15_col4" class="data row15 col4" >Grimsby Town F.C.</td>
                        <td id="T_85f7c_row15_col5" class="data row15 col5" >2020 Strictly Come Dancing</td>
                        <td id="T_85f7c_row15_col6" class="data row15 col6" >Joel Pohjanpalo</td>
            </tr>
            <tr>
                        <th id="T_85f7c_level0_row16" class="row_heading level0 row16" >16</th>
                        <td id="T_85f7c_row16_col0" class="data row16 col0" >Richard Shaw (footballer)</td>
                        <td id="T_85f7c_row16_col1" class="data row16 col1" >The Witches (2020 film)</td>
                        <td id="T_85f7c_row16_col2" class="data row16 col2" >Wonder Woman 1984</td>
                        <td id="T_85f7c_row16_col3" class="data row16 col3" >Anthony Knockaert</td>
                        <td id="T_85f7c_row16_col4" class="data row16 col4" >Anthony Knockaert</td>
                        <td id="T_85f7c_row16_col5" class="data row16 col5" >Bunbury Festival (cricket)</td>
                        <td id="T_85f7c_row16_col6" class="data row16 col6" >List of Manchester City F.C. managers</td>
            </tr>
            <tr>
                        <th id="T_85f7c_level0_row17" class="row_heading level0 row17" >17</th>
                        <td id="T_85f7c_row17_col0" class="data row17 col0" >Joseph Hungbo</td>
                        <td id="T_85f7c_row17_col1" class="data row17 col1" >Mohammed Aminu</td>
                        <td id="T_85f7c_row17_col2" class="data row17 col2" >Diego Maradona</td>
                        <td id="T_85f7c_row17_col3" class="data row17 col3" >Conor Hourihane</td>
                        <td id="T_85f7c_row17_col4" class="data row17 col4" >Conor Hourihane</td>
                        <td id="T_85f7c_row17_col5" class="data row17 col5" >Euro 2020 squads</td>
                        <td id="T_85f7c_row17_col6" class="data row17 col6" >List of Manchester City F.C. records and statistics</td>
            </tr>
            <tr>
                        <th id="T_85f7c_level0_row18" class="row_heading level0 row18" >18</th>
                        <td id="T_85f7c_row18_col0" class="data row18 col0" >FA Youth Cup Finals of the 2010s</td>
                        <td id="T_85f7c_row18_col1" class="data row18 col1" >Ruth George</td>
                        <td id="T_85f7c_row18_col2" class="data row18 col2" >Among Us</td>
                        <td id="T_85f7c_row18_col3" class="data row18 col3" >Alexis Mac Allister</td>
                        <td id="T_85f7c_row18_col4" class="data row18 col4" >Alexis Mac Allister</td>
                        <td id="T_85f7c_row18_col5" class="data row18 col5" >Strictly Come Dancing 2020</td>
                        <td id="T_85f7c_row18_col6" class="data row18 col6" >Jonathan Calleri</td>
            </tr>
            <tr>
                        <th id="T_85f7c_level0_row19" class="row_heading level0 row19" >19</th>
                        <td id="T_85f7c_row19_col0" class="data row19 col0" >Prince Philip, Duke of Edinburgh</td>
                        <td id="T_85f7c_row19_col1" class="data row19 col1" >Henry Ochieng</td>
                        <td id="T_85f7c_row19_col2" class="data row19 col2" >Attempts to overturn the 2020 United States presidential election</td>
                        <td id="T_85f7c_row19_col3" class="data row19 col3" >Danny Welbeck</td>
                        <td id="T_85f7c_row19_col4" class="data row19 col4" >Danny Welbeck</td>
                        <td id="T_85f7c_row19_col5" class="data row19 col5" >Guardian Football Weekly</td>
                        <td id="T_85f7c_row19_col6" class="data row19 col6" >List of Manchester City F.C. players</td>
            </tr>
    </tbody></table></div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Johannes Maximilian
Next edit: Manifold injection
</pre></div>
</div>
<div class="output text_html"><style  type="text/css" >
#T_c5786_row0_col0,#T_c5786_row0_col1,#T_c5786_row0_col5,#T_c5786_row1_col0,#T_c5786_row1_col1,#T_c5786_row1_col5,#T_c5786_row2_col0,#T_c5786_row2_col1,#T_c5786_row2_col5,#T_c5786_row3_col0,#T_c5786_row3_col1,#T_c5786_row3_col5,#T_c5786_row4_col0,#T_c5786_row4_col1,#T_c5786_row4_col5,#T_c5786_row5_col0,#T_c5786_row5_col1,#T_c5786_row5_col5,#T_c5786_row6_col0,#T_c5786_row6_col1,#T_c5786_row6_col5,#T_c5786_row7_col0,#T_c5786_row7_col1,#T_c5786_row7_col3,#T_c5786_row7_col5,#T_c5786_row8_col0,#T_c5786_row8_col1,#T_c5786_row8_col5,#T_c5786_row9_col0,#T_c5786_row9_col1,#T_c5786_row9_col5,#T_c5786_row10_col0,#T_c5786_row10_col1,#T_c5786_row10_col5,#T_c5786_row11_col0,#T_c5786_row11_col1,#T_c5786_row11_col5,#T_c5786_row12_col0,#T_c5786_row12_col1,#T_c5786_row13_col0,#T_c5786_row13_col1,#T_c5786_row13_col5,#T_c5786_row14_col0,#T_c5786_row14_col1,#T_c5786_row14_col5,#T_c5786_row15_col0,#T_c5786_row15_col1,#T_c5786_row15_col5,#T_c5786_row16_col0,#T_c5786_row16_col1,#T_c5786_row16_col5,#T_c5786_row17_col0,#T_c5786_row17_col1,#T_c5786_row17_col5,#T_c5786_row18_col0,#T_c5786_row18_col1,#T_c5786_row18_col5,#T_c5786_row19_col1,#T_c5786_row19_col5{
            font-weight:  bold;
            color:  black;
        }#T_c5786_row0_col2,#T_c5786_row0_col3,#T_c5786_row0_col4,#T_c5786_row0_col6,#T_c5786_row1_col2,#T_c5786_row1_col3,#T_c5786_row1_col4,#T_c5786_row1_col6,#T_c5786_row2_col2,#T_c5786_row2_col3,#T_c5786_row2_col4,#T_c5786_row2_col6,#T_c5786_row3_col2,#T_c5786_row3_col3,#T_c5786_row3_col4,#T_c5786_row3_col6,#T_c5786_row4_col2,#T_c5786_row4_col3,#T_c5786_row4_col4,#T_c5786_row4_col6,#T_c5786_row5_col2,#T_c5786_row5_col3,#T_c5786_row5_col4,#T_c5786_row5_col6,#T_c5786_row6_col2,#T_c5786_row6_col3,#T_c5786_row6_col4,#T_c5786_row6_col6,#T_c5786_row7_col2,#T_c5786_row7_col4,#T_c5786_row7_col6,#T_c5786_row8_col2,#T_c5786_row8_col3,#T_c5786_row8_col4,#T_c5786_row8_col6,#T_c5786_row9_col2,#T_c5786_row9_col3,#T_c5786_row9_col4,#T_c5786_row9_col6,#T_c5786_row10_col2,#T_c5786_row10_col3,#T_c5786_row10_col4,#T_c5786_row10_col6,#T_c5786_row11_col2,#T_c5786_row11_col3,#T_c5786_row11_col4,#T_c5786_row11_col6,#T_c5786_row12_col2,#T_c5786_row12_col3,#T_c5786_row12_col4,#T_c5786_row12_col6,#T_c5786_row13_col2,#T_c5786_row13_col3,#T_c5786_row13_col4,#T_c5786_row13_col6,#T_c5786_row14_col2,#T_c5786_row14_col3,#T_c5786_row14_col4,#T_c5786_row14_col6,#T_c5786_row15_col2,#T_c5786_row15_col3,#T_c5786_row15_col4,#T_c5786_row15_col6,#T_c5786_row16_col2,#T_c5786_row16_col3,#T_c5786_row16_col4,#T_c5786_row16_col6,#T_c5786_row17_col2,#T_c5786_row17_col3,#T_c5786_row17_col4,#T_c5786_row17_col6,#T_c5786_row18_col2,#T_c5786_row18_col3,#T_c5786_row18_col4,#T_c5786_row18_col6,#T_c5786_row19_col0,#T_c5786_row19_col2,#T_c5786_row19_col3,#T_c5786_row19_col4,#T_c5786_row19_col6{
            font-weight:  normal;
            color:  black;
        }#T_c5786_row12_col5{
            font-weight:  bold;
            color:  red;
        }</style><table id="T_c5786_" ><thead>    <tr>        <th class="blank level0" ></th>        <th class="col_heading level0 col0" >Recent</th>        <th class="col_heading level0 col1" >Frequent</th>        <th class="col_heading level0 col2" >Popularity</th>        <th class="col_heading level0 col3" >Implicit</th>        <th class="col_heading level0 col4" >Implicit_filtered</th>        <th class="col_heading level0 col5" >bm25</th>        <th class="col_heading level0 col6" >bm25_filtered</th>    </tr></thead><tbody>
                <tr>
                        <th id="T_c5786_level0_row0" class="row_heading level0 row0" >0</th>
                        <td id="T_c5786_row0_col0" class="data row0 col0" >Gnome Delta</td>
                        <td id="T_c5786_row0_col1" class="data row0 col1" >Diesel engine</td>
                        <td id="T_c5786_row0_col2" class="data row0 col2" >Prince Philip, Duke of Edinburgh</td>
                        <td id="T_c5786_row0_col3" class="data row0 col3" >Hyundai Lambda engine</td>
                        <td id="T_c5786_row0_col4" class="data row0 col4" >Hyundai Lambda engine</td>
                        <td id="T_c5786_row0_col5" class="data row0 col5" >Mercedes-Benz OM636 engine</td>
                        <td id="T_c5786_row0_col6" class="data row0 col6" >BMW M4</td>
            </tr>
            <tr>
                        <th id="T_c5786_level0_row1" class="row_heading level0 row1" >1</th>
                        <td id="T_c5786_row1_col0" class="data row1 col0" >Armstrong Siddeley Python</td>
                        <td id="T_c5786_row1_col1" class="data row1 col1" >BMW</td>
                        <td id="T_c5786_row1_col2" class="data row1 col2" >2020–2021 Belarusian protests</td>
                        <td id="T_c5786_row1_col3" class="data row1 col3" >Dodge Durango</td>
                        <td id="T_c5786_row1_col4" class="data row1 col4" >Dodge Durango</td>
                        <td id="T_c5786_row1_col5" class="data row1 col5" >Mercedes-Benz L 337</td>
                        <td id="T_c5786_row1_col6" class="data row1 col6" >BMW 5 Series (G30)</td>
            </tr>
            <tr>
                        <th id="T_c5786_level0_row2" class="row_heading level0 row2" >2</th>
                        <td id="T_c5786_row2_col0" class="data row2 col0" >Duramax I6 engine</td>
                        <td id="T_c5786_row2_col1" class="data row2 col1" >Rudolf Diesel</td>
                        <td id="T_c5786_row2_col2" class="data row2 col2" >Chadwick Boseman</td>
                        <td id="T_c5786_row2_col3" class="data row2 col3" >Lexus LS</td>
                        <td id="T_c5786_row2_col4" class="data row2 col4" >Lexus LS</td>
                        <td id="T_c5786_row2_col5" class="data row2 col5" >Unimog 406</td>
                        <td id="T_c5786_row2_col6" class="data row2 col6" >BMW 8 Series (G15)</td>
            </tr>
            <tr>
                        <th id="T_c5786_level0_row3" class="row_heading level0 row3" >3</th>
                        <td id="T_c5786_row3_col0" class="data row3 col0" >MWM AKD 112 Z</td>
                        <td id="T_c5786_row3_col1" class="data row3 col1" >Fuel injection</td>
                        <td id="T_c5786_row3_col2" class="data row3 col2" >2024 United States presidential election</td>
                        <td id="T_c5786_row3_col3" class="data row3 col3" >Ford Explorer</td>
                        <td id="T_c5786_row3_col4" class="data row3 col4" >Ford Explorer</td>
                        <td id="T_c5786_row3_col5" class="data row3 col5" >Diesel engine</td>
                        <td id="T_c5786_row3_col6" class="data row3 col6" >BMW 6 Series</td>
            </tr>
            <tr>
                        <th id="T_c5786_level0_row4" class="row_heading level0 row4" >4</th>
                        <td id="T_c5786_row4_col0" class="data row4 col0" >Unimog 401</td>
                        <td id="T_c5786_row4_col1" class="data row4 col1" >Volkswagen Kommandeurswagen</td>
                        <td id="T_c5786_row4_col2" class="data row4 col2" >COVID-19 pandemic in the United States</td>
                        <td id="T_c5786_row4_col3" class="data row4 col3" >List of Hyundai transmissions</td>
                        <td id="T_c5786_row4_col4" class="data row4 col4" >List of Hyundai transmissions</td>
                        <td id="T_c5786_row4_col5" class="data row4 col5" >Trabant 601</td>
                        <td id="T_c5786_row4_col6" class="data row4 col6" >BMW 3 Series (E36)</td>
            </tr>
            <tr>
                        <th id="T_c5786_level0_row5" class="row_heading level0 row5" >5</th>
                        <td id="T_c5786_row5_col0" class="data row5 col0" >Hongqi S9</td>
                        <td id="T_c5786_row5_col1" class="data row5 col1" >Diesel fuel</td>
                        <td id="T_c5786_row5_col2" class="data row5 col2" >Black Lives Matter</td>
                        <td id="T_c5786_row5_col3" class="data row5 col3" >Chevrolet Impala</td>
                        <td id="T_c5786_row5_col4" class="data row5 col4" >Chevrolet Impala</td>
                        <td id="T_c5786_row5_col5" class="data row5 col5" >Fuel injection</td>
                        <td id="T_c5786_row5_col6" class="data row5 col6" >BMW 7 Series</td>
            </tr>
            <tr>
                        <th id="T_c5786_level0_row6" class="row_heading level0 row6" >6</th>
                        <td id="T_c5786_row6_col0" class="data row6 col0" >Rudolf Diesel</td>
                        <td id="T_c5786_row6_col1" class="data row6 col1" >Unimog</td>
                        <td id="T_c5786_row6_col2" class="data row6 col2" >George Floyd</td>
                        <td id="T_c5786_row6_col3" class="data row6 col3" >List of fastest production cars by acceleration</td>
                        <td id="T_c5786_row6_col4" class="data row6 col4" >List of fastest production cars by acceleration</td>
                        <td id="T_c5786_row6_col5" class="data row6 col5" >Mercedes-Benz short-bonnet trucks</td>
                        <td id="T_c5786_row6_col6" class="data row6 col6" >BMW 6 Series (F12)</td>
            </tr>
            <tr>
                        <th id="T_c5786_level0_row7" class="row_heading level0 row7" >7</th>
                        <td id="T_c5786_row7_col0" class="data row7 col0" >Oscar Lintz</td>
                        <td id="T_c5786_row7_col1" class="data row7 col1" >Mercedes-Benz W124</td>
                        <td id="T_c5786_row7_col2" class="data row7 col2" >Derek Chauvin</td>
                        <td id="T_c5786_row7_col3" class="data row7 col3" >BMW</td>
                        <td id="T_c5786_row7_col4" class="data row7 col4" >Production car speed record</td>
                        <td id="T_c5786_row7_col5" class="data row7 col5" >Theory and Construction of a Rational Heat Motor</td>
                        <td id="T_c5786_row7_col6" class="data row7 col6" >BMW 4 Series (G22)</td>
            </tr>
            <tr>
                        <th id="T_c5786_level0_row8" class="row_heading level0 row8" >8</th>
                        <td id="T_c5786_row8_col0" class="data row8 col0" >BMW M8</td>
                        <td id="T_c5786_row8_col1" class="data row8 col1" >Ikarus 280</td>
                        <td id="T_c5786_row8_col2" class="data row8 col2" >2021 Israel–Palestine crisis</td>
                        <td id="T_c5786_row8_col3" class="data row8 col3" >Production car speed record</td>
                        <td id="T_c5786_row8_col4" class="data row8 col4" >Kia Opirus</td>
                        <td id="T_c5786_row8_col5" class="data row8 col5" >Mercedes-Benz OM352 engine</td>
                        <td id="T_c5786_row8_col6" class="data row8 col6" >BMW M54</td>
            </tr>
            <tr>
                        <th id="T_c5786_level0_row9" class="row_heading level0 row9" >9</th>
                        <td id="T_c5786_row9_col0" class="data row9 col0" >Unimog 425</td>
                        <td id="T_c5786_row9_col1" class="data row9 col1" >Pandur II</td>
                        <td id="T_c5786_row9_col2" class="data row9 col2" >Zack Snyder's Justice League</td>
                        <td id="T_c5786_row9_col3" class="data row9 col3" >Kia Opirus</td>
                        <td id="T_c5786_row9_col4" class="data row9 col4" >Hyundai Theta engine</td>
                        <td id="T_c5786_row9_col5" class="data row9 col5" >Unimog 435</td>
                        <td id="T_c5786_row9_col6" class="data row9 col6" >BMW 7 Series (E38)</td>
            </tr>
            <tr>
                        <th id="T_c5786_level0_row10" class="row_heading level0 row10" >10</th>
                        <td id="T_c5786_row10_col0" class="data row10 col0" >Mercedes-Benz OM636 engine</td>
                        <td id="T_c5786_row10_col1" class="data row10 col1" >Mercedes-Benz OM636 engine</td>
                        <td id="T_c5786_row10_col2" class="data row10 col2" >2020</td>
                        <td id="T_c5786_row10_col3" class="data row10 col3" >Hyundai Theta engine</td>
                        <td id="T_c5786_row10_col4" class="data row10 col4" >Ford Expedition</td>
                        <td id="T_c5786_row10_col5" class="data row10 col5" >Porsche-Diesel 218</td>
                        <td id="T_c5786_row10_col6" class="data row10 col6" >Mercedes-Benz S-Class</td>
            </tr>
            <tr>
                        <th id="T_c5786_level0_row11" class="row_heading level0 row11" >11</th>
                        <td id="T_c5786_row11_col0" class="data row11 col0" >Unimog 70200</td>
                        <td id="T_c5786_row11_col1" class="data row11 col1" >Mercedes-Benz short-bonnet trucks</td>
                        <td id="T_c5786_row11_col2" class="data row11 col2" >Inauguration of Joe Biden</td>
                        <td id="T_c5786_row11_col3" class="data row11 col3" >Ford Expedition</td>
                        <td id="T_c5786_row11_col4" class="data row11 col4" >Ford F-Series</td>
                        <td id="T_c5786_row11_col5" class="data row11 col5" >Unimog 401</td>
                        <td id="T_c5786_row11_col6" class="data row11 col6" >Opel Zafira</td>
            </tr>
            <tr>
                        <th id="T_c5786_level0_row12" class="row_heading level0 row12" >12</th>
                        <td id="T_c5786_row12_col0" class="data row12 col0" >Unimog</td>
                        <td id="T_c5786_row12_col1" class="data row12 col1" >BMW M8</td>
                        <td id="T_c5786_row12_col2" class="data row12 col2" >WandaVision</td>
                        <td id="T_c5786_row12_col3" class="data row12 col3" >Ford F-Series</td>
                        <td id="T_c5786_row12_col4" class="data row12 col4" >Lexus ES</td>
                        <td id="T_c5786_row12_col5" class="data row12 col5" >Manifold injection</td>
                        <td id="T_c5786_row12_col6" class="data row12 col6" >List of BMW engines</td>
            </tr>
            <tr>
                        <th id="T_c5786_level0_row13" class="row_heading level0 row13" >13</th>
                        <td id="T_c5786_row13_col0" class="data row13 col0" >Mercedes-Benz OM 138</td>
                        <td id="T_c5786_row13_col1" class="data row13 col1" >Unimog 401</td>
                        <td id="T_c5786_row13_col2" class="data row13 col2" >COVID-19 misinformation</td>
                        <td id="T_c5786_row13_col3" class="data row13 col3" >Lexus ES</td>
                        <td id="T_c5786_row13_col4" class="data row13 col4" >Toyota Camry</td>
                        <td id="T_c5786_row13_col5" class="data row13 col5" >Herbert Akroyd Stuart</td>
                        <td id="T_c5786_row13_col6" class="data row13 col6" >BMW 3 Series</td>
            </tr>
            <tr>
                        <th id="T_c5786_level0_row14" class="row_heading level0 row14" >14</th>
                        <td id="T_c5786_row14_col0" class="data row14 col0" >Pandur II</td>
                        <td id="T_c5786_row14_col1" class="data row14 col1" >Trabant 601</td>
                        <td id="T_c5786_row14_col2" class="data row14 col2" >2021 Suez Canal obstruction</td>
                        <td id="T_c5786_row14_col3" class="data row14 col3" >Toyota Camry</td>
                        <td id="T_c5786_row14_col4" class="data row14 col4" >Hyundai Nu engine</td>
                        <td id="T_c5786_row14_col5" class="data row14 col5" >Csepel D-344</td>
                        <td id="T_c5786_row14_col6" class="data row14 col6" >Toyota N platform</td>
            </tr>
            <tr>
                        <th id="T_c5786_level0_row15" class="row_heading level0 row15" >15</th>
                        <td id="T_c5786_row15_col0" class="data row15 col0" >Patria case</td>
                        <td id="T_c5786_row15_col1" class="data row15 col1" >Theory and Construction of a Rational Heat Motor</td>
                        <td id="T_c5786_row15_col2" class="data row15 col2" >2020 Atlantic hurricane season</td>
                        <td id="T_c5786_row15_col3" class="data row15 col3" >Hyundai Nu engine</td>
                        <td id="T_c5786_row15_col4" class="data row15 col4" >Toyota Supra</td>
                        <td id="T_c5786_row15_col5" class="data row15 col5" >MWM AKD 112 Z</td>
                        <td id="T_c5786_row15_col6" class="data row15 col6" >BMW 4 Series</td>
            </tr>
            <tr>
                        <th id="T_c5786_level0_row16" class="row_heading level0 row16" >16</th>
                        <td id="T_c5786_row16_col0" class="data row16 col0" >Portuguese Pandur</td>
                        <td id="T_c5786_row16_col1" class="data row16 col1" >Unimog 70200</td>
                        <td id="T_c5786_row16_col2" class="data row16 col2" >Wonder Woman 1984</td>
                        <td id="T_c5786_row16_col3" class="data row16 col3" >Toyota Supra</td>
                        <td id="T_c5786_row16_col4" class="data row16 col4" >BMW M3</td>
                        <td id="T_c5786_row16_col5" class="data row16 col5" >Bendix Electrojector</td>
                        <td id="T_c5786_row16_col6" class="data row16 col6" >Audi A3</td>
            </tr>
            <tr>
                        <th id="T_c5786_level0_row17" class="row_heading level0 row17" >17</th>
                        <td id="T_c5786_row17_col0" class="data row17 col0" >Pandur I</td>
                        <td id="T_c5786_row17_col1" class="data row17 col1" >Portuguese Pandur</td>
                        <td id="T_c5786_row17_col2" class="data row17 col2" >Diego Maradona</td>
                        <td id="T_c5786_row17_col3" class="data row17 col3" >BMW M3</td>
                        <td id="T_c5786_row17_col4" class="data row17 col4" >Toyota Land Cruiser</td>
                        <td id="T_c5786_row17_col5" class="data row17 col5" >Barkas B 1000</td>
                        <td id="T_c5786_row17_col6" class="data row17 col6" >Ford Raptor</td>
            </tr>
            <tr>
                        <th id="T_c5786_level0_row18" class="row_heading level0 row18" >18</th>
                        <td id="T_c5786_row18_col0" class="data row18 col0" >Pegaso BMR</td>
                        <td id="T_c5786_row18_col1" class="data row18 col1" >Mercedes-Benz OM352 engine</td>
                        <td id="T_c5786_row18_col2" class="data row18 col2" >Among Us</td>
                        <td id="T_c5786_row18_col3" class="data row18 col3" >Toyota Land Cruiser</td>
                        <td id="T_c5786_row18_col4" class="data row18 col4" >Buick Regal</td>
                        <td id="T_c5786_row18_col5" class="data row18 col5" >Claas Mercator</td>
                        <td id="T_c5786_row18_col6" class="data row18 col6" >BMW 1 Series</td>
            </tr>
            <tr>
                        <th id="T_c5786_level0_row19" class="row_heading level0 row19" >19</th>
                        <td id="T_c5786_row19_col0" class="data row19 col0" >Prince Philip, Duke of Edinburgh</td>
                        <td id="T_c5786_row19_col1" class="data row19 col1" >BMW M5</td>
                        <td id="T_c5786_row19_col2" class="data row19 col2" >Attempts to overturn the 2020 United States presidential election</td>
                        <td id="T_c5786_row19_col3" class="data row19 col3" >Buick Regal</td>
                        <td id="T_c5786_row19_col4" class="data row19 col4" >Lincoln Continental</td>
                        <td id="T_c5786_row19_col5" class="data row19 col5" >Motor 250/400</td>
                        <td id="T_c5786_row19_col6" class="data row19 col6" >BMW 3 Series (E30)</td>
            </tr>
    </tbody></table></div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Ian.thomson
Next edit: Teal Swan
</pre></div>
</div>
<div class="output text_html"><style  type="text/css" >
#T_911c7_row0_col0,#T_911c7_row0_col1,#T_911c7_row0_col5,#T_911c7_row1_col0,#T_911c7_row1_col1,#T_911c7_row1_col5,#T_911c7_row2_col0,#T_911c7_row2_col1,#T_911c7_row2_col2,#T_911c7_row2_col5,#T_911c7_row3_col0,#T_911c7_row3_col1,#T_911c7_row3_col5,#T_911c7_row4_col0,#T_911c7_row4_col1,#T_911c7_row4_col5,#T_911c7_row5_col0,#T_911c7_row5_col1,#T_911c7_row5_col2,#T_911c7_row5_col5,#T_911c7_row6_col0,#T_911c7_row6_col1,#T_911c7_row6_col5,#T_911c7_row7_col0,#T_911c7_row7_col1,#T_911c7_row7_col5,#T_911c7_row8_col0,#T_911c7_row8_col1,#T_911c7_row8_col5,#T_911c7_row9_col0,#T_911c7_row9_col1,#T_911c7_row9_col5,#T_911c7_row10_col0,#T_911c7_row10_col1,#T_911c7_row10_col5,#T_911c7_row11_col0,#T_911c7_row11_col1,#T_911c7_row11_col5,#T_911c7_row12_col0,#T_911c7_row12_col1,#T_911c7_row12_col5,#T_911c7_row13_col0,#T_911c7_row13_col1,#T_911c7_row13_col5,#T_911c7_row14_col0,#T_911c7_row14_col1,#T_911c7_row14_col5,#T_911c7_row15_col0,#T_911c7_row15_col1,#T_911c7_row15_col5,#T_911c7_row16_col0,#T_911c7_row16_col1,#T_911c7_row16_col5,#T_911c7_row17_col0,#T_911c7_row17_col1,#T_911c7_row17_col3,#T_911c7_row17_col5,#T_911c7_row18_col0,#T_911c7_row18_col1,#T_911c7_row18_col5,#T_911c7_row19_col1,#T_911c7_row19_col5{
            font-weight:  bold;
            color:  black;
        }#T_911c7_row0_col2,#T_911c7_row0_col3,#T_911c7_row0_col4,#T_911c7_row0_col6,#T_911c7_row1_col2,#T_911c7_row1_col3,#T_911c7_row1_col4,#T_911c7_row1_col6,#T_911c7_row2_col3,#T_911c7_row2_col4,#T_911c7_row2_col6,#T_911c7_row3_col2,#T_911c7_row3_col3,#T_911c7_row3_col4,#T_911c7_row3_col6,#T_911c7_row4_col2,#T_911c7_row4_col3,#T_911c7_row4_col4,#T_911c7_row4_col6,#T_911c7_row5_col3,#T_911c7_row5_col4,#T_911c7_row5_col6,#T_911c7_row6_col2,#T_911c7_row6_col3,#T_911c7_row6_col4,#T_911c7_row6_col6,#T_911c7_row7_col2,#T_911c7_row7_col3,#T_911c7_row7_col4,#T_911c7_row7_col6,#T_911c7_row8_col2,#T_911c7_row8_col3,#T_911c7_row8_col4,#T_911c7_row8_col6,#T_911c7_row9_col2,#T_911c7_row9_col3,#T_911c7_row9_col4,#T_911c7_row9_col6,#T_911c7_row10_col2,#T_911c7_row10_col3,#T_911c7_row10_col4,#T_911c7_row10_col6,#T_911c7_row11_col2,#T_911c7_row11_col3,#T_911c7_row11_col4,#T_911c7_row11_col6,#T_911c7_row12_col2,#T_911c7_row12_col3,#T_911c7_row12_col4,#T_911c7_row12_col6,#T_911c7_row13_col2,#T_911c7_row13_col3,#T_911c7_row13_col4,#T_911c7_row13_col6,#T_911c7_row14_col2,#T_911c7_row14_col3,#T_911c7_row14_col4,#T_911c7_row14_col6,#T_911c7_row15_col2,#T_911c7_row15_col3,#T_911c7_row15_col4,#T_911c7_row15_col6,#T_911c7_row16_col2,#T_911c7_row16_col3,#T_911c7_row16_col4,#T_911c7_row16_col6,#T_911c7_row17_col2,#T_911c7_row17_col4,#T_911c7_row17_col6,#T_911c7_row18_col2,#T_911c7_row18_col3,#T_911c7_row18_col4,#T_911c7_row18_col6,#T_911c7_row19_col0,#T_911c7_row19_col2,#T_911c7_row19_col3,#T_911c7_row19_col4,#T_911c7_row19_col6{
            font-weight:  normal;
            color:  black;
        }</style><table id="T_911c7_" ><thead>    <tr>        <th class="blank level0" ></th>        <th class="col_heading level0 col0" >Recent</th>        <th class="col_heading level0 col1" >Frequent</th>        <th class="col_heading level0 col2" >Popularity</th>        <th class="col_heading level0 col3" >Implicit</th>        <th class="col_heading level0 col4" >Implicit_filtered</th>        <th class="col_heading level0 col5" >bm25</th>        <th class="col_heading level0 col6" >bm25_filtered</th>    </tr></thead><tbody>
                <tr>
                        <th id="T_911c7_level0_row0" class="row_heading level0 row0" >0</th>
                        <td id="T_911c7_row0_col0" class="data row0 col0" >Indian pariah dog</td>
                        <td id="T_911c7_row0_col1" class="data row0 col1" >Classification of demons</td>
                        <td id="T_911c7_row0_col2" class="data row0 col2" >Prince Philip, Duke of Edinburgh</td>
                        <td id="T_911c7_row0_col3" class="data row0 col3" >Abomination of desolation</td>
                        <td id="T_911c7_row0_col4" class="data row0 col4" >Abomination of desolation</td>
                        <td id="T_911c7_row0_col5" class="data row0 col5" >The infernal names</td>
                        <td id="T_911c7_row0_col6" class="data row0 col6" >Biblical literalism</td>
            </tr>
            <tr>
                        <th id="T_911c7_level0_row1" class="row_heading level0 row1" >1</th>
                        <td id="T_911c7_row1_col0" class="data row1 col0" >Solomon</td>
                        <td id="T_911c7_row1_col1" class="data row1 col1" >List of Sufi saints</td>
                        <td id="T_911c7_row1_col2" class="data row1 col2" >2020–2021 Belarusian protests</td>
                        <td id="T_911c7_row1_col3" class="data row1 col3" >Yahwism</td>
                        <td id="T_911c7_row1_col4" class="data row1 col4" >Yahwism</td>
                        <td id="T_911c7_row1_col5" class="data row1 col5" >George Winslow Plummer</td>
                        <td id="T_911c7_row1_col6" class="data row1 col6" >Devil in Christianity</td>
            </tr>
            <tr>
                        <th id="T_911c7_level0_row2" class="row_heading level0 row2" >2</th>
                        <td id="T_911c7_row2_col0" class="data row2 col0" >Mark Halperin</td>
                        <td id="T_911c7_row2_col1" class="data row2 col1" >List of theological demons</td>
                        <td id="T_911c7_row2_col2" class="data row2 col2" >Chadwick Boseman</td>
                        <td id="T_911c7_row2_col3" class="data row2 col3" >Empty tomb</td>
                        <td id="T_911c7_row2_col4" class="data row2 col4" >Empty tomb</td>
                        <td id="T_911c7_row2_col5" class="data row2 col5" >Miana, Turkmenistan</td>
                        <td id="T_911c7_row2_col6" class="data row2 col6" >Genealogy of Jesus</td>
            </tr>
            <tr>
                        <th id="T_911c7_level0_row3" class="row_heading level0 row3" >3</th>
                        <td id="T_911c7_row3_col0" class="data row3 col0" >The Lesser Key of Solomon</td>
                        <td id="T_911c7_row3_col1" class="data row3 col1" >Star Wars: The Rise of Skywalker</td>
                        <td id="T_911c7_row3_col2" class="data row3 col2" >2024 United States presidential election</td>
                        <td id="T_911c7_row3_col3" class="data row3 col3" >Gospel of James</td>
                        <td id="T_911c7_row3_col4" class="data row3 col4" >Gospel of James</td>
                        <td id="T_911c7_row3_col5" class="data row3 col5" >Asif ibn Barkhiya</td>
                        <td id="T_911c7_row3_col6" class="data row3 col6" >Devil</td>
            </tr>
            <tr>
                        <th id="T_911c7_level0_row4" class="row_heading level0 row4" >4</th>
                        <td id="T_911c7_row4_col0" class="data row4 col0" >Book of Revelation</td>
                        <td id="T_911c7_row4_col1" class="data row4 col1" >Adam Weishaupt</td>
                        <td id="T_911c7_row4_col2" class="data row4 col2" >COVID-19 pandemic in the United States</td>
                        <td id="T_911c7_row4_col3" class="data row4 col3" >Yahweh</td>
                        <td id="T_911c7_row4_col4" class="data row4 col4" >Yahweh</td>
                        <td id="T_911c7_row4_col5" class="data row4 col5" >List of phonograph manufacturers</td>
                        <td id="T_911c7_row4_col6" class="data row4 col6" >Paul the Apostle</td>
            </tr>
            <tr>
                        <th id="T_911c7_level0_row5" class="row_heading level0 row5" >5</th>
                        <td id="T_911c7_row5_col0" class="data row5 col0" >Indian astronomy</td>
                        <td id="T_911c7_row5_col1" class="data row5 col1" >Julius Evola</td>
                        <td id="T_911c7_row5_col2" class="data row5 col2" >Black Lives Matter</td>
                        <td id="T_911c7_row5_col3" class="data row5 col3" >The Exodus</td>
                        <td id="T_911c7_row5_col4" class="data row5 col4" >The Exodus</td>
                        <td id="T_911c7_row5_col5" class="data row5 col5" >The King Stays King</td>
                        <td id="T_911c7_row5_col6" class="data row5 col6" >Christian eschatology</td>
            </tr>
            <tr>
                        <th id="T_911c7_level0_row6" class="row_heading level0 row6" >6</th>
                        <td id="T_911c7_row6_col0" class="data row6 col0" >Trinity</td>
                        <td id="T_911c7_row6_col1" class="data row6 col1" >Valac</td>
                        <td id="T_911c7_row6_col2" class="data row6 col2" >George Floyd</td>
                        <td id="T_911c7_row6_col3" class="data row6 col3" >Book of Daniel</td>
                        <td id="T_911c7_row6_col4" class="data row6 col4" >Book of Daniel</td>
                        <td id="T_911c7_row6_col5" class="data row6 col5" >Women in Africa</td>
                        <td id="T_911c7_row6_col6" class="data row6 col6" >Hadith</td>
            </tr>
            <tr>
                        <th id="T_911c7_level0_row7" class="row_heading level0 row7" >7</th>
                        <td id="T_911c7_row7_col0" class="data row7 col0" >Zoroaster</td>
                        <td id="T_911c7_row7_col1" class="data row7 col1" >Paimon</td>
                        <td id="T_911c7_row7_col2" class="data row7 col2" >Derek Chauvin</td>
                        <td id="T_911c7_row7_col3" class="data row7 col3" >Census of Quirinius</td>
                        <td id="T_911c7_row7_col4" class="data row7 col4" >Census of Quirinius</td>
                        <td id="T_911c7_row7_col5" class="data row7 col5" >Urban riots</td>
                        <td id="T_911c7_row7_col6" class="data row7 col6" >Holy Spirit</td>
            </tr>
            <tr>
                        <th id="T_911c7_level0_row8" class="row_heading level0 row8" >8</th>
                        <td id="T_911c7_row8_col0" class="data row8 col0" >Grits</td>
                        <td id="T_911c7_row8_col1" class="data row8 col1" >Salem bin Laden</td>
                        <td id="T_911c7_row8_col2" class="data row8 col2" >2021 Israel–Palestine crisis</td>
                        <td id="T_911c7_row8_col3" class="data row8 col3" >Gospel of Matthew</td>
                        <td id="T_911c7_row8_col4" class="data row8 col4" >Gospel of Matthew</td>
                        <td id="T_911c7_row8_col5" class="data row8 col5" >Campaign (magazine)</td>
                        <td id="T_911c7_row8_col6" class="data row8 col6" >Satan</td>
            </tr>
            <tr>
                        <th id="T_911c7_level0_row9" class="row_heading level0 row9" >9</th>
                        <td id="T_911c7_row9_col0" class="data row9 col0" >The King Stays King</td>
                        <td id="T_911c7_row9_col1" class="data row9 col1" >Hermetica</td>
                        <td id="T_911c7_row9_col2" class="data row9 col2" >Zack Snyder's Justice League</td>
                        <td id="T_911c7_row9_col3" class="data row9 col3" >Gospel</td>
                        <td id="T_911c7_row9_col4" class="data row9 col4" >Gospel</td>
                        <td id="T_911c7_row9_col5" class="data row9 col5" >Daud Bandagi Kirmani</td>
                        <td id="T_911c7_row9_col6" class="data row9 col6" >Deuterocanonical books</td>
            </tr>
            <tr>
                        <th id="T_911c7_level0_row10" class="row_heading level0 row10" >10</th>
                        <td id="T_911c7_row10_col0" class="data row10 col0" >Lucifer</td>
                        <td id="T_911c7_row10_col1" class="data row10 col1" >Baphomet</td>
                        <td id="T_911c7_row10_col2" class="data row10 col2" >2020</td>
                        <td id="T_911c7_row10_col3" class="data row10 col3" >NoFap</td>
                        <td id="T_911c7_row10_col4" class="data row10 col4" >NoFap</td>
                        <td id="T_911c7_row10_col5" class="data row10 col5" >Shabazz (name)</td>
                        <td id="T_911c7_row10_col6" class="data row10 col6" >Angels in Islam</td>
            </tr>
            <tr>
                        <th id="T_911c7_level0_row11" class="row_heading level0 row11" >11</th>
                        <td id="T_911c7_row11_col0" class="data row11 col0" >Amakusa Shirō</td>
                        <td id="T_911c7_row11_col1" class="data row11 col1" >Christianity and Islam</td>
                        <td id="T_911c7_row11_col2" class="data row11 col2" >Inauguration of Joe Biden</td>
                        <td id="T_911c7_row11_col3" class="data row11 col3" >Ten Commandments</td>
                        <td id="T_911c7_row11_col4" class="data row11 col4" >Ten Commandments</td>
                        <td id="T_911c7_row11_col5" class="data row11 col5" >Dambe</td>
                        <td id="T_911c7_row11_col6" class="data row11 col6" >Perpetual virginity of Mary</td>
            </tr>
            <tr>
                        <th id="T_911c7_level0_row12" class="row_heading level0 row12" >12</th>
                        <td id="T_911c7_row12_col0" class="data row12 col0" >Demon</td>
                        <td id="T_911c7_row12_col1" class="data row12 col1" >Urban riots</td>
                        <td id="T_911c7_row12_col2" class="data row12 col2" >WandaVision</td>
                        <td id="T_911c7_row12_col3" class="data row12 col3" >Abrahamic religions</td>
                        <td id="T_911c7_row12_col4" class="data row12 col4" >Abrahamic religions</td>
                        <td id="T_911c7_row12_col5" class="data row12 col5" >Jerome, 4th Count de Salis-Soglio</td>
                        <td id="T_911c7_row12_col6" class="data row12 col6" >Fallen angel</td>
            </tr>
            <tr>
                        <th id="T_911c7_level0_row13" class="row_heading level0 row13" >13</th>
                        <td id="T_911c7_row13_col0" class="data row13 col0" >Doom Eternal</td>
                        <td id="T_911c7_row13_col1" class="data row13 col1" >History of communism</td>
                        <td id="T_911c7_row13_col2" class="data row13 col2" >COVID-19 misinformation</td>
                        <td id="T_911c7_row13_col3" class="data row13 col3" >Paul the Apostle</td>
                        <td id="T_911c7_row13_col4" class="data row13 col4" >Paul the Apostle</td>
                        <td id="T_911c7_row13_col5" class="data row13 col5" >Ukobach</td>
                        <td id="T_911c7_row13_col6" class="data row13 col6" >Yahwism</td>
            </tr>
            <tr>
                        <th id="T_911c7_level0_row14" class="row_heading level0 row14" >14</th>
                        <td id="T_911c7_row14_col0" class="data row14 col0" >Shaitan</td>
                        <td id="T_911c7_row14_col1" class="data row14 col1" >Trinity</td>
                        <td id="T_911c7_row14_col2" class="data row14 col2" >2021 Suez Canal obstruction</td>
                        <td id="T_911c7_row14_col3" class="data row14 col3" >Gospel of Mark</td>
                        <td id="T_911c7_row14_col4" class="data row14 col4" >Gospel of Mark</td>
                        <td id="T_911c7_row14_col5" class="data row14 col5" >Vine (demon)</td>
                        <td id="T_911c7_row14_col6" class="data row14 col6" >Nontrinitarianism</td>
            </tr>
            <tr>
                        <th id="T_911c7_level0_row15" class="row_heading level0 row15" >15</th>
                        <td id="T_911c7_row15_col0" class="data row15 col0" >Theistic evolution</td>
                        <td id="T_911c7_row15_col1" class="data row15 col1" >The infernal names</td>
                        <td id="T_911c7_row15_col2" class="data row15 col2" >2020 Atlantic hurricane season</td>
                        <td id="T_911c7_row15_col3" class="data row15 col3" >David</td>
                        <td id="T_911c7_row15_col4" class="data row15 col4" >David</td>
                        <td id="T_911c7_row15_col5" class="data row15 col5" >Botis</td>
                        <td id="T_911c7_row15_col6" class="data row15 col6" >Div (mythology)</td>
            </tr>
            <tr>
                        <th id="T_911c7_level0_row16" class="row_heading level0 row16" >16</th>
                        <td id="T_911c7_row16_col0" class="data row16 col0" >Stephen Collins (disambiguation)</td>
                        <td id="T_911c7_row16_col1" class="data row16 col1" >Prophets of Christianity</td>
                        <td id="T_911c7_row16_col2" class="data row16 col2" >Wonder Woman 1984</td>
                        <td id="T_911c7_row16_col3" class="data row16 col3" >Book of Exodus</td>
                        <td id="T_911c7_row16_col4" class="data row16 col4" >Book of Exodus</td>
                        <td id="T_911c7_row16_col5" class="data row16 col5" >Turiel</td>
                        <td id="T_911c7_row16_col6" class="data row16 col6" >Joseph Smith–Matthew</td>
            </tr>
            <tr>
                        <th id="T_911c7_level0_row17" class="row_heading level0 row17" >17</th>
                        <td id="T_911c7_row17_col0" class="data row17 col0" >Rumi</td>
                        <td id="T_911c7_row17_col1" class="data row17 col1" >Demon</td>
                        <td id="T_911c7_row17_col2" class="data row17 col2" >Diego Maradona</td>
                        <td id="T_911c7_row17_col3" class="data row17 col3" >Solomon</td>
                        <td id="T_911c7_row17_col4" class="data row17 col4" >Gospel of John</td>
                        <td id="T_911c7_row17_col5" class="data row17 col5" >Gaap</td>
                        <td id="T_911c7_row17_col6" class="data row17 col6" >Iblis</td>
            </tr>
            <tr>
                        <th id="T_911c7_level0_row18" class="row_heading level0 row18" >18</th>
                        <td id="T_911c7_row18_col0" class="data row18 col0" >Melek Taus</td>
                        <td id="T_911c7_row18_col1" class="data row18 col1" >List of religions and spiritual traditions</td>
                        <td id="T_911c7_row18_col2" class="data row18 col2" >Among Us</td>
                        <td id="T_911c7_row18_col3" class="data row18 col3" >Gospel of John</td>
                        <td id="T_911c7_row18_col4" class="data row18 col4" >Genesis creation narrative</td>
                        <td id="T_911c7_row18_col5" class="data row18 col5" >Houngan</td>
                        <td id="T_911c7_row18_col6" class="data row18 col6" >Saint Joseph</td>
            </tr>
            <tr>
                        <th id="T_911c7_level0_row19" class="row_heading level0 row19" >19</th>
                        <td id="T_911c7_row19_col0" class="data row19 col0" >Prince Philip, Duke of Edinburgh</td>
                        <td id="T_911c7_row19_col1" class="data row19 col1" >Extraterrestrial life</td>
                        <td id="T_911c7_row19_col2" class="data row19 col2" >Attempts to overturn the 2020 United States presidential election</td>
                        <td id="T_911c7_row19_col3" class="data row19 col3" >Genesis creation narrative</td>
                        <td id="T_911c7_row19_col4" class="data row19 col4" >Bryant G. Wood</td>
                        <td id="T_911c7_row19_col5" class="data row19 col5" >Dewlap</td>
                        <td id="T_911c7_row19_col6" class="data row19 col6" >Islam</td>
            </tr>
    </tbody></table></div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>DarkStriker22
Next edit: Philippines national football team
</pre></div>
</div>
<div class="output text_html"><style  type="text/css" >
#T_e72a0_row0_col0,#T_e72a0_row0_col1,#T_e72a0_row0_col5,#T_e72a0_row1_col0,#T_e72a0_row1_col1,#T_e72a0_row1_col5,#T_e72a0_row2_col0,#T_e72a0_row2_col1,#T_e72a0_row2_col5,#T_e72a0_row3_col0,#T_e72a0_row3_col1,#T_e72a0_row3_col5,#T_e72a0_row4_col0,#T_e72a0_row4_col1,#T_e72a0_row4_col5,#T_e72a0_row5_col0,#T_e72a0_row5_col1,#T_e72a0_row5_col5,#T_e72a0_row6_col0,#T_e72a0_row6_col1,#T_e72a0_row6_col5,#T_e72a0_row7_col0,#T_e72a0_row7_col1,#T_e72a0_row7_col5,#T_e72a0_row8_col0,#T_e72a0_row8_col1,#T_e72a0_row8_col5,#T_e72a0_row9_col0,#T_e72a0_row9_col1,#T_e72a0_row9_col5,#T_e72a0_row10_col0,#T_e72a0_row10_col1,#T_e72a0_row10_col5,#T_e72a0_row11_col0,#T_e72a0_row11_col1,#T_e72a0_row11_col5,#T_e72a0_row12_col0,#T_e72a0_row12_col1,#T_e72a0_row12_col5,#T_e72a0_row13_col0,#T_e72a0_row13_col1,#T_e72a0_row13_col5,#T_e72a0_row14_col0,#T_e72a0_row14_col1,#T_e72a0_row14_col5,#T_e72a0_row15_col0,#T_e72a0_row15_col1,#T_e72a0_row15_col5,#T_e72a0_row16_col0,#T_e72a0_row16_col1,#T_e72a0_row16_col5,#T_e72a0_row17_col0,#T_e72a0_row17_col1,#T_e72a0_row17_col5,#T_e72a0_row18_col0,#T_e72a0_row18_col5,#T_e72a0_row19_col1,#T_e72a0_row19_col5{
            font-weight:  bold;
            color:  black;
        }#T_e72a0_row0_col2,#T_e72a0_row0_col3,#T_e72a0_row0_col4,#T_e72a0_row0_col6,#T_e72a0_row1_col2,#T_e72a0_row1_col3,#T_e72a0_row1_col4,#T_e72a0_row1_col6,#T_e72a0_row2_col2,#T_e72a0_row2_col3,#T_e72a0_row2_col4,#T_e72a0_row2_col6,#T_e72a0_row3_col2,#T_e72a0_row3_col3,#T_e72a0_row3_col4,#T_e72a0_row3_col6,#T_e72a0_row4_col2,#T_e72a0_row4_col3,#T_e72a0_row4_col4,#T_e72a0_row4_col6,#T_e72a0_row5_col2,#T_e72a0_row5_col3,#T_e72a0_row5_col4,#T_e72a0_row5_col6,#T_e72a0_row6_col2,#T_e72a0_row6_col3,#T_e72a0_row6_col4,#T_e72a0_row6_col6,#T_e72a0_row7_col2,#T_e72a0_row7_col3,#T_e72a0_row7_col4,#T_e72a0_row7_col6,#T_e72a0_row8_col2,#T_e72a0_row8_col3,#T_e72a0_row8_col4,#T_e72a0_row8_col6,#T_e72a0_row9_col2,#T_e72a0_row9_col3,#T_e72a0_row9_col4,#T_e72a0_row9_col6,#T_e72a0_row10_col2,#T_e72a0_row10_col3,#T_e72a0_row10_col4,#T_e72a0_row10_col6,#T_e72a0_row11_col2,#T_e72a0_row11_col3,#T_e72a0_row11_col4,#T_e72a0_row11_col6,#T_e72a0_row12_col2,#T_e72a0_row12_col4,#T_e72a0_row12_col6,#T_e72a0_row13_col2,#T_e72a0_row13_col3,#T_e72a0_row13_col4,#T_e72a0_row13_col6,#T_e72a0_row14_col2,#T_e72a0_row14_col3,#T_e72a0_row14_col4,#T_e72a0_row14_col6,#T_e72a0_row15_col2,#T_e72a0_row15_col3,#T_e72a0_row15_col4,#T_e72a0_row15_col6,#T_e72a0_row16_col2,#T_e72a0_row16_col3,#T_e72a0_row16_col4,#T_e72a0_row16_col6,#T_e72a0_row17_col2,#T_e72a0_row17_col3,#T_e72a0_row17_col4,#T_e72a0_row17_col6,#T_e72a0_row18_col2,#T_e72a0_row18_col3,#T_e72a0_row18_col4,#T_e72a0_row18_col6,#T_e72a0_row19_col0,#T_e72a0_row19_col2,#T_e72a0_row19_col3,#T_e72a0_row19_col4,#T_e72a0_row19_col6{
            font-weight:  normal;
            color:  black;
        }#T_e72a0_row12_col3,#T_e72a0_row18_col1{
            font-weight:  bold;
            color:  red;
        }</style><table id="T_e72a0_" ><thead>    <tr>        <th class="blank level0" ></th>        <th class="col_heading level0 col0" >Recent</th>        <th class="col_heading level0 col1" >Frequent</th>        <th class="col_heading level0 col2" >Popularity</th>        <th class="col_heading level0 col3" >Implicit</th>        <th class="col_heading level0 col4" >Implicit_filtered</th>        <th class="col_heading level0 col5" >bm25</th>        <th class="col_heading level0 col6" >bm25_filtered</th>    </tr></thead><tbody>
                <tr>
                        <th id="T_e72a0_level0_row0" class="row_heading level0 row0" >0</th>
                        <td id="T_e72a0_row0_col0" class="data row0 col0" >Gerrit Holtmann</td>
                        <td id="T_e72a0_row0_col1" class="data row0 col1" >Loyola F.C.</td>
                        <td id="T_e72a0_row0_col2" class="data row0 col2" >Prince Philip, Duke of Edinburgh</td>
                        <td id="T_e72a0_row0_col3" class="data row0 col3" >Gilbert Gapay</td>
                        <td id="T_e72a0_row0_col4" class="data row0 col4" >Gilbert Gapay</td>
                        <td id="T_e72a0_row0_col5" class="data row0 col5" >Kaya F.C.–Iloilo</td>
                        <td id="T_e72a0_row0_col6" class="data row0 col6" >2019 Philippines Football League</td>
            </tr>
            <tr>
                        <th id="T_e72a0_level0_row1" class="row_heading level0 row1" >1</th>
                        <td id="T_e72a0_row1_col0" class="data row1 col0" >Michael Kempter</td>
                        <td id="T_e72a0_row1_col1" class="data row1 col1" >Maharlika Manila F.C.</td>
                        <td id="T_e72a0_row1_col2" class="data row1 col2" >2020–2021 Belarusian protests</td>
                        <td id="T_e72a0_row1_col3" class="data row1 col3" >Protests against Rodrigo Duterte</td>
                        <td id="T_e72a0_row1_col4" class="data row1 col4" >Protests against Rodrigo Duterte</td>
                        <td id="T_e72a0_row1_col5" class="data row1 col5" >Loyola F.C.</td>
                        <td id="T_e72a0_row1_col6" class="data row1 col6" >2017 Philippines Football League</td>
            </tr>
            <tr>
                        <th id="T_e72a0_level0_row2" class="row_heading level0 row2" >2</th>
                        <td id="T_e72a0_row2_col0" class="data row2 col0" >Jefferson Tabinas</td>
                        <td id="T_e72a0_row2_col1" class="data row2 col1" >Novem Baumann</td>
                        <td id="T_e72a0_row2_col2" class="data row2 col2" >Chadwick Boseman</td>
                        <td id="T_e72a0_row2_col3" class="data row2 col3" >COVID-19 pandemic in Metro Manila</td>
                        <td id="T_e72a0_row2_col4" class="data row2 col4" >COVID-19 pandemic in Metro Manila</td>
                        <td id="T_e72a0_row2_col5" class="data row2 col5" >Maharlika Manila F.C.</td>
                        <td id="T_e72a0_row2_col6" class="data row2 col6" >2018 Philippines Football League</td>
            </tr>
            <tr>
                        <th id="T_e72a0_level0_row3" class="row_heading level0 row3" >3</th>
                        <td id="T_e72a0_row3_col0" class="data row3 col0" >Jesper Nyholm</td>
                        <td id="T_e72a0_row3_col1" class="data row3 col1" >Michael Kempter</td>
                        <td id="T_e72a0_row3_col2" class="data row3 col2" >2024 United States presidential election</td>
                        <td id="T_e72a0_row3_col3" class="data row3 col3" >MRT Line 3 (Metro Manila)</td>
                        <td id="T_e72a0_row3_col4" class="data row3 col4" >MRT Line 3 (Metro Manila)</td>
                        <td id="T_e72a0_row3_col5" class="data row3 col5" >Azkals Development Team</td>
                        <td id="T_e72a0_row3_col6" class="data row3 col6" >Jerry Barbaso</td>
            </tr>
            <tr>
                        <th id="T_e72a0_level0_row4" class="row_heading level0 row4" >4</th>
                        <td id="T_e72a0_row4_col0" class="data row4 col0" >Kevin Ray Mendoza</td>
                        <td id="T_e72a0_row4_col1" class="data row4 col1" >Ben&Ben</td>
                        <td id="T_e72a0_row4_col2" class="data row4 col2" >COVID-19 pandemic in the United States</td>
                        <td id="T_e72a0_row4_col3" class="data row4 col3" >ABS-CBN franchise renewal controversy</td>
                        <td id="T_e72a0_row4_col4" class="data row4 col4" >ABS-CBN franchise renewal controversy</td>
                        <td id="T_e72a0_row4_col5" class="data row4 col5" >Patrick Asare</td>
                        <td id="T_e72a0_row4_col6" class="data row4 col6" >2021 Philippines Football League</td>
            </tr>
            <tr>
                        <th id="T_e72a0_level0_row5" class="row_heading level0 row5" >5</th>
                        <td id="T_e72a0_row5_col0" class="data row5 col0" >Niko de Vera</td>
                        <td id="T_e72a0_row5_col1" class="data row5 col1" >United City F.C.</td>
                        <td id="T_e72a0_row5_col2" class="data row5 col2" >Black Lives Matter</td>
                        <td id="T_e72a0_row5_col3" class="data row5 col3" >PMA Sinagtala Class of 1986</td>
                        <td id="T_e72a0_row5_col4" class="data row5 col4" >PMA Sinagtala Class of 1986</td>
                        <td id="T_e72a0_row5_col5" class="data row5 col5" >Jason Withe</td>
                        <td id="T_e72a0_row5_col6" class="data row5 col6" >Serge Kaole</td>
            </tr>
            <tr>
                        <th id="T_e72a0_level0_row6" class="row_heading level0 row6" >6</th>
                        <td id="T_e72a0_row6_col0" class="data row6 col0" >Amani Aguinaldo</td>
                        <td id="T_e72a0_row6_col1" class="data row6 col1" >2020 Philippines Football League</td>
                        <td id="T_e72a0_row6_col2" class="data row6 col2" >George Floyd</td>
                        <td id="T_e72a0_row6_col3" class="data row6 col3" >Cirilito Sobejana</td>
                        <td id="T_e72a0_row6_col4" class="data row6 col4" >Cirilito Sobejana</td>
                        <td id="T_e72a0_row6_col5" class="data row6 col5" >Stallion Laguna F.C.</td>
                        <td id="T_e72a0_row6_col6" class="data row6 col6" >James Younghusband</td>
            </tr>
            <tr>
                        <th id="T_e72a0_level0_row7" class="row_heading level0 row7" >7</th>
                        <td id="T_e72a0_row7_col0" class="data row7 col0" >2021–22 Thai League 1</td>
                        <td id="T_e72a0_row7_col1" class="data row7 col1" >Ben&Ben discography</td>
                        <td id="T_e72a0_row7_col2" class="data row7 col2" >Derek Chauvin</td>
                        <td id="T_e72a0_row7_col3" class="data row7 col3" >Alma Uy-Lampasa</td>
                        <td id="T_e72a0_row7_col4" class="data row7 col4" >Alma Uy-Lampasa</td>
                        <td id="T_e72a0_row7_col5" class="data row7 col5" >Novem Baumann</td>
                        <td id="T_e72a0_row7_col6" class="data row7 col6" >Anton del Rosario</td>
            </tr>
            <tr>
                        <th id="T_e72a0_level0_row8" class="row_heading level0 row8" >8</th>
                        <td id="T_e72a0_row8_col0" class="data row8 col0" >Matthew Baldisimo</td>
                        <td id="T_e72a0_row8_col1" class="data row8 col1" >Clara Benin</td>
                        <td id="T_e72a0_row8_col2" class="data row8 col2" >2021 Israel–Palestine crisis</td>
                        <td id="T_e72a0_row8_col3" class="data row8 col3" >COVID-19 pandemic in Central Visayas</td>
                        <td id="T_e72a0_row8_col4" class="data row8 col4" >COVID-19 pandemic in Central Visayas</td>
                        <td id="T_e72a0_row8_col5" class="data row8 col5" >Michael Kempter</td>
                        <td id="T_e72a0_row8_col6" class="data row8 col6" >Philippines Football League</td>
            </tr>
            <tr>
                        <th id="T_e72a0_level0_row9" class="row_heading level0 row9" >9</th>
                        <td id="T_e72a0_row9_col0" class="data row9 col0" >Paulo Junichi Tanaka</td>
                        <td id="T_e72a0_row9_col1" class="data row9 col1" >Fragments (Clara Benin EP)</td>
                        <td id="T_e72a0_row9_col2" class="data row9 col2" >Zack Snyder's Justice League</td>
                        <td id="T_e72a0_row9_col3" class="data row9 col3" >Philippine government response to the COVID-19 pandemic</td>
                        <td id="T_e72a0_row9_col4" class="data row9 col4" >Philippine government response to the COVID-19 pandemic</td>
                        <td id="T_e72a0_row9_col5" class="data row9 col5" >Clara Benin</td>
                        <td id="T_e72a0_row9_col6" class="data row9 col6" >Misagh Bahadoran</td>
            </tr>
            <tr>
                        <th id="T_e72a0_level0_row10" class="row_heading level0 row10" >10</th>
                        <td id="T_e72a0_row10_col0" class="data row10 col0" >Kaya F.C.–Iloilo</td>
                        <td id="T_e72a0_row10_col1" class="data row10 col1" >Azkals Development Team</td>
                        <td id="T_e72a0_row10_col2" class="data row10 col2" >2020</td>
                        <td id="T_e72a0_row10_col3" class="data row10 col3" >Central Philippine University</td>
                        <td id="T_e72a0_row10_col4" class="data row10 col4" >Central Philippine University</td>
                        <td id="T_e72a0_row10_col5" class="data row10 col5" >Fragments (Clara Benin EP)</td>
                        <td id="T_e72a0_row10_col6" class="data row10 col6" >David Basa</td>
            </tr>
            <tr>
                        <th id="T_e72a0_level0_row11" class="row_heading level0 row11" >11</th>
                        <td id="T_e72a0_row11_col0" class="data row11 col0" >Patrick Asare</td>
                        <td id="T_e72a0_row11_col1" class="data row11 col1" >Julian Clariño</td>
                        <td id="T_e72a0_row11_col2" class="data row11 col2" >Inauguration of Joe Biden</td>
                        <td id="T_e72a0_row11_col3" class="data row11 col3" >Araneta City</td>
                        <td id="T_e72a0_row11_col4" class="data row11 col4" >Araneta City</td>
                        <td id="T_e72a0_row11_col5" class="data row11 col5" >Julian Clariño</td>
                        <td id="T_e72a0_row11_col6" class="data row11 col6" >Philippines Football League records and statistics</td>
            </tr>
            <tr>
                        <th id="T_e72a0_level0_row12" class="row_heading level0 row12" >12</th>
                        <td id="T_e72a0_row12_col0" class="data row12 col0" >Aris Caslib</td>
                        <td id="T_e72a0_row12_col1" class="data row12 col1" >Clara Benin discography</td>
                        <td id="T_e72a0_row12_col2" class="data row12 col2" >WandaVision</td>
                        <td id="T_e72a0_row12_col3" class="data row12 col3" >Philippines national football team</td>
                        <td id="T_e72a0_row12_col4" class="data row12 col4" >Armed Forces of the Philippines</td>
                        <td id="T_e72a0_row12_col5" class="data row12 col5" >Jonny Campbell (soccer)</td>
                        <td id="T_e72a0_row12_col6" class="data row12 col6" >Simon Greatwich</td>
            </tr>
            <tr>
                        <th id="T_e72a0_level0_row13" class="row_heading level0 row13" >13</th>
                        <td id="T_e72a0_row13_col0" class="data row13 col0" >Raphael Obermair</td>
                        <td id="T_e72a0_row13_col1" class="data row13 col1" >Gerrit Holtmann</td>
                        <td id="T_e72a0_row13_col2" class="data row13 col2" >COVID-19 misinformation</td>
                        <td id="T_e72a0_row13_col3" class="data row13 col3" >Armed Forces of the Philippines</td>
                        <td id="T_e72a0_row13_col4" class="data row13 col4" >Timeline of protests against Rodrigo Duterte</td>
                        <td id="T_e72a0_row13_col5" class="data row13 col5" >Robert Lopez Mendy</td>
                        <td id="T_e72a0_row13_col6" class="data row13 col6" >List of football clubs in the Philippines</td>
            </tr>
            <tr>
                        <th id="T_e72a0_level0_row14" class="row_heading level0 row14" >14</th>
                        <td id="T_e72a0_row14_col0" class="data row14 col0" >John-Patrick Strauß</td>
                        <td id="T_e72a0_row14_col1" class="data row14 col1" >Amani Aguinaldo</td>
                        <td id="T_e72a0_row14_col2" class="data row14 col2" >2021 Suez Canal obstruction</td>
                        <td id="T_e72a0_row14_col3" class="data row14 col3" >Timeline of protests against Rodrigo Duterte</td>
                        <td id="T_e72a0_row14_col4" class="data row14 col4" >Gateway Mall (Quezon City)</td>
                        <td id="T_e72a0_row14_col5" class="data row14 col5" >Daniel Matsunaga</td>
                        <td id="T_e72a0_row14_col6" class="data row14 col6" >Maharlika F.C.</td>
            </tr>
            <tr>
                        <th id="T_e72a0_level0_row15" class="row_heading level0 row15" >15</th>
                        <td id="T_e72a0_row15_col0" class="data row15 col0" >United City F.C.</td>
                        <td id="T_e72a0_row15_col1" class="data row15 col1" >Roxy Dorlas</td>
                        <td id="T_e72a0_row15_col2" class="data row15 col2" >2020 Atlantic hurricane season</td>
                        <td id="T_e72a0_row15_col3" class="data row15 col3" >Gateway Mall (Quezon City)</td>
                        <td id="T_e72a0_row15_col4" class="data row15 col4" >LRT Line 2 (Metro Manila)</td>
                        <td id="T_e72a0_row15_col5" class="data row15 col5" >Gerrit Holtmann</td>
                        <td id="T_e72a0_row15_col6" class="data row15 col6" >2016–17 RB Leipzig season</td>
            </tr>
            <tr>
                        <th id="T_e72a0_level0_row16" class="row_heading level0 row16" >16</th>
                        <td id="T_e72a0_row16_col0" class="data row16 col0" >Jason Withe</td>
                        <td id="T_e72a0_row16_col1" class="data row16 col1" >FC Barcelona</td>
                        <td id="T_e72a0_row16_col2" class="data row16 col2" >Wonder Woman 1984</td>
                        <td id="T_e72a0_row16_col3" class="data row16 col3" >LRT Line 2 (Metro Manila)</td>
                        <td id="T_e72a0_row16_col4" class="data row16 col4" >MRTC 3000 class</td>
                        <td id="T_e72a0_row16_col5" class="data row16 col5" >Joshua Grommen</td>
                        <td id="T_e72a0_row16_col6" class="data row16 col6" >2014–15 RB Leipzig season</td>
            </tr>
            <tr>
                        <th id="T_e72a0_level0_row17" class="row_heading level0 row17" >17</th>
                        <td id="T_e72a0_row17_col0" class="data row17 col0" >Jai Ingham</td>
                        <td id="T_e72a0_row17_col1" class="data row17 col1" >FC Zürich</td>
                        <td id="T_e72a0_row17_col2" class="data row17 col2" >Diego Maradona</td>
                        <td id="T_e72a0_row17_col3" class="data row17 col3" >MRTC 3000 class</td>
                        <td id="T_e72a0_row17_col4" class="data row17 col4" >Dipolog City Council</td>
                        <td id="T_e72a0_row17_col5" class="data row17 col5" >Justin Baas</td>
                        <td id="T_e72a0_row17_col6" class="data row17 col6" >2016 AFC Cup group stage</td>
            </tr>
            <tr>
                        <th id="T_e72a0_level0_row18" class="row_heading level0 row18" >18</th>
                        <td id="T_e72a0_row18_col0" class="data row18 col0" >Loyola F.C.</td>
                        <td id="T_e72a0_row18_col1" class="data row18 col1" >Philippines national football team</td>
                        <td id="T_e72a0_row18_col2" class="data row18 col2" >Among Us</td>
                        <td id="T_e72a0_row18_col3" class="data row18 col3" >Dipolog City Council</td>
                        <td id="T_e72a0_row18_col4" class="data row18 col4" >Iloilo City</td>
                        <td id="T_e72a0_row18_col5" class="data row18 col5" >Roxy Dorlas</td>
                        <td id="T_e72a0_row18_col6" class="data row18 col6" >Neuchâtel Xamax FCS</td>
            </tr>
            <tr>
                        <th id="T_e72a0_level0_row19" class="row_heading level0 row19" >19</th>
                        <td id="T_e72a0_row19_col0" class="data row19 col0" >Prince Philip, Duke of Edinburgh</td>
                        <td id="T_e72a0_row19_col1" class="data row19 col1" >Kaya F.C.–Iloilo</td>
                        <td id="T_e72a0_row19_col2" class="data row19 col2" >Attempts to overturn the 2020 United States presidential election</td>
                        <td id="T_e72a0_row19_col3" class="data row19 col3" >Iloilo City</td>
                        <td id="T_e72a0_row19_col4" class="data row19 col4" >Red-tagging in the Philippines</td>
                        <td id="T_e72a0_row19_col5" class="data row19 col5" >Clara Benin discography</td>
                        <td id="T_e72a0_row19_col6" class="data row19 col6" >VfL Bochum</td>
            </tr>
    </tbody></table></div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>SilentGanda
Next edit: 2022 Formula One World Championship
</pre></div>
</div>
<div class="output text_html"><style  type="text/css" >
#T_45a39_row0_col0,#T_45a39_row0_col1,#T_45a39_row0_col5,#T_45a39_row1_col0,#T_45a39_row1_col1,#T_45a39_row1_col5,#T_45a39_row2_col0,#T_45a39_row2_col1,#T_45a39_row2_col5,#T_45a39_row3_col0,#T_45a39_row3_col1,#T_45a39_row4_col0,#T_45a39_row4_col1,#T_45a39_row4_col5,#T_45a39_row5_col0,#T_45a39_row5_col1,#T_45a39_row6_col0,#T_45a39_row6_col1,#T_45a39_row7_col0,#T_45a39_row7_col1,#T_45a39_row7_col3,#T_45a39_row8_col0,#T_45a39_row8_col1,#T_45a39_row8_col5,#T_45a39_row9_col0,#T_45a39_row9_col1,#T_45a39_row9_col5,#T_45a39_row10_col0,#T_45a39_row10_col1,#T_45a39_row11_col0,#T_45a39_row11_col1,#T_45a39_row12_col0,#T_45a39_row12_col1,#T_45a39_row12_col5,#T_45a39_row13_col0,#T_45a39_row13_col1,#T_45a39_row13_col5,#T_45a39_row14_col0,#T_45a39_row14_col1,#T_45a39_row15_col0,#T_45a39_row15_col1,#T_45a39_row16_col0,#T_45a39_row16_col1,#T_45a39_row16_col3,#T_45a39_row17_col0,#T_45a39_row17_col1,#T_45a39_row18_col0,#T_45a39_row18_col1,#T_45a39_row19_col1,#T_45a39_row19_col5{
            font-weight:  bold;
            color:  black;
        }#T_45a39_row0_col2,#T_45a39_row0_col3,#T_45a39_row0_col4,#T_45a39_row0_col6,#T_45a39_row1_col2,#T_45a39_row1_col3,#T_45a39_row1_col4,#T_45a39_row1_col6,#T_45a39_row2_col2,#T_45a39_row2_col3,#T_45a39_row2_col4,#T_45a39_row2_col6,#T_45a39_row3_col2,#T_45a39_row3_col3,#T_45a39_row3_col4,#T_45a39_row3_col5,#T_45a39_row3_col6,#T_45a39_row4_col2,#T_45a39_row4_col3,#T_45a39_row4_col4,#T_45a39_row4_col6,#T_45a39_row5_col2,#T_45a39_row5_col3,#T_45a39_row5_col4,#T_45a39_row5_col5,#T_45a39_row5_col6,#T_45a39_row6_col2,#T_45a39_row6_col3,#T_45a39_row6_col4,#T_45a39_row6_col5,#T_45a39_row6_col6,#T_45a39_row7_col2,#T_45a39_row7_col4,#T_45a39_row7_col5,#T_45a39_row7_col6,#T_45a39_row8_col2,#T_45a39_row8_col3,#T_45a39_row8_col4,#T_45a39_row8_col6,#T_45a39_row9_col2,#T_45a39_row9_col3,#T_45a39_row9_col4,#T_45a39_row9_col6,#T_45a39_row10_col2,#T_45a39_row10_col3,#T_45a39_row10_col4,#T_45a39_row10_col5,#T_45a39_row10_col6,#T_45a39_row11_col2,#T_45a39_row11_col3,#T_45a39_row11_col4,#T_45a39_row11_col5,#T_45a39_row11_col6,#T_45a39_row12_col2,#T_45a39_row12_col3,#T_45a39_row12_col4,#T_45a39_row12_col6,#T_45a39_row13_col2,#T_45a39_row13_col3,#T_45a39_row13_col4,#T_45a39_row13_col6,#T_45a39_row14_col2,#T_45a39_row14_col3,#T_45a39_row14_col4,#T_45a39_row14_col5,#T_45a39_row14_col6,#T_45a39_row15_col2,#T_45a39_row15_col3,#T_45a39_row15_col4,#T_45a39_row15_col5,#T_45a39_row15_col6,#T_45a39_row16_col2,#T_45a39_row16_col4,#T_45a39_row16_col5,#T_45a39_row16_col6,#T_45a39_row17_col2,#T_45a39_row17_col3,#T_45a39_row17_col4,#T_45a39_row17_col5,#T_45a39_row17_col6,#T_45a39_row18_col2,#T_45a39_row18_col3,#T_45a39_row18_col4,#T_45a39_row18_col5,#T_45a39_row18_col6,#T_45a39_row19_col0,#T_45a39_row19_col2,#T_45a39_row19_col3,#T_45a39_row19_col4,#T_45a39_row19_col6{
            font-weight:  normal;
            color:  black;
        }</style><table id="T_45a39_" ><thead>    <tr>        <th class="blank level0" ></th>        <th class="col_heading level0 col0" >Recent</th>        <th class="col_heading level0 col1" >Frequent</th>        <th class="col_heading level0 col2" >Popularity</th>        <th class="col_heading level0 col3" >Implicit</th>        <th class="col_heading level0 col4" >Implicit_filtered</th>        <th class="col_heading level0 col5" >bm25</th>        <th class="col_heading level0 col6" >bm25_filtered</th>    </tr></thead><tbody>
                <tr>
                        <th id="T_45a39_level0_row0" class="row_heading level0 row0" >0</th>
                        <td id="T_45a39_row0_col0" class="data row0 col0" >2020 Styrian Grand Prix</td>
                        <td id="T_45a39_row0_col1" class="data row0 col1" >WWE</td>
                        <td id="T_45a39_row0_col2" class="data row0 col2" >Prince Philip, Duke of Edinburgh</td>
                        <td id="T_45a39_row0_col3" class="data row0 col3" >Cody Rhodes</td>
                        <td id="T_45a39_row0_col4" class="data row0 col4" >Cody Rhodes</td>
                        <td id="T_45a39_row0_col5" class="data row0 col5" >SummerSlam (2020)</td>
                        <td id="T_45a39_row0_col6" class="data row0 col6" >NXT TakeOver: Vengeance Day</td>
            </tr>
            <tr>
                        <th id="T_45a39_level0_row1" class="row_heading level0 row1" >1</th>
                        <td id="T_45a39_row1_col0" class="data row1 col0" >Formula One sponsorship liveries</td>
                        <td id="T_45a39_row1_col1" class="data row1 col1" >List of current champions in WWE</td>
                        <td id="T_45a39_row1_col2" class="data row1 col2" >2020–2021 Belarusian protests</td>
                        <td id="T_45a39_row1_col3" class="data row1 col3" >Hard To Kill (2021)</td>
                        <td id="T_45a39_row1_col4" class="data row1 col4" >Hard To Kill (2021)</td>
                        <td id="T_45a39_row1_col5" class="data row1 col5" >NXT TakeOver XXX</td>
                        <td id="T_45a39_row1_col6" class="data row1 col6" >NXT TakeOver: WarGames (2020)</td>
            </tr>
            <tr>
                        <th id="T_45a39_level0_row2" class="row_heading level0 row2" >2</th>
                        <td id="T_45a39_row2_col0" class="data row2 col0" >The Amazing Race 21</td>
                        <td id="T_45a39_row2_col1" class="data row2 col1" >ASEAN Summit</td>
                        <td id="T_45a39_row2_col2" class="data row2 col2" >Chadwick Boseman</td>
                        <td id="T_45a39_row2_col3" class="data row2 col3" >A.J. Styles</td>
                        <td id="T_45a39_row2_col4" class="data row2 col4" >A.J. Styles</td>
                        <td id="T_45a39_row2_col5" class="data row2 col5" >Clash of Champions (2020)</td>
                        <td id="T_45a39_row2_col6" class="data row2 col6" >WWE Intercontinental Championship</td>
            </tr>
            <tr>
                        <th id="T_45a39_level0_row3" class="row_heading level0 row3" >3</th>
                        <td id="T_45a39_row3_col0" class="data row3 col0" >2021 Myanmar protests</td>
                        <td id="T_45a39_row3_col1" class="data row3 col1" >WWE Backlash</td>
                        <td id="T_45a39_row3_col2" class="data row3 col2" >2024 United States presidential election</td>
                        <td id="T_45a39_row3_col3" class="data row3 col3" >SmackDown (WWE brand)</td>
                        <td id="T_45a39_row3_col4" class="data row3 col4" >SmackDown (WWE brand)</td>
                        <td id="T_45a39_row3_col5" class="data row3 col5" >NXT TakeOver: Vengeance Day</td>
                        <td id="T_45a39_row3_col6" class="data row3 col6" >NXT TakeOver: Stand & Deliver</td>
            </tr>
            <tr>
                        <th id="T_45a39_level0_row4" class="row_heading level0 row4" >4</th>
                        <td id="T_45a39_row4_col0" class="data row4 col0" >2021 Myanmar coup d'état</td>
                        <td id="T_45a39_row4_col1" class="data row4 col1" >WWE Hell in a Cell</td>
                        <td id="T_45a39_row4_col2" class="data row4 col2" >COVID-19 pandemic in the United States</td>
                        <td id="T_45a39_row4_col3" class="data row4 col3" >Rebellion (2021)</td>
                        <td id="T_45a39_row4_col4" class="data row4 col4" >Rebellion (2021)</td>
                        <td id="T_45a39_row4_col5" class="data row4 col5" >Royal Rumble (2021)</td>
                        <td id="T_45a39_row4_col6" class="data row4 col6" >Survivor Series (2020)</td>
            </tr>
            <tr>
                        <th id="T_45a39_level0_row5" class="row_heading level0 row5" >5</th>
                        <td id="T_45a39_row5_col0" class="data row5 col0" >East Asia Summit</td>
                        <td id="T_45a39_row5_col1" class="data row5 col1" >Member states of the Association of Southeast Asian Nations</td>
                        <td id="T_45a39_row5_col2" class="data row5 col2" >Black Lives Matter</td>
                        <td id="T_45a39_row5_col3" class="data row5 col3" >Jon Moxley</td>
                        <td id="T_45a39_row5_col4" class="data row5 col4" >Jon Moxley</td>
                        <td id="T_45a39_row5_col5" class="data row5 col5" >NXT TakeOver: WarGames (2020)</td>
                        <td id="T_45a39_row5_col6" class="data row5 col6" >TLC: Tables, Ladders & Chairs (2020)</td>
            </tr>
            <tr>
                        <th id="T_45a39_level0_row6" class="row_heading level0 row6" >6</th>
                        <td id="T_45a39_row6_col0" class="data row6 col0" >Member states of the Association of Southeast Asian Nations</td>
                        <td id="T_45a39_row6_col1" class="data row6 col1" >WWE Clash of Champions</td>
                        <td id="T_45a39_row6_col2" class="data row6 col2" >George Floyd</td>
                        <td id="T_45a39_row6_col3" class="data row6 col3" >All Elite Wrestling</td>
                        <td id="T_45a39_row6_col4" class="data row6 col4" >All Elite Wrestling</td>
                        <td id="T_45a39_row6_col5" class="data row6 col5" >WWE Intercontinental Championship</td>
                        <td id="T_45a39_row6_col6" class="data row6 col6" >NXT TakeOver: In Your House (2020)</td>
            </tr>
            <tr>
                        <th id="T_45a39_level0_row7" class="row_heading level0 row7" >7</th>
                        <td id="T_45a39_row7_col0" class="data row7 col0" >ASEAN Summit</td>
                        <td id="T_45a39_row7_col1" class="data row7 col1" >List of WWE pay-per-view and WWE Network events</td>
                        <td id="T_45a39_row7_col2" class="data row7 col2" >Derek Chauvin</td>
                        <td id="T_45a39_row7_col3" class="data row7 col3" >WWE</td>
                        <td id="T_45a39_row7_col4" class="data row7 col4" >Impact Knockouts Tag Team Championship</td>
                        <td id="T_45a39_row7_col5" class="data row7 col5" >NXT TakeOver: Stand & Deliver</td>
                        <td id="T_45a39_row7_col6" class="data row7 col6" >Payback (2020)</td>
            </tr>
            <tr>
                        <th id="T_45a39_level0_row8" class="row_heading level0 row8" >8</th>
                        <td id="T_45a39_row8_col0" class="data row8 col0" >Big Brother Canada (season 9)</td>
                        <td id="T_45a39_row8_col1" class="data row8 col1" >WWE Extreme Rules</td>
                        <td id="T_45a39_row8_col2" class="data row8 col2" >2021 Israel–Palestine crisis</td>
                        <td id="T_45a39_row8_col3" class="data row8 col3" >Impact Knockouts Tag Team Championship</td>
                        <td id="T_45a39_row8_col4" class="data row8 col4" >Roman Reigns</td>
                        <td id="T_45a39_row8_col5" class="data row8 col5" >Hell in a Cell (2020)</td>
                        <td id="T_45a39_row8_col6" class="data row8 col6" >NXT TakeOver</td>
            </tr>
            <tr>
                        <th id="T_45a39_level0_row9" class="row_heading level0 row9" >9</th>
                        <td id="T_45a39_row9_col0" class="data row9 col0" >Elimination Chamber</td>
                        <td id="T_45a39_row9_col1" class="data row9 col1" >East Asia Summit</td>
                        <td id="T_45a39_row9_col2" class="data row9 col2" >Zack Snyder's Justice League</td>
                        <td id="T_45a39_row9_col3" class="data row9 col3" >Roman Reigns</td>
                        <td id="T_45a39_row9_col4" class="data row9 col4" >FTR (professional wrestling)</td>
                        <td id="T_45a39_row9_col5" class="data row9 col5" >WWE Clash of Champions</td>
                        <td id="T_45a39_row9_col6" class="data row9 col6" >NXT TakeOver 31</td>
            </tr>
            <tr>
                        <th id="T_45a39_level0_row10" class="row_heading level0 row10" >10</th>
                        <td id="T_45a39_row10_col0" class="data row10 col0" >List of WWE Champions</td>
                        <td id="T_45a39_row10_col1" class="data row10 col1" >WWE TLC: Tables, Ladders & Chairs</td>
                        <td id="T_45a39_row10_col2" class="data row10 col2" >2020</td>
                        <td id="T_45a39_row10_col3" class="data row10 col3" >FTR (professional wrestling)</td>
                        <td id="T_45a39_row10_col4" class="data row10 col4" >Impact Wrestling</td>
                        <td id="T_45a39_row10_col5" class="data row10 col5" >Survivor Series (2020)</td>
                        <td id="T_45a39_row10_col6" class="data row10 col6" >WrestleMania 37</td>
            </tr>
            <tr>
                        <th id="T_45a39_level0_row11" class="row_heading level0 row11" >11</th>
                        <td id="T_45a39_row11_col0" class="data row11 col0" >WWE Elimination Chamber</td>
                        <td id="T_45a39_row11_col1" class="data row11 col1" >ASEAN</td>
                        <td id="T_45a39_row11_col2" class="data row11 col2" >Inauguration of Joe Biden</td>
                        <td id="T_45a39_row11_col3" class="data row11 col3" >Impact Wrestling</td>
                        <td id="T_45a39_row11_col4" class="data row11 col4" >All Out (2020)</td>
                        <td id="T_45a39_row11_col5" class="data row11 col5" >TLC: Tables, Ladders & Chairs (2020)</td>
                        <td id="T_45a39_row11_col6" class="data row11 col6" >WWE United States Championship</td>
            </tr>
            <tr>
                        <th id="T_45a39_level0_row12" class="row_heading level0 row12" >12</th>
                        <td id="T_45a39_row12_col0" class="data row12 col0" >List of WWE pay-per-view and WWE Network events</td>
                        <td id="T_45a39_row12_col1" class="data row12 col1" >Royal Rumble (2021)</td>
                        <td id="T_45a39_row12_col2" class="data row12 col2" >WandaVision</td>
                        <td id="T_45a39_row12_col3" class="data row12 col3" >All Out (2020)</td>
                        <td id="T_45a39_row12_col4" class="data row12 col4" >NXT (WWE brand)</td>
                        <td id="T_45a39_row12_col5" class="data row12 col5" >WWE Backlash</td>
                        <td id="T_45a39_row12_col6" class="data row12 col6" >Backlash (2020)</td>
            </tr>
            <tr>
                        <th id="T_45a39_level0_row13" class="row_heading level0 row13" >13</th>
                        <td id="T_45a39_row13_col0" class="data row13 col0" >1953 Argentine Grand Prix</td>
                        <td id="T_45a39_row13_col1" class="data row13 col1" >Bash at the Beach (2000)</td>
                        <td id="T_45a39_row13_col2" class="data row13 col2" >COVID-19 misinformation</td>
                        <td id="T_45a39_row13_col3" class="data row13 col3" >NXT (WWE brand)</td>
                        <td id="T_45a39_row13_col4" class="data row13 col4" >John Morrison (wrestler)</td>
                        <td id="T_45a39_row13_col5" class="data row13 col5" >WWE Payback</td>
                        <td id="T_45a39_row13_col6" class="data row13 col6" >The Horror Show at Extreme Rules</td>
            </tr>
            <tr>
                        <th id="T_45a39_level0_row14" class="row_heading level0 row14" >14</th>
                        <td id="T_45a39_row14_col0" class="data row14 col0" >List of Autodromo de Buenos Aires fatalities</td>
                        <td id="T_45a39_row14_col1" class="data row14 col1" >2021 Formula One World Championship</td>
                        <td id="T_45a39_row14_col2" class="data row14 col2" >2021 Suez Canal obstruction</td>
                        <td id="T_45a39_row14_col3" class="data row14 col3" >John Morrison (wrestler)</td>
                        <td id="T_45a39_row14_col4" class="data row14 col4" >Keith Lee (wrestler)</td>
                        <td id="T_45a39_row14_col5" class="data row14 col5" >NXT TakeOver: In Your House (2020)</td>
                        <td id="T_45a39_row14_col6" class="data row14 col6" >WWE Universal Championship</td>
            </tr>
            <tr>
                        <th id="T_45a39_level0_row15" class="row_heading level0 row15" >15</th>
                        <td id="T_45a39_row15_col0" class="data row15 col0" >Civil disobedience movement in Myanmar</td>
                        <td id="T_45a39_row15_col1" class="data row15 col1" >The Amazing Race 32</td>
                        <td id="T_45a39_row15_col2" class="data row15 col2" >2020 Atlantic hurricane season</td>
                        <td id="T_45a39_row15_col3" class="data row15 col3" >Keith Lee (wrestler)</td>
                        <td id="T_45a39_row15_col4" class="data row15 col4" >Kenny Omega</td>
                        <td id="T_45a39_row15_col5" class="data row15 col5" >Payback (2020)</td>
                        <td id="T_45a39_row15_col6" class="data row15 col6" >WWE Money in the Bank</td>
            </tr>
            <tr>
                        <th id="T_45a39_level0_row16" class="row_heading level0 row16" >16</th>
                        <td id="T_45a39_row16_col0" class="data row16 col0" >ASEAN</td>
                        <td id="T_45a39_row16_col1" class="data row16 col1" >List of Fire Emblem video games</td>
                        <td id="T_45a39_row16_col2" class="data row16 col2" >Wonder Woman 1984</td>
                        <td id="T_45a39_row16_col3" class="data row16 col3" >List of WWE United States Champions</td>
                        <td id="T_45a39_row16_col4" class="data row16 col4" >Professional wrestling match types</td>
                        <td id="T_45a39_row16_col5" class="data row16 col5" >NXT TakeOver</td>
                        <td id="T_45a39_row16_col6" class="data row16 col6" >Starrcade</td>
            </tr>
            <tr>
                        <th id="T_45a39_level0_row17" class="row_heading level0 row17" >17</th>
                        <td id="T_45a39_row17_col0" class="data row17 col0" >President of Myanmar</td>
                        <td id="T_45a39_row17_col1" class="data row17 col1" >Mustafa Ali (wrestler)</td>
                        <td id="T_45a39_row17_col2" class="data row17 col2" >Diego Maradona</td>
                        <td id="T_45a39_row17_col3" class="data row17 col3" >Kenny Omega</td>
                        <td id="T_45a39_row17_col4" class="data row17 col4" >List of WWE personnel</td>
                        <td id="T_45a39_row17_col5" class="data row17 col5" >NXT TakeOver 31</td>
                        <td id="T_45a39_row17_col6" class="data row17 col6" >List of NXT Champions</td>
            </tr>
            <tr>
                        <th id="T_45a39_level0_row18" class="row_heading level0 row18" >18</th>
                        <td id="T_45a39_row18_col0" class="data row18 col0" >Royal Rumble (2021)</td>
                        <td id="T_45a39_row18_col1" class="data row18 col1" >NXT UK TakeOver</td>
                        <td id="T_45a39_row18_col2" class="data row18 col2" >Among Us</td>
                        <td id="T_45a39_row18_col3" class="data row18 col3" >Professional wrestling match types</td>
                        <td id="T_45a39_row18_col4" class="data row18 col4" >Io Shirai</td>
                        <td id="T_45a39_row18_col5" class="data row18 col5" >WrestleMania 37</td>
                        <td id="T_45a39_row18_col6" class="data row18 col6" >Elimination Chamber (2021)</td>
            </tr>
            <tr>
                        <th id="T_45a39_level0_row19" class="row_heading level0 row19" >19</th>
                        <td id="T_45a39_row19_col0" class="data row19 col0" >Prince Philip, Duke of Edinburgh</td>
                        <td id="T_45a39_row19_col1" class="data row19 col1" >Big Brother 19 (American season)</td>
                        <td id="T_45a39_row19_col2" class="data row19 col2" >Attempts to overturn the 2020 United States presidential election</td>
                        <td id="T_45a39_row19_col3" class="data row19 col3" >List of WWE personnel</td>
                        <td id="T_45a39_row19_col4" class="data row19 col4" >Chris Jericho</td>
                        <td id="T_45a39_row19_col5" class="data row19 col5" >WWE TLC: Tables, Ladders & Chairs</td>
                        <td id="T_45a39_row19_col6" class="data row19 col6" >NXT North American Championship</td>
            </tr>
    </tbody></table></div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Raleigh80Z90Faema69
Next edit: Vuelta a España records and statistics
</pre></div>
</div>
<div class="output text_html"><style  type="text/css" >
#T_a44fa_row0_col0,#T_a44fa_row0_col1,#T_a44fa_row0_col5,#T_a44fa_row1_col0,#T_a44fa_row1_col1,#T_a44fa_row1_col5,#T_a44fa_row2_col0,#T_a44fa_row2_col1,#T_a44fa_row2_col5,#T_a44fa_row3_col0,#T_a44fa_row3_col1,#T_a44fa_row3_col5,#T_a44fa_row4_col0,#T_a44fa_row4_col1,#T_a44fa_row4_col5,#T_a44fa_row5_col0,#T_a44fa_row5_col1,#T_a44fa_row5_col5,#T_a44fa_row6_col0,#T_a44fa_row6_col1,#T_a44fa_row6_col5,#T_a44fa_row7_col0,#T_a44fa_row7_col1,#T_a44fa_row7_col5,#T_a44fa_row8_col0,#T_a44fa_row8_col1,#T_a44fa_row8_col5,#T_a44fa_row9_col0,#T_a44fa_row9_col1,#T_a44fa_row9_col5,#T_a44fa_row10_col0,#T_a44fa_row10_col1,#T_a44fa_row10_col5,#T_a44fa_row11_col0,#T_a44fa_row11_col1,#T_a44fa_row11_col5,#T_a44fa_row12_col0,#T_a44fa_row12_col1,#T_a44fa_row12_col5,#T_a44fa_row13_col0,#T_a44fa_row13_col1,#T_a44fa_row13_col2,#T_a44fa_row13_col5,#T_a44fa_row14_col0,#T_a44fa_row14_col1,#T_a44fa_row14_col5,#T_a44fa_row15_col0,#T_a44fa_row15_col1,#T_a44fa_row15_col5,#T_a44fa_row16_col0,#T_a44fa_row16_col1,#T_a44fa_row16_col5,#T_a44fa_row17_col0,#T_a44fa_row17_col1,#T_a44fa_row17_col5,#T_a44fa_row18_col0,#T_a44fa_row18_col1,#T_a44fa_row18_col5,#T_a44fa_row19_col1,#T_a44fa_row19_col3,#T_a44fa_row19_col5{
            font-weight:  bold;
            color:  black;
        }#T_a44fa_row0_col2,#T_a44fa_row0_col3,#T_a44fa_row0_col4,#T_a44fa_row0_col6,#T_a44fa_row1_col2,#T_a44fa_row1_col3,#T_a44fa_row1_col4,#T_a44fa_row1_col6,#T_a44fa_row2_col2,#T_a44fa_row2_col3,#T_a44fa_row2_col4,#T_a44fa_row2_col6,#T_a44fa_row3_col2,#T_a44fa_row3_col3,#T_a44fa_row3_col4,#T_a44fa_row3_col6,#T_a44fa_row4_col2,#T_a44fa_row4_col3,#T_a44fa_row4_col4,#T_a44fa_row4_col6,#T_a44fa_row5_col2,#T_a44fa_row5_col3,#T_a44fa_row5_col4,#T_a44fa_row5_col6,#T_a44fa_row6_col2,#T_a44fa_row6_col3,#T_a44fa_row6_col4,#T_a44fa_row6_col6,#T_a44fa_row7_col2,#T_a44fa_row7_col3,#T_a44fa_row7_col4,#T_a44fa_row7_col6,#T_a44fa_row8_col2,#T_a44fa_row8_col3,#T_a44fa_row8_col4,#T_a44fa_row8_col6,#T_a44fa_row9_col2,#T_a44fa_row9_col3,#T_a44fa_row9_col4,#T_a44fa_row9_col6,#T_a44fa_row10_col2,#T_a44fa_row10_col3,#T_a44fa_row10_col4,#T_a44fa_row10_col6,#T_a44fa_row11_col2,#T_a44fa_row11_col3,#T_a44fa_row11_col4,#T_a44fa_row11_col6,#T_a44fa_row12_col2,#T_a44fa_row12_col3,#T_a44fa_row12_col4,#T_a44fa_row12_col6,#T_a44fa_row13_col3,#T_a44fa_row13_col4,#T_a44fa_row13_col6,#T_a44fa_row14_col2,#T_a44fa_row14_col3,#T_a44fa_row14_col4,#T_a44fa_row14_col6,#T_a44fa_row15_col2,#T_a44fa_row15_col3,#T_a44fa_row15_col4,#T_a44fa_row15_col6,#T_a44fa_row16_col2,#T_a44fa_row16_col3,#T_a44fa_row16_col4,#T_a44fa_row16_col6,#T_a44fa_row17_col2,#T_a44fa_row17_col3,#T_a44fa_row17_col4,#T_a44fa_row17_col6,#T_a44fa_row18_col2,#T_a44fa_row18_col3,#T_a44fa_row18_col4,#T_a44fa_row18_col6,#T_a44fa_row19_col0,#T_a44fa_row19_col2,#T_a44fa_row19_col4,#T_a44fa_row19_col6{
            font-weight:  normal;
            color:  black;
        }</style><table id="T_a44fa_" ><thead>    <tr>        <th class="blank level0" ></th>        <th class="col_heading level0 col0" >Recent</th>        <th class="col_heading level0 col1" >Frequent</th>        <th class="col_heading level0 col2" >Popularity</th>        <th class="col_heading level0 col3" >Implicit</th>        <th class="col_heading level0 col4" >Implicit_filtered</th>        <th class="col_heading level0 col5" >bm25</th>        <th class="col_heading level0 col6" >bm25_filtered</th>    </tr></thead><tbody>
                <tr>
                        <th id="T_a44fa_level0_row0" class="row_heading level0 row0" >0</th>
                        <td id="T_a44fa_row0_col0" class="data row0 col0" >Luz Ardiden</td>
                        <td id="T_a44fa_row0_col1" class="data row0 col1" >2020 Tour de France</td>
                        <td id="T_a44fa_row0_col2" class="data row0 col2" >Prince Philip, Duke of Edinburgh</td>
                        <td id="T_a44fa_row0_col3" class="data row0 col3" >Wout van Aert</td>
                        <td id="T_a44fa_row0_col4" class="data row0 col4" >Wout van Aert</td>
                        <td id="T_a44fa_row0_col5" class="data row0 col5" >Freddy Maertens</td>
                        <td id="T_a44fa_row0_col6" class="data row0 col6" >Giacomo Nizzolo</td>
            </tr>
            <tr>
                        <th id="T_a44fa_level0_row1" class="row_heading level0 row1" >1</th>
                        <td id="T_a44fa_row1_col0" class="data row1 col0" >Dan Martin (cyclist)</td>
                        <td id="T_a44fa_row1_col1" class="data row1 col1" >Primož Roglič</td>
                        <td id="T_a44fa_row1_col2" class="data row1 col2" >2020–2021 Belarusian protests</td>
                        <td id="T_a44fa_row1_col3" class="data row1 col3" >List of wins by Kwantum–Decosol–Yoko and its successors</td>
                        <td id="T_a44fa_row1_col4" class="data row1 col4" >List of wins by Kwantum–Decosol–Yoko and its successors</td>
                        <td id="T_a44fa_row1_col5" class="data row1 col5" >Fred Rodriguez</td>
                        <td id="T_a44fa_row1_col6" class="data row1 col6" >Ben Hermans</td>
            </tr>
            <tr>
                        <th id="T_a44fa_level0_row2" class="row_heading level0 row2" >2</th>
                        <td id="T_a44fa_row2_col0" class="data row2 col0" >Brandon McNulty</td>
                        <td id="T_a44fa_row2_col1" class="data row2 col1" >Luz Ardiden</td>
                        <td id="T_a44fa_row2_col2" class="data row2 col2" >Chadwick Boseman</td>
                        <td id="T_a44fa_row2_col3" class="data row2 col3" >List of wins by Bahrain–Merida and its successors</td>
                        <td id="T_a44fa_row2_col4" class="data row2 col4" >List of wins by Bahrain–Merida and its successors</td>
                        <td id="T_a44fa_row2_col5" class="data row2 col5" >2008 Tour de France</td>
                        <td id="T_a44fa_row2_col6" class="data row2 col6" >Jasper Philipsen</td>
            </tr>
            <tr>
                        <th id="T_a44fa_level0_row3" class="row_heading level0 row3" >3</th>
                        <td id="T_a44fa_row3_col0" class="data row3 col0" >Daniel Martínez (cyclist)</td>
                        <td id="T_a44fa_row3_col1" class="data row3 col1" >Joop Zoetemelk</td>
                        <td id="T_a44fa_row3_col2" class="data row3 col2" >2024 United States presidential election</td>
                        <td id="T_a44fa_row3_col3" class="data row3 col3" >List of wins by Cycling Academy Team and its successors</td>
                        <td id="T_a44fa_row3_col4" class="data row3 col4" >List of wins by Cycling Academy Team and its successors</td>
                        <td id="T_a44fa_row3_col5" class="data row3 col5" >Luz Ardiden</td>
                        <td id="T_a44fa_row3_col6" class="data row3 col6" >Alessandro De Marchi (cyclist)</td>
            </tr>
            <tr>
                        <th id="T_a44fa_level0_row4" class="row_heading level0 row4" >4</th>
                        <td id="T_a44fa_row4_col0" class="data row4 col0" >Gino Bartali</td>
                        <td id="T_a44fa_row4_col1" class="data row4 col1" >Tour de France</td>
                        <td id="T_a44fa_row4_col2" class="data row4 col2" >COVID-19 pandemic in the United States</td>
                        <td id="T_a44fa_row4_col3" class="data row4 col3" >List of wins by Team NetApp and its successors</td>
                        <td id="T_a44fa_row4_col4" class="data row4 col4" >List of wins by Team NetApp and its successors</td>
                        <td id="T_a44fa_row4_col5" class="data row4 col5" >Alfons De Wolf</td>
                        <td id="T_a44fa_row4_col6" class="data row4 col6" >Nacer Bouhanni</td>
            </tr>
            <tr>
                        <th id="T_a44fa_level0_row5" class="row_heading level0 row5" >5</th>
                        <td id="T_a44fa_row5_col0" class="data row5 col0" >Artūras Kasputis</td>
                        <td id="T_a44fa_row5_col1" class="data row5 col1" >2008 Tour de France</td>
                        <td id="T_a44fa_row5_col2" class="data row5 col2" >Black Lives Matter</td>
                        <td id="T_a44fa_row5_col3" class="data row5 col3" >List of wins by Colnago–Lampre and its successors</td>
                        <td id="T_a44fa_row5_col4" class="data row5 col4" >List of wins by Colnago–Lampre and its successors</td>
                        <td id="T_a44fa_row5_col5" class="data row5 col5" >Henry Anglade</td>
                        <td id="T_a44fa_row5_col6" class="data row5 col6" >Luca Mozzato</td>
            </tr>
            <tr>
                        <th id="T_a44fa_level0_row6" class="row_heading level0 row6" >6</th>
                        <td id="T_a44fa_row6_col0" class="data row6 col0" >Egan Bernal</td>
                        <td id="T_a44fa_row6_col1" class="data row6 col1" >Tadej Pogačar</td>
                        <td id="T_a44fa_row6_col2" class="data row6 col2" >George Floyd</td>
                        <td id="T_a44fa_row6_col3" class="data row6 col3" >List of wins by Bonjour and its successors</td>
                        <td id="T_a44fa_row6_col4" class="data row6 col4" >List of wins by Bonjour and its successors</td>
                        <td id="T_a44fa_row6_col5" class="data row6 col5" >1971 Tour de France</td>
                        <td id="T_a44fa_row6_col6" class="data row6 col6" >Stefan Küng</td>
            </tr>
            <tr>
                        <th id="T_a44fa_level0_row7" class="row_heading level0 row7" >7</th>
                        <td id="T_a44fa_row7_col0" class="data row7 col0" >Tejay van Garderen</td>
                        <td id="T_a44fa_row7_col1" class="data row7 col1" >Greg LeMond</td>
                        <td id="T_a44fa_row7_col2" class="data row7 col2" >Derek Chauvin</td>
                        <td id="T_a44fa_row7_col3" class="data row7 col3" >List of wins by BMC Racing Team and its successors</td>
                        <td id="T_a44fa_row7_col4" class="data row7 col4" >List of wins by BMC Racing Team and its successors</td>
                        <td id="T_a44fa_row7_col5" class="data row7 col5" >Davis Phinney</td>
                        <td id="T_a44fa_row7_col6" class="data row7 col6" >Sonny Colbrelli</td>
            </tr>
            <tr>
                        <th id="T_a44fa_level0_row8" class="row_heading level0 row8" >8</th>
                        <td id="T_a44fa_row8_col0" class="data row8 col0" >Eldon Bargewell</td>
                        <td id="T_a44fa_row8_col1" class="data row8 col1" >Lance Armstrong</td>
                        <td id="T_a44fa_row8_col2" class="data row8 col2" >2021 Israel–Palestine crisis</td>
                        <td id="T_a44fa_row8_col3" class="data row8 col3" >List of wins by Quick-Step–Davitamon and its successors</td>
                        <td id="T_a44fa_row8_col4" class="data row8 col4" >List of wins by Quick-Step–Davitamon and its successors</td>
                        <td id="T_a44fa_row8_col5" class="data row8 col5" >Georg Totschnig</td>
                        <td id="T_a44fa_row8_col6" class="data row8 col6" >Caleb Ewan</td>
            </tr>
            <tr>
                        <th id="T_a44fa_level0_row9" class="row_heading level0 row9" >9</th>
                        <td id="T_a44fa_row9_col0" class="data row9 col0" >John Gilstrap</td>
                        <td id="T_a44fa_row9_col1" class="data row9 col1" >Guillaume Martin</td>
                        <td id="T_a44fa_row9_col2" class="data row9 col2" >Zack Snyder's Justice League</td>
                        <td id="T_a44fa_row9_col3" class="data row9 col3" >List of wins by BKCP–Powerplus and its successors</td>
                        <td id="T_a44fa_row9_col4" class="data row9 col4" >List of wins by BKCP–Powerplus and its successors</td>
                        <td id="T_a44fa_row9_col5" class="data row9 col5" >Andy Schleck</td>
                        <td id="T_a44fa_row9_col6" class="data row9 col6" >Nairo Quintana</td>
            </tr>
            <tr>
                        <th id="T_a44fa_level0_row10" class="row_heading level0 row10" >10</th>
                        <td id="T_a44fa_row10_col0" class="data row10 col0" >Operation Acid Gambit</td>
                        <td id="T_a44fa_row10_col1" class="data row10 col1" >2013 Vuelta a España</td>
                        <td id="T_a44fa_row10_col2" class="data row10 col2" >2020</td>
                        <td id="T_a44fa_row10_col3" class="data row10 col3" >List of wins by Reynolds and its successors</td>
                        <td id="T_a44fa_row10_col4" class="data row10 col4" >List of wins by Reynolds and its successors</td>
                        <td id="T_a44fa_row10_col5" class="data row10 col5" >Zdeněk Štybar</td>
                        <td id="T_a44fa_row10_col6" class="data row10 col6" >George Bennett (cyclist)</td>
            </tr>
            <tr>
                        <th id="T_a44fa_level0_row11" class="row_heading level0 row11" >11</th>
                        <td id="T_a44fa_row11_col0" class="data row11 col0" >Taco van der Hoorn</td>
                        <td id="T_a44fa_row11_col1" class="data row11 col1" >1971 Tour de France</td>
                        <td id="T_a44fa_row11_col2" class="data row11 col2" >Inauguration of Joe Biden</td>
                        <td id="T_a44fa_row11_col3" class="data row11 col3" >List of wins by La Française des Jeux and its successors</td>
                        <td id="T_a44fa_row11_col4" class="data row11 col4" >List of wins by La Française des Jeux and its successors</td>
                        <td id="T_a44fa_row11_col5" class="data row11 col5" >1976 Tour de France</td>
                        <td id="T_a44fa_row11_col6" class="data row11 col6" >Attila Valter</td>
            </tr>
            <tr>
                        <th id="T_a44fa_level0_row12" class="row_heading level0 row12" >12</th>
                        <td id="T_a44fa_row12_col0" class="data row12 col0" >Floyd Landis</td>
                        <td id="T_a44fa_row12_col1" class="data row12 col1" >Fred Rodriguez</td>
                        <td id="T_a44fa_row12_col2" class="data row12 col2" >WandaVision</td>
                        <td id="T_a44fa_row12_col3" class="data row12 col3" >List of wins by TIAA CREF and its successors</td>
                        <td id="T_a44fa_row12_col4" class="data row12 col4" >List of wins by TIAA CREF and its successors</td>
                        <td id="T_a44fa_row12_col5" class="data row12 col5" >Taylor Phinney</td>
                        <td id="T_a44fa_row12_col6" class="data row12 col6" >Rémi Cavagna</td>
            </tr>
            <tr>
                        <th id="T_a44fa_level0_row13" class="row_heading level0 row13" >13</th>
                        <td id="T_a44fa_row13_col0" class="data row13 col0" >Doping in the United States</td>
                        <td id="T_a44fa_row13_col1" class="data row13 col1" >Trek Bicycle Corporation</td>
                        <td id="T_a44fa_row13_col2" class="data row13 col2" >COVID-19 misinformation</td>
                        <td id="T_a44fa_row13_col3" class="data row13 col3" >List of wins by Sky Professional Racing and its successors</td>
                        <td id="T_a44fa_row13_col4" class="data row13 col4" >List of wins by Sky Professional Racing and its successors</td>
                        <td id="T_a44fa_row13_col5" class="data row13 col5" >2007 Tour de France</td>
                        <td id="T_a44fa_row13_col6" class="data row13 col6" >Jasper Stuyven</td>
            </tr>
            <tr>
                        <th id="T_a44fa_level0_row14" class="row_heading level0 row14" >14</th>
                        <td id="T_a44fa_row14_col0" class="data row14 col0" >Karakoram Highway</td>
                        <td id="T_a44fa_row14_col1" class="data row14 col1" >Alfons De Wolf</td>
                        <td id="T_a44fa_row14_col2" class="data row14 col2" >2021 Suez Canal obstruction</td>
                        <td id="T_a44fa_row14_col3" class="data row14 col3" >List of wins by GreenEDGE and its successors</td>
                        <td id="T_a44fa_row14_col4" class="data row14 col4" >List of wins by GreenEDGE and its successors</td>
                        <td id="T_a44fa_row14_col5" class="data row14 col5" >Joop Zoetemelk</td>
                        <td id="T_a44fa_row14_col6" class="data row14 col6" >Michał Kwiatkowski</td>
            </tr>
            <tr>
                        <th id="T_a44fa_level0_row15" class="row_heading level0 row15" >15</th>
                        <td id="T_a44fa_row15_col0" class="data row15 col0" >Mikel Landa</td>
                        <td id="T_a44fa_row15_col1" class="data row15 col1" >Freddy Maertens</td>
                        <td id="T_a44fa_row15_col2" class="data row15 col2" >2020 Atlantic hurricane season</td>
                        <td id="T_a44fa_row15_col3" class="data row15 col3" >List of wins by Leopard Trek and its successors</td>
                        <td id="T_a44fa_row15_col4" class="data row15 col4" >List of wins by Leopard Trek and its successors</td>
                        <td id="T_a44fa_row15_col5" class="data row15 col5" >Greg LeMond</td>
                        <td id="T_a44fa_row15_col6" class="data row15 col6" >Mikkel Frølich Honoré</td>
            </tr>
            <tr>
                        <th id="T_a44fa_level0_row16" class="row_heading level0 row16" >16</th>
                        <td id="T_a44fa_row16_col0" class="data row16 col0" >Arunas Cepele</td>
                        <td id="T_a44fa_row16_col1" class="data row16 col1" >Mikel Landa</td>
                        <td id="T_a44fa_row16_col2" class="data row16 col2" >Wonder Woman 1984</td>
                        <td id="T_a44fa_row16_col3" class="data row16 col3" >List of Cofidis wins</td>
                        <td id="T_a44fa_row16_col4" class="data row16 col4" >List of Cofidis wins</td>
                        <td id="T_a44fa_row16_col5" class="data row16 col5" >Guillaume Martin</td>
                        <td id="T_a44fa_row16_col6" class="data row16 col6" >Aurélien Paret-Peintre</td>
            </tr>
            <tr>
                        <th id="T_a44fa_level0_row17" class="row_heading level0 row17" >17</th>
                        <td id="T_a44fa_row17_col0" class="data row17 col0" >1992 Tour de France</td>
                        <td id="T_a44fa_row17_col1" class="data row17 col1" >Dan Martin (cyclist)</td>
                        <td id="T_a44fa_row17_col2" class="data row17 col2" >Diego Maradona</td>
                        <td id="T_a44fa_row17_col3" class="data row17 col3" >List of wins by VC La Pomme and its successors</td>
                        <td id="T_a44fa_row17_col4" class="data row17 col4" >List of wins by VC La Pomme and its successors</td>
                        <td id="T_a44fa_row17_col5" class="data row17 col5" >Tejay van Garderen</td>
                        <td id="T_a44fa_row17_col6" class="data row17 col6" >Aleksandr Vlasov (cyclist)</td>
            </tr>
            <tr>
                        <th id="T_a44fa_level0_row18" class="row_heading level0 row18" >18</th>
                        <td id="T_a44fa_row18_col0" class="data row18 col0" >Claudio Chiappucci</td>
                        <td id="T_a44fa_row18_col1" class="data row18 col1" >1969 Tour de France</td>
                        <td id="T_a44fa_row18_col2" class="data row18 col2" >Among Us</td>
                        <td id="T_a44fa_row18_col3" class="data row18 col3" >List of wins by Astana Pro Team and its successors</td>
                        <td id="T_a44fa_row18_col4" class="data row18 col4" >List of wins by Astana Pro Team and its successors</td>
                        <td id="T_a44fa_row18_col5" class="data row18 col5" >2013 Vuelta a España</td>
                        <td id="T_a44fa_row18_col6" class="data row18 col6" >Fabio Aru</td>
            </tr>
            <tr>
                        <th id="T_a44fa_level0_row19" class="row_heading level0 row19" >19</th>
                        <td id="T_a44fa_row19_col0" class="data row19 col0" >Prince Philip, Duke of Edinburgh</td>
                        <td id="T_a44fa_row19_col1" class="data row19 col1" >Andy Schleck</td>
                        <td id="T_a44fa_row19_col2" class="data row19 col2" >Attempts to overturn the 2020 United States presidential election</td>
                        <td id="T_a44fa_row19_col3" class="data row19 col3" >Egan Bernal</td>
                        <td id="T_a44fa_row19_col4" class="data row19 col4" >List of wins by Chazal and its successors</td>
                        <td id="T_a44fa_row19_col5" class="data row19 col5" >Adam Myerson</td>
                        <td id="T_a44fa_row19_col6" class="data row19 col6" >Michael Matthews (cyclist)</td>
            </tr>
    </tbody></table></div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>FN17
Next edit: 2021 NJ/NY Gotham FC season
</pre></div>
</div>
<div class="output text_html"><style  type="text/css" >
#T_d3f29_row0_col0,#T_d3f29_row3_col1,#T_d3f29_row3_col3,#T_d3f29_row3_col5{
            font-weight:  bold;
            color:  red;
        }#T_d3f29_row0_col1,#T_d3f29_row0_col3,#T_d3f29_row0_col5,#T_d3f29_row1_col0,#T_d3f29_row1_col1,#T_d3f29_row1_col3,#T_d3f29_row1_col5,#T_d3f29_row2_col0,#T_d3f29_row2_col1,#T_d3f29_row2_col3,#T_d3f29_row2_col5,#T_d3f29_row3_col0,#T_d3f29_row3_col2,#T_d3f29_row4_col0,#T_d3f29_row4_col1,#T_d3f29_row4_col5,#T_d3f29_row5_col0,#T_d3f29_row5_col1,#T_d3f29_row5_col5,#T_d3f29_row6_col0,#T_d3f29_row6_col1,#T_d3f29_row6_col3,#T_d3f29_row6_col5,#T_d3f29_row7_col0,#T_d3f29_row7_col1,#T_d3f29_row7_col5,#T_d3f29_row8_col0,#T_d3f29_row8_col1,#T_d3f29_row8_col5,#T_d3f29_row9_col0,#T_d3f29_row9_col1,#T_d3f29_row9_col5,#T_d3f29_row10_col0,#T_d3f29_row10_col1,#T_d3f29_row10_col5,#T_d3f29_row11_col0,#T_d3f29_row11_col1,#T_d3f29_row11_col5,#T_d3f29_row12_col0,#T_d3f29_row12_col1,#T_d3f29_row12_col5,#T_d3f29_row13_col0,#T_d3f29_row13_col1,#T_d3f29_row13_col5,#T_d3f29_row14_col0,#T_d3f29_row14_col1,#T_d3f29_row14_col5,#T_d3f29_row15_col0,#T_d3f29_row15_col1,#T_d3f29_row15_col5,#T_d3f29_row16_col0,#T_d3f29_row16_col1,#T_d3f29_row16_col5,#T_d3f29_row17_col0,#T_d3f29_row17_col1,#T_d3f29_row17_col5,#T_d3f29_row18_col0,#T_d3f29_row18_col1,#T_d3f29_row18_col5,#T_d3f29_row19_col1,#T_d3f29_row19_col5{
            font-weight:  bold;
            color:  black;
        }#T_d3f29_row0_col2,#T_d3f29_row0_col4,#T_d3f29_row0_col6,#T_d3f29_row1_col2,#T_d3f29_row1_col4,#T_d3f29_row1_col6,#T_d3f29_row2_col2,#T_d3f29_row2_col4,#T_d3f29_row2_col6,#T_d3f29_row3_col4,#T_d3f29_row3_col6,#T_d3f29_row4_col2,#T_d3f29_row4_col3,#T_d3f29_row4_col4,#T_d3f29_row4_col6,#T_d3f29_row5_col2,#T_d3f29_row5_col3,#T_d3f29_row5_col4,#T_d3f29_row5_col6,#T_d3f29_row6_col2,#T_d3f29_row6_col4,#T_d3f29_row6_col6,#T_d3f29_row7_col2,#T_d3f29_row7_col3,#T_d3f29_row7_col4,#T_d3f29_row7_col6,#T_d3f29_row8_col2,#T_d3f29_row8_col3,#T_d3f29_row8_col4,#T_d3f29_row8_col6,#T_d3f29_row9_col2,#T_d3f29_row9_col3,#T_d3f29_row9_col4,#T_d3f29_row9_col6,#T_d3f29_row10_col2,#T_d3f29_row10_col3,#T_d3f29_row10_col4,#T_d3f29_row10_col6,#T_d3f29_row11_col2,#T_d3f29_row11_col3,#T_d3f29_row11_col4,#T_d3f29_row11_col6,#T_d3f29_row12_col2,#T_d3f29_row12_col3,#T_d3f29_row12_col4,#T_d3f29_row12_col6,#T_d3f29_row13_col2,#T_d3f29_row13_col3,#T_d3f29_row13_col4,#T_d3f29_row13_col6,#T_d3f29_row14_col2,#T_d3f29_row14_col3,#T_d3f29_row14_col4,#T_d3f29_row14_col6,#T_d3f29_row15_col2,#T_d3f29_row15_col3,#T_d3f29_row15_col4,#T_d3f29_row15_col6,#T_d3f29_row16_col2,#T_d3f29_row16_col3,#T_d3f29_row16_col4,#T_d3f29_row16_col6,#T_d3f29_row17_col2,#T_d3f29_row17_col3,#T_d3f29_row17_col4,#T_d3f29_row17_col6,#T_d3f29_row18_col2,#T_d3f29_row18_col3,#T_d3f29_row18_col4,#T_d3f29_row18_col6,#T_d3f29_row19_col0,#T_d3f29_row19_col2,#T_d3f29_row19_col3,#T_d3f29_row19_col4,#T_d3f29_row19_col6{
            font-weight:  normal;
            color:  black;
        }</style><table id="T_d3f29_" ><thead>    <tr>        <th class="blank level0" ></th>        <th class="col_heading level0 col0" >Recent</th>        <th class="col_heading level0 col1" >Frequent</th>        <th class="col_heading level0 col2" >Popularity</th>        <th class="col_heading level0 col3" >Implicit</th>        <th class="col_heading level0 col4" >Implicit_filtered</th>        <th class="col_heading level0 col5" >bm25</th>        <th class="col_heading level0 col6" >bm25_filtered</th>    </tr></thead><tbody>
                <tr>
                        <th id="T_d3f29_level0_row0" class="row_heading level0 row0" >0</th>
                        <td id="T_d3f29_row0_col0" class="data row0 col0" >2021 NJ/NY Gotham FC season</td>
                        <td id="T_d3f29_row0_col1" class="data row0 col1" >2020 Sky Blue FC season</td>
                        <td id="T_d3f29_row0_col2" class="data row0 col2" >Prince Philip, Duke of Edinburgh</td>
                        <td id="T_d3f29_row0_col3" class="data row0 col3" >NJ/NY Gotham FC</td>
                        <td id="T_d3f29_row0_col4" class="data row0 col4" >Orlando Pride</td>
                        <td id="T_d3f29_row0_col5" class="data row0 col5" >NJ/NY Gotham FC</td>
                        <td id="T_d3f29_row0_col6" class="data row0 col6" >2020 Pennsylvania State Treasurer election</td>
            </tr>
            <tr>
                        <th id="T_d3f29_level0_row1" class="row_heading level0 row1" >1</th>
                        <td id="T_d3f29_row1_col0" class="data row1 col0" >NJ/NY Gotham FC</td>
                        <td id="T_d3f29_row1_col1" class="data row1 col1" >NJ/NY Gotham FC</td>
                        <td id="T_d3f29_row1_col2" class="data row1 col2" >2020–2021 Belarusian protests</td>
                        <td id="T_d3f29_row1_col3" class="data row1 col3" >2020 Sky Blue FC season</td>
                        <td id="T_d3f29_row1_col4" class="data row1 col4" >2020 Orlando City SC season</td>
                        <td id="T_d3f29_row1_col5" class="data row1 col5" >2020 Pennsylvania Auditor General election</td>
                        <td id="T_d3f29_row1_col6" class="data row1 col6" >Washington Spirit</td>
            </tr>
            <tr>
                        <th id="T_d3f29_level0_row2" class="row_heading level0 row2" >2</th>
                        <td id="T_d3f29_row2_col0" class="data row2 col0" >2020–21 EFL Championship</td>
                        <td id="T_d3f29_row2_col1" class="data row2 col1" >2020 Pennsylvania Auditor General election</td>
                        <td id="T_d3f29_row2_col2" class="data row2 col2" >Chadwick Boseman</td>
                        <td id="T_d3f29_row2_col3" class="data row2 col3" >2020 Pennsylvania Auditor General election</td>
                        <td id="T_d3f29_row2_col4" class="data row2 col4" >Alex Morgan</td>
                        <td id="T_d3f29_row2_col5" class="data row2 col5" >Nahomi Kawasumi</td>
                        <td id="T_d3f29_row2_col6" class="data row2 col6" >2020 United States Senate election in Wyoming</td>
            </tr>
            <tr>
                        <th id="T_d3f29_level0_row3" class="row_heading level0 row3" >3</th>
                        <td id="T_d3f29_row3_col0" class="data row3 col0" >2022 Pennsylvania gubernatorial election</td>
                        <td id="T_d3f29_row3_col1" class="data row3 col1" >2021 NJ/NY Gotham FC season</td>
                        <td id="T_d3f29_row3_col2" class="data row3 col2" >2024 United States presidential election</td>
                        <td id="T_d3f29_row3_col3" class="data row3 col3" >2021 NJ/NY Gotham FC season</td>
                        <td id="T_d3f29_row3_col4" class="data row3 col4" >2021 Orlando City SC season</td>
                        <td id="T_d3f29_row3_col5" class="data row3 col5" >2021 NJ/NY Gotham FC season</td>
                        <td id="T_d3f29_row3_col6" class="data row3 col6" >2020 United States Senate election in Alaska</td>
            </tr>
            <tr>
                        <th id="T_d3f29_level0_row4" class="row_heading level0 row4" >4</th>
                        <td id="T_d3f29_row4_col0" class="data row4 col0" >Kostas Tsimikas</td>
                        <td id="T_d3f29_row4_col1" class="data row4 col1" >2022 Pennsylvania gubernatorial election</td>
                        <td id="T_d3f29_row4_col2" class="data row4 col2" >COVID-19 pandemic in the United States</td>
                        <td id="T_d3f29_row4_col3" class="data row4 col3" >Orlando Pride</td>
                        <td id="T_d3f29_row4_col4" class="data row4 col4" >2021 NWSL Draft</td>
                        <td id="T_d3f29_row4_col5" class="data row4 col5" >2022 Pennsylvania gubernatorial election</td>
                        <td id="T_d3f29_row4_col6" class="data row4 col6" >Julia Ashley</td>
            </tr>
            <tr>
                        <th id="T_d3f29_level0_row5" class="row_heading level0 row5" >5</th>
                        <td id="T_d3f29_row5_col0" class="data row5 col0" >2020–21 Liverpool F.C. season</td>
                        <td id="T_d3f29_row5_col1" class="data row5 col1" >2020 NWSL Challenge Cup</td>
                        <td id="T_d3f29_row5_col2" class="data row5 col2" >Black Lives Matter</td>
                        <td id="T_d3f29_row5_col3" class="data row5 col3" >2020 Orlando City SC season</td>
                        <td id="T_d3f29_row5_col4" class="data row5 col4" >2021 Orlando Pride season</td>
                        <td id="T_d3f29_row5_col5" class="data row5 col5" >Timothy DeFoor</td>
                        <td id="T_d3f29_row5_col6" class="data row5 col6" >2020 United States Senate election in Delaware</td>
            </tr>
            <tr>
                        <th id="T_d3f29_level0_row6" class="row_heading level0 row6" >6</th>
                        <td id="T_d3f29_row6_col0" class="data row6 col0" >2020–21 Rangers F.C. season</td>
                        <td id="T_d3f29_row6_col1" class="data row6 col1" >2022 United States Senate election in Pennsylvania</td>
                        <td id="T_d3f29_row6_col2" class="data row6 col2" >George Floyd</td>
                        <td id="T_d3f29_row6_col3" class="data row6 col3" >2020 NWSL Challenge Cup</td>
                        <td id="T_d3f29_row6_col4" class="data row6 col4" >Daryl Dike</td>
                        <td id="T_d3f29_row6_col5" class="data row6 col5" >2020 Sky Blue FC season</td>
                        <td id="T_d3f29_row6_col6" class="data row6 col6" >2020 United States Senate election in Kentucky</td>
            </tr>
            <tr>
                        <th id="T_d3f29_level0_row7" class="row_heading level0 row7" >7</th>
                        <td id="T_d3f29_row7_col0" class="data row7 col0" >Chicago Red Stars</td>
                        <td id="T_d3f29_row7_col1" class="data row7 col1" >Towamencin Township, Montgomery County, Pennsylvania</td>
                        <td id="T_d3f29_row7_col2" class="data row7 col2" >Derek Chauvin</td>
                        <td id="T_d3f29_row7_col3" class="data row7 col3" >Alex Morgan</td>
                        <td id="T_d3f29_row7_col4" class="data row7 col4" >Andrés Perea</td>
                        <td id="T_d3f29_row7_col5" class="data row7 col5" >Government of Pennsylvania</td>
                        <td id="T_d3f29_row7_col6" class="data row7 col6" >Olympique Lyonnais Féminin</td>
            </tr>
            <tr>
                        <th id="T_d3f29_level0_row8" class="row_heading level0 row8" >8</th>
                        <td id="T_d3f29_row8_col0" class="data row8 col0" >Portland Thorns FC</td>
                        <td id="T_d3f29_row8_col1" class="data row8 col1" >2020–21 Liverpool F.C. season</td>
                        <td id="T_d3f29_row8_col2" class="data row8 col2" >2021 Israel–Palestine crisis</td>
                        <td id="T_d3f29_row8_col3" class="data row8 col3" >2021 Orlando City SC season</td>
                        <td id="T_d3f29_row8_col4" class="data row8 col4" >List of Orlando City SC records and statistics</td>
                        <td id="T_d3f29_row8_col5" class="data row8 col5" >Elizabeth Eddy</td>
                        <td id="T_d3f29_row8_col6" class="data row8 col6" >Houston Dash</td>
            </tr>
            <tr>
                        <th id="T_d3f29_level0_row9" class="row_heading level0 row9" >9</th>
                        <td id="T_d3f29_row9_col0" class="data row9 col0" >2021 NWSL Challenge Cup</td>
                        <td id="T_d3f29_row9_col1" class="data row9 col1" >Timothy DeFoor</td>
                        <td id="T_d3f29_row9_col2" class="data row9 col2" >Zack Snyder's Justice League</td>
                        <td id="T_d3f29_row9_col3" class="data row9 col3" >2021 NWSL Draft</td>
                        <td id="T_d3f29_row9_col4" class="data row9 col4" >Exploria Stadium</td>
                        <td id="T_d3f29_row9_col5" class="data row9 col5" >Towamencin Township, Montgomery County, Pennsylvania</td>
                        <td id="T_d3f29_row9_col6" class="data row9 col6" >2020 Portland Thorns FC season</td>
            </tr>
            <tr>
                        <th id="T_d3f29_level0_row10" class="row_heading level0 row10" >10</th>
                        <td id="T_d3f29_row10_col0" class="data row10 col0" >2020 Pennsylvania Auditor General election</td>
                        <td id="T_d3f29_row10_col1" class="data row10 col1" >2019–20 Liverpool F.C. season</td>
                        <td id="T_d3f29_row10_col2" class="data row10 col2" >2020</td>
                        <td id="T_d3f29_row10_col3" class="data row10 col3" >2021 Orlando Pride season</td>
                        <td id="T_d3f29_row10_col4" class="data row10 col4" >Orlando City SC</td>
                        <td id="T_d3f29_row10_col5" class="data row10 col5" >2019 Sky Blue FC season</td>
                        <td id="T_d3f29_row10_col6" class="data row10 col6" >2020–21 Frauen-Bundesliga</td>
            </tr>
            <tr>
                        <th id="T_d3f29_level0_row11" class="row_heading level0 row11" >11</th>
                        <td id="T_d3f29_row11_col0" class="data row11 col0" >2021 Sky Blue FC season</td>
                        <td id="T_d3f29_row11_col1" class="data row11 col1" >Elizabeth Eddy</td>
                        <td id="T_d3f29_row11_col2" class="data row11 col2" >Inauguration of Joe Biden</td>
                        <td id="T_d3f29_row11_col3" class="data row11 col3" >Daryl Dike</td>
                        <td id="T_d3f29_row11_col4" class="data row11 col4" >All-time Orlando City SC (MLS) roster</td>
                        <td id="T_d3f29_row11_col5" class="data row11 col5" >Daphne Corboz</td>
                        <td id="T_d3f29_row11_col6" class="data row11 col6" >North Carolina Courage</td>
            </tr>
            <tr>
                        <th id="T_d3f29_level0_row12" class="row_heading level0 row12" >12</th>
                        <td id="T_d3f29_row12_col0" class="data row12 col0" >2022 United States Senate election in Pennsylvania</td>
                        <td id="T_d3f29_row12_col1" class="data row12 col1" >Robert Redford</td>
                        <td id="T_d3f29_row12_col2" class="data row12 col2" >WandaVision</td>
                        <td id="T_d3f29_row12_col3" class="data row12 col3" >Andrés Perea</td>
                        <td id="T_d3f29_row12_col4" class="data row12 col4" >Chris Mueller (soccer)</td>
                        <td id="T_d3f29_row12_col5" class="data row12 col5" >Michael Lamb (politician)</td>
                        <td id="T_d3f29_row12_col6" class="data row12 col6" >Erin Simon</td>
            </tr>
            <tr>
                        <th id="T_d3f29_level0_row13" class="row_heading level0 row13" >13</th>
                        <td id="T_d3f29_row13_col0" class="data row13 col0" >2021 California gubernatorial recall election</td>
                        <td id="T_d3f29_row13_col1" class="data row13 col1" >Nahomi Kawasumi</td>
                        <td id="T_d3f29_row13_col2" class="data row13 col2" >COVID-19 misinformation</td>
                        <td id="T_d3f29_row13_col3" class="data row13 col3" >List of Orlando City SC records and statistics</td>
                        <td id="T_d3f29_row13_col4" class="data row13 col4" >Emily Sonnett</td>
                        <td id="T_d3f29_row13_col5" class="data row13 col5" >2020 NWSL Challenge Cup</td>
                        <td id="T_d3f29_row13_col6" class="data row13 col6" >Michelle Betos</td>
            </tr>
            <tr>
                        <th id="T_d3f29_level0_row14" class="row_heading level0 row14" >14</th>
                        <td id="T_d3f29_row14_col0" class="data row14 col0" >Government of Pennsylvania</td>
                        <td id="T_d3f29_row14_col1" class="data row14 col1" >Spider-Man: Miles Morales</td>
                        <td id="T_d3f29_row14_col2" class="data row14 col2" >2021 Suez Canal obstruction</td>
                        <td id="T_d3f29_row14_col3" class="data row14 col3" >Exploria Stadium</td>
                        <td id="T_d3f29_row14_col4" class="data row14 col4" >2020 Orlando Pride season</td>
                        <td id="T_d3f29_row14_col5" class="data row14 col5" >Sabrina Flores</td>
                        <td id="T_d3f29_row14_col6" class="data row14 col6" >Brittany Ratcliffe</td>
            </tr>
            <tr>
                        <th id="T_d3f29_level0_row15" class="row_heading level0 row15" >15</th>
                        <td id="T_d3f29_row15_col0" class="data row15 col0" >Rawa, Iraq</td>
                        <td id="T_d3f29_row15_col1" class="data row15 col1" >2019 Sky Blue FC season</td>
                        <td id="T_d3f29_row15_col2" class="data row15 col2" >2020 Atlantic hurricane season</td>
                        <td id="T_d3f29_row15_col3" class="data row15 col3" >Orlando City SC</td>
                        <td id="T_d3f29_row15_col4" class="data row15 col4" >Jade Moore</td>
                        <td id="T_d3f29_row15_col5" class="data row15 col5" >2015 Sky Blue FC season</td>
                        <td id="T_d3f29_row15_col6" class="data row15 col6" >Madeline Nolf</td>
            </tr>
            <tr>
                        <th id="T_d3f29_level0_row16" class="row_heading level0 row16" >16</th>
                        <td id="T_d3f29_row16_col0" class="data row16 col0" >Towamencin Township, Montgomery County, Pennsylvania</td>
                        <td id="T_d3f29_row16_col1" class="data row16 col1" >Kailen Sheridan</td>
                        <td id="T_d3f29_row16_col2" class="data row16 col2" >Wonder Woman 1984</td>
                        <td id="T_d3f29_row16_col3" class="data row16 col3" >All-time Orlando City SC (MLS) roster</td>
                        <td id="T_d3f29_row16_col4" class="data row16 col4" >Kyle Smith (soccer, born 1992)</td>
                        <td id="T_d3f29_row16_col5" class="data row16 col5" >2017 Sky Blue FC season</td>
                        <td id="T_d3f29_row16_col6" class="data row16 col6" >Katie McClure</td>
            </tr>
            <tr>
                        <th id="T_d3f29_level0_row17" class="row_heading level0 row17" >17</th>
                        <td id="T_d3f29_row17_col0" class="data row17 col0" >Marjorie Taylor Greene</td>
                        <td id="T_d3f29_row17_col1" class="data row17 col1" >2021 NWSL Challenge Cup</td>
                        <td id="T_d3f29_row17_col2" class="data row17 col2" >Diego Maradona</td>
                        <td id="T_d3f29_row17_col3" class="data row17 col3" >Chris Mueller (soccer)</td>
                        <td id="T_d3f29_row17_col4" class="data row17 col4" >United States men's national soccer team</td>
                        <td id="T_d3f29_row17_col5" class="data row17 col5" >2016 Sky Blue FC season</td>
                        <td id="T_d3f29_row17_col6" class="data row17 col6" >Cece Kizer</td>
            </tr>
            <tr>
                        <th id="T_d3f29_level0_row18" class="row_heading level0 row18" >18</th>
                        <td id="T_d3f29_row18_col0" class="data row18 col0" >List of The Dick Van Dyke Show episodes</td>
                        <td id="T_d3f29_row18_col1" class="data row18 col1" >Évelyne Viens</td>
                        <td id="T_d3f29_row18_col2" class="data row18 col2" >Among Us</td>
                        <td id="T_d3f29_row18_col3" class="data row18 col3" >Emily Sonnett</td>
                        <td id="T_d3f29_row18_col4" class="data row18 col4" >All-time Orlando Pride roster</td>
                        <td id="T_d3f29_row18_col5" class="data row18 col5" >2021 Sky Blue FC season</td>
                        <td id="T_d3f29_row18_col6" class="data row18 col6" >2020 United States House of Representatives elections in Pennsylvania</td>
            </tr>
            <tr>
                        <th id="T_d3f29_level0_row19" class="row_heading level0 row19" >19</th>
                        <td id="T_d3f29_row19_col0" class="data row19 col0" >Prince Philip, Duke of Edinburgh</td>
                        <td id="T_d3f29_row19_col1" class="data row19 col1" >List of media notable for being in development hell</td>
                        <td id="T_d3f29_row19_col2" class="data row19 col2" >Attempts to overturn the 2020 United States presidential election</td>
                        <td id="T_d3f29_row19_col3" class="data row19 col3" >2020 Orlando Pride season</td>
                        <td id="T_d3f29_row19_col4" class="data row19 col4" >Benji Michel</td>
                        <td id="T_d3f29_row19_col5" class="data row19 col5" >Henry King (musician)</td>
                        <td id="T_d3f29_row19_col6" class="data row19 col6" >Taylor Leach</td>
            </tr>
    </tbody></table></div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>CrimsonComputer
Next edit: List of Melodi Grand Prix winners
</pre></div>
</div>
<div class="output text_html"><style  type="text/css" >
#T_36abe_row0_col0,#T_36abe_row0_col1,#T_36abe_row0_col5,#T_36abe_row1_col0,#T_36abe_row1_col1,#T_36abe_row1_col5,#T_36abe_row2_col0,#T_36abe_row2_col1,#T_36abe_row2_col5,#T_36abe_row3_col0,#T_36abe_row3_col1,#T_36abe_row3_col5,#T_36abe_row4_col0,#T_36abe_row4_col1,#T_36abe_row4_col5,#T_36abe_row5_col0,#T_36abe_row5_col1,#T_36abe_row5_col5,#T_36abe_row6_col0,#T_36abe_row6_col1,#T_36abe_row6_col5,#T_36abe_row7_col0,#T_36abe_row7_col1,#T_36abe_row7_col5,#T_36abe_row8_col0,#T_36abe_row8_col1,#T_36abe_row8_col5,#T_36abe_row9_col0,#T_36abe_row9_col1,#T_36abe_row9_col5,#T_36abe_row10_col0,#T_36abe_row10_col1,#T_36abe_row10_col5,#T_36abe_row11_col0,#T_36abe_row11_col1,#T_36abe_row11_col5,#T_36abe_row12_col0,#T_36abe_row12_col1,#T_36abe_row12_col5,#T_36abe_row13_col0,#T_36abe_row13_col1,#T_36abe_row13_col5,#T_36abe_row14_col0,#T_36abe_row14_col1,#T_36abe_row14_col5,#T_36abe_row15_col0,#T_36abe_row15_col1,#T_36abe_row15_col5,#T_36abe_row16_col0,#T_36abe_row16_col1,#T_36abe_row16_col5,#T_36abe_row17_col0,#T_36abe_row17_col1,#T_36abe_row17_col5,#T_36abe_row18_col0,#T_36abe_row18_col1,#T_36abe_row18_col5,#T_36abe_row19_col1,#T_36abe_row19_col5{
            font-weight:  bold;
            color:  black;
        }#T_36abe_row0_col2,#T_36abe_row0_col3,#T_36abe_row0_col4,#T_36abe_row0_col6,#T_36abe_row1_col2,#T_36abe_row1_col3,#T_36abe_row1_col4,#T_36abe_row1_col6,#T_36abe_row2_col2,#T_36abe_row2_col3,#T_36abe_row2_col4,#T_36abe_row2_col6,#T_36abe_row3_col2,#T_36abe_row3_col3,#T_36abe_row3_col4,#T_36abe_row3_col6,#T_36abe_row4_col2,#T_36abe_row4_col3,#T_36abe_row4_col4,#T_36abe_row4_col6,#T_36abe_row5_col2,#T_36abe_row5_col3,#T_36abe_row5_col4,#T_36abe_row5_col6,#T_36abe_row6_col2,#T_36abe_row6_col3,#T_36abe_row6_col4,#T_36abe_row6_col6,#T_36abe_row7_col2,#T_36abe_row7_col3,#T_36abe_row7_col4,#T_36abe_row7_col6,#T_36abe_row8_col2,#T_36abe_row8_col3,#T_36abe_row8_col4,#T_36abe_row8_col6,#T_36abe_row9_col2,#T_36abe_row9_col3,#T_36abe_row9_col4,#T_36abe_row9_col6,#T_36abe_row10_col2,#T_36abe_row10_col3,#T_36abe_row10_col4,#T_36abe_row10_col6,#T_36abe_row11_col2,#T_36abe_row11_col3,#T_36abe_row11_col4,#T_36abe_row11_col6,#T_36abe_row12_col2,#T_36abe_row12_col3,#T_36abe_row12_col4,#T_36abe_row12_col6,#T_36abe_row13_col2,#T_36abe_row13_col3,#T_36abe_row13_col4,#T_36abe_row13_col6,#T_36abe_row14_col2,#T_36abe_row14_col3,#T_36abe_row14_col4,#T_36abe_row14_col6,#T_36abe_row15_col2,#T_36abe_row15_col3,#T_36abe_row15_col4,#T_36abe_row15_col6,#T_36abe_row16_col2,#T_36abe_row16_col3,#T_36abe_row16_col4,#T_36abe_row16_col6,#T_36abe_row17_col2,#T_36abe_row17_col3,#T_36abe_row17_col4,#T_36abe_row17_col6,#T_36abe_row18_col2,#T_36abe_row18_col3,#T_36abe_row18_col4,#T_36abe_row18_col6,#T_36abe_row19_col0,#T_36abe_row19_col2,#T_36abe_row19_col3,#T_36abe_row19_col4,#T_36abe_row19_col6{
            font-weight:  normal;
            color:  black;
        }</style><table id="T_36abe_" ><thead>    <tr>        <th class="blank level0" ></th>        <th class="col_heading level0 col0" >Recent</th>        <th class="col_heading level0 col1" >Frequent</th>        <th class="col_heading level0 col2" >Popularity</th>        <th class="col_heading level0 col3" >Implicit</th>        <th class="col_heading level0 col4" >Implicit_filtered</th>        <th class="col_heading level0 col5" >bm25</th>        <th class="col_heading level0 col6" >bm25_filtered</th>    </tr></thead><tbody>
                <tr>
                        <th id="T_36abe_level0_row0" class="row_heading level0 row0" >0</th>
                        <td id="T_36abe_row0_col0" class="data row0 col0" >Krista Siegfrids</td>
                        <td id="T_36abe_row0_col1" class="data row0 col1" >Scratch (programming language)</td>
                        <td id="T_36abe_row0_col2" class="data row0 col2" >Prince Philip, Duke of Edinburgh</td>
                        <td id="T_36abe_row0_col3" class="data row0 col3" >Mobile operating system</td>
                        <td id="T_36abe_row0_col4" class="data row0 col4" >Mobile operating system</td>
                        <td id="T_36abe_row0_col5" class="data row0 col5" >Groovy Gorilla</td>
                        <td id="T_36abe_row0_col6" class="data row0 col6" >Mac transition to Apple silicon</td>
            </tr>
            <tr>
                        <th id="T_36abe_level0_row1" class="row_heading level0 row1" >1</th>
                        <td id="T_36abe_row1_col0" class="data row1 col0" >List of teams and cyclists in the 2021 Tour de France</td>
                        <td id="T_36abe_row1_col1" class="data row1 col1" >Microsoft Teams</td>
                        <td id="T_36abe_row1_col2" class="data row1 col2" >2020–2021 Belarusian protests</td>
                        <td id="T_36abe_row1_col3" class="data row1 col3" >Adobe Flash</td>
                        <td id="T_36abe_row1_col4" class="data row1 col4" >Adobe Flash</td>
                        <td id="T_36abe_row1_col5" class="data row1 col5" >Qaleh Tarfi</td>
                        <td id="T_36abe_row1_col6" class="data row1 col6" >Kanchō</td>
            </tr>
            <tr>
                        <th id="T_36abe_level0_row2" class="row_heading level0 row2" >2</th>
                        <td id="T_36abe_row2_col0" class="data row2 col0" >List of MPs elected in the 2019 United Kingdom general election</td>
                        <td id="T_36abe_row2_col1" class="data row2 col1" >Natural dye</td>
                        <td id="T_36abe_row2_col2" class="data row2 col2" >Chadwick Boseman</td>
                        <td id="T_36abe_row2_col3" class="data row2 col3" >Web browser</td>
                        <td id="T_36abe_row2_col4" class="data row2 col4" >Web browser</td>
                        <td id="T_36abe_row2_col5" class="data row2 col5" >Solanum violaceum</td>
                        <td id="T_36abe_row2_col6" class="data row2 col6" >MacOS Big Sur</td>
            </tr>
            <tr>
                        <th id="T_36abe_level0_row3" class="row_heading level0 row3" >3</th>
                        <td id="T_36abe_row3_col0" class="data row3 col0" >P. Sathasivam</td>
                        <td id="T_36abe_row3_col1" class="data row3 col1" >List of most-subscribed YouTube channels</td>
                        <td id="T_36abe_row3_col2" class="data row3 col2" >2024 United States presidential election</td>
                        <td id="T_36abe_row3_col3" class="data row3 col3" >Motherboard</td>
                        <td id="T_36abe_row3_col4" class="data row3 col4" >Motherboard</td>
                        <td id="T_36abe_row3_col5" class="data row3 col5" >Hirsute Hippo</td>
                        <td id="T_36abe_row3_col6" class="data row3 col6" >ScratchJr</td>
            </tr>
            <tr>
                        <th id="T_36abe_level0_row4" class="row_heading level0 row4" >4</th>
                        <td id="T_36abe_row4_col0" class="data row4 col0" >-yllion</td>
                        <td id="T_36abe_row4_col1" class="data row4 col1" >Raspberry Pi OS</td>
                        <td id="T_36abe_row4_col2" class="data row4 col2" >COVID-19 pandemic in the United States</td>
                        <td id="T_36abe_row4_col3" class="data row4 col3" >Adobe Flash Player</td>
                        <td id="T_36abe_row4_col4" class="data row4 col4" >Adobe Flash Player</td>
                        <td id="T_36abe_row4_col5" class="data row4 col5" >Morphic (software)</td>
                        <td id="T_36abe_row4_col6" class="data row4 col6" >Rosetta (software)</td>
            </tr>
            <tr>
                        <th id="T_36abe_level0_row5" class="row_heading level0 row5" >5</th>
                        <td id="T_36abe_row5_col0" class="data row5 col0" >Age verification system</td>
                        <td id="T_36abe_row5_col1" class="data row5 col1" >P. Sathasivam</td>
                        <td id="T_36abe_row5_col2" class="data row5 col2" >Black Lives Matter</td>
                        <td id="T_36abe_row5_col3" class="data row5 col3" >Transport Layer Security</td>
                        <td id="T_36abe_row5_col4" class="data row5 col4" >Transport Layer Security</td>
                        <td id="T_36abe_row5_col5" class="data row5 col5" >1925 Tour de France</td>
                        <td id="T_36abe_row5_col6" class="data row5 col6" >Mac Mini</td>
            </tr>
            <tr>
                        <th id="T_36abe_level0_row6" class="row_heading level0 row6" >6</th>
                        <td id="T_36abe_row6_col0" class="data row6 col0" >Ubuntu version history</td>
                        <td id="T_36abe_row6_col1" class="data row6 col1" >Debian version history</td>
                        <td id="T_36abe_row6_col2" class="data row6 col2" >George Floyd</td>
                        <td id="T_36abe_row6_col3" class="data row6 col3" >DVD</td>
                        <td id="T_36abe_row6_col4" class="data row6 col4" >DVD</td>
                        <td id="T_36abe_row6_col5" class="data row6 col5" >Gerbil (disambiguation)</td>
                        <td id="T_36abe_row6_col6" class="data row6 col6" >Apple A12Z</td>
            </tr>
            <tr>
                        <th id="T_36abe_level0_row7" class="row_heading level0 row7" >7</th>
                        <td id="T_36abe_row7_col0" class="data row7 col0" >Thourio, Evros</td>
                        <td id="T_36abe_row7_col1" class="data row7 col1" >Krista Siegfrids</td>
                        <td id="T_36abe_row7_col2" class="data row7 col2" >Derek Chauvin</td>
                        <td id="T_36abe_row7_col3" class="data row7 col3" >Email</td>
                        <td id="T_36abe_row7_col4" class="data row7 col4" >Email</td>
                        <td id="T_36abe_row7_col5" class="data row7 col5" >Krista Siegfrids</td>
                        <td id="T_36abe_row7_col6" class="data row7 col6" >Gerald Betts</td>
            </tr>
            <tr>
                        <th id="T_36abe_level0_row8" class="row_heading level0 row8" >8</th>
                        <td id="T_36abe_row8_col0" class="data row8 col0" >Scratch (programming language)</td>
                        <td id="T_36abe_row8_col1" class="data row8 col1" >Qaleh Tarfi</td>
                        <td id="T_36abe_row8_col2" class="data row8 col2" >2021 Israel–Palestine crisis</td>
                        <td id="T_36abe_row8_col3" class="data row8 col3" >Google Drive</td>
                        <td id="T_36abe_row8_col4" class="data row8 col4" >Google Drive</td>
                        <td id="T_36abe_row8_col5" class="data row8 col5" >Ogwashi Ukwu</td>
                        <td id="T_36abe_row8_col6" class="data row8 col6" >Apple M1</td>
            </tr>
            <tr>
                        <th id="T_36abe_level0_row9" class="row_heading level0 row9" >9</th>
                        <td id="T_36abe_row9_col0" class="data row9 col0" >Debian version history</td>
                        <td id="T_36abe_row9_col1" class="data row9 col1" >David Coote (cricketer)</td>
                        <td id="T_36abe_row9_col2" class="data row9 col2" >Zack Snyder's Justice League</td>
                        <td id="T_36abe_row9_col3" class="data row9 col3" >Simple Mail Transfer Protocol</td>
                        <td id="T_36abe_row9_col4" class="data row9 col4" >Simple Mail Transfer Protocol</td>
                        <td id="T_36abe_row9_col5" class="data row9 col5" >Cadbury Dairy Milk Caramel</td>
                        <td id="T_36abe_row9_col6" class="data row9 col6" >NORAD Tracks Santa</td>
            </tr>
            <tr>
                        <th id="T_36abe_level0_row10" class="row_heading level0 row10" >10</th>
                        <td id="T_36abe_row10_col0" class="data row10 col0" >List of Google April Fools' Day jokes</td>
                        <td id="T_36abe_row10_col1" class="data row10 col1" >Apple-designed processors</td>
                        <td id="T_36abe_row10_col2" class="data row10 col2" >2020</td>
                        <td id="T_36abe_row10_col3" class="data row10 col3" >Google Play</td>
                        <td id="T_36abe_row10_col4" class="data row10 col4" >Google Play</td>
                        <td id="T_36abe_row10_col5" class="data row10 col5" >David Coote (cricketer)</td>
                        <td id="T_36abe_row10_col6" class="data row10 col6" >2020 Tour of Flanders</td>
            </tr>
            <tr>
                        <th id="T_36abe_level0_row11" class="row_heading level0 row11" >11</th>
                        <td id="T_36abe_row11_col0" class="data row11 col0" >Sergey Stepanov (musician)</td>
                        <td id="T_36abe_row11_col1" class="data row11 col1" >Mojang Studios</td>
                        <td id="T_36abe_row11_col2" class="data row11 col2" >Inauguration of Joe Biden</td>
                        <td id="T_36abe_row11_col3" class="data row11 col3" >USB</td>
                        <td id="T_36abe_row11_col4" class="data row11 col4" >USB</td>
                        <td id="T_36abe_row11_col5" class="data row11 col5" >Thourio, Evros</td>
                        <td id="T_36abe_row11_col6" class="data row11 col6" >Starline</td>
            </tr>
            <tr>
                        <th id="T_36abe_level0_row12" class="row_heading level0 row12" >12</th>
                        <td id="T_36abe_row12_col0" class="data row12 col0" >Debian GNU/kFreeBSD</td>
                        <td id="T_36abe_row12_col1" class="data row12 col1" >Linux Mint version history</td>
                        <td id="T_36abe_row12_col2" class="data row12 col2" >WandaVision</td>
                        <td id="T_36abe_row12_col3" class="data row12 col3" >Element (software)</td>
                        <td id="T_36abe_row12_col4" class="data row12 col4" >Element (software)</td>
                        <td id="T_36abe_row12_col5" class="data row12 col5" >Crimson-collared tanager</td>
                        <td id="T_36abe_row12_col6" class="data row12 col6" >Junior Eurovision Song Contest 2019</td>
            </tr>
            <tr>
                        <th id="T_36abe_level0_row13" class="row_heading level0 row13" >13</th>
                        <td id="T_36abe_row13_col0" class="data row13 col0" >Debian GNU/Hurd</td>
                        <td id="T_36abe_row13_col1" class="data row13 col1" >Ogwashi Ukwu</td>
                        <td id="T_36abe_row13_col2" class="data row13 col2" >COVID-19 misinformation</td>
                        <td id="T_36abe_row13_col3" class="data row13 col3" >Solid-state drive</td>
                        <td id="T_36abe_row13_col4" class="data row13 col4" >Solid-state drive</td>
                        <td id="T_36abe_row13_col5" class="data row13 col5" >Milk Tray</td>
                        <td id="T_36abe_row13_col6" class="data row13 col6" >Junior Eurovision Song Contest 2016</td>
            </tr>
            <tr>
                        <th id="T_36abe_level0_row14" class="row_heading level0 row14" >14</th>
                        <td id="T_36abe_row14_col0" class="data row14 col0" >Bear spray</td>
                        <td id="T_36abe_row14_col1" class="data row14 col1" >List of South Korean billionaires by net worth</td>
                        <td id="T_36abe_row14_col2" class="data row14 col2" >2021 Suez Canal obstruction</td>
                        <td id="T_36abe_row14_col3" class="data row14 col3" >Google Forms</td>
                        <td id="T_36abe_row14_col4" class="data row14 col4" >Google Forms</td>
                        <td id="T_36abe_row14_col5" class="data row14 col5" >Debian GNU/Hurd</td>
                        <td id="T_36abe_row14_col6" class="data row14 col6" >Fedora (operating system)</td>
            </tr>
            <tr>
                        <th id="T_36abe_level0_row15" class="row_heading level0 row15" >15</th>
                        <td id="T_36abe_row15_col0" class="data row15 col0" >SketchUp</td>
                        <td id="T_36abe_row15_col1" class="data row15 col1" >List of LGBT political parties</td>
                        <td id="T_36abe_row15_col2" class="data row15 col2" >2020 Atlantic hurricane season</td>
                        <td id="T_36abe_row15_col3" class="data row15 col3" >Raspberry Pi</td>
                        <td id="T_36abe_row15_col4" class="data row15 col4" >Raspberry Pi</td>
                        <td id="T_36abe_row15_col5" class="data row15 col5" >Age verification system</td>
                        <td id="T_36abe_row15_col6" class="data row15 col6" >2021 Tour of the Basque Country</td>
            </tr>
            <tr>
                        <th id="T_36abe_level0_row16" class="row_heading level0 row16" >16</th>
                        <td id="T_36abe_row16_col0" class="data row16 col0" >Lasagna (song)</td>
                        <td id="T_36abe_row16_col1" class="data row16 col1" >Ubuntu version history</td>
                        <td id="T_36abe_row16_col2" class="data row16 col2" >Wonder Woman 1984</td>
                        <td id="T_36abe_row16_col3" class="data row16 col3" >Windows 10 editions</td>
                        <td id="T_36abe_row16_col4" class="data row16 col4" >Windows 10 editions</td>
                        <td id="T_36abe_row16_col5" class="data row16 col5" >ASSR</td>
                        <td id="T_36abe_row16_col6" class="data row16 col6" >Junior Eurovision Song Contest 2015</td>
            </tr>
            <tr>
                        <th id="T_36abe_level0_row17" class="row_heading level0 row17" >17</th>
                        <td id="T_36abe_row17_col0" class="data row17 col0" >Hello (Lionel Richie song)</td>
                        <td id="T_36abe_row17_col1" class="data row17 col1" >International availability of McDonald's products</td>
                        <td id="T_36abe_row17_col2" class="data row17 col2" >Diego Maradona</td>
                        <td id="T_36abe_row17_col3" class="data row17 col3" >Web page</td>
                        <td id="T_36abe_row17_col4" class="data row17 col4" >Web page</td>
                        <td id="T_36abe_row17_col5" class="data row17 col5" >SketchUp</td>
                        <td id="T_36abe_row17_col6" class="data row17 col6" >MacBook Air</td>
            </tr>
            <tr>
                        <th id="T_36abe_level0_row18" class="row_heading level0 row18" >18</th>
                        <td id="T_36abe_row18_col0" class="data row18 col0" >List of presidential trips made by Joe Biden (2021)</td>
                        <td id="T_36abe_row18_col1" class="data row18 col1" >Weather-related cancellation</td>
                        <td id="T_36abe_row18_col2" class="data row18 col2" >Among Us</td>
                        <td id="T_36abe_row18_col3" class="data row18 col3" >Chromium (web browser)</td>
                        <td id="T_36abe_row18_col4" class="data row18 col4" >Chromium (web browser)</td>
                        <td id="T_36abe_row18_col5" class="data row18 col5" >Usilampatti</td>
                        <td id="T_36abe_row18_col6" class="data row18 col6" >Dork Diaries</td>
            </tr>
            <tr>
                        <th id="T_36abe_level0_row19" class="row_heading level0 row19" >19</th>
                        <td id="T_36abe_row19_col0" class="data row19 col0" >Prince Philip, Duke of Edinburgh</td>
                        <td id="T_36abe_row19_col1" class="data row19 col1" >Thourio, Evros</td>
                        <td id="T_36abe_row19_col2" class="data row19 col2" >Attempts to overturn the 2020 United States presidential election</td>
                        <td id="T_36abe_row19_col3" class="data row19 col3" >Rainbow table</td>
                        <td id="T_36abe_row19_col4" class="data row19 col4" >Rainbow table</td>
                        <td id="T_36abe_row19_col5" class="data row19 col5" >Nosophobia</td>
                        <td id="T_36abe_row19_col6" class="data row19 col6" >Junior Eurovision Song Contest 2005</td>
            </tr>
    </tbody></table></div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Felipevmvillalobos
Next edit: Miss Universe 2020
</pre></div>
</div>
<div class="output text_html"><style  type="text/css" >
#T_04922_row0_col0,#T_04922_row5_col3,#T_04922_row6_col1{
            font-weight:  bold;
            color:  red;
        }#T_04922_row0_col1,#T_04922_row0_col3,#T_04922_row0_col5,#T_04922_row1_col0,#T_04922_row1_col1,#T_04922_row1_col5,#T_04922_row2_col0,#T_04922_row2_col1,#T_04922_row2_col3,#T_04922_row2_col5,#T_04922_row3_col0,#T_04922_row3_col1,#T_04922_row3_col5,#T_04922_row4_col0,#T_04922_row4_col1,#T_04922_row4_col5,#T_04922_row5_col0,#T_04922_row5_col1,#T_04922_row5_col5,#T_04922_row6_col0,#T_04922_row6_col3,#T_04922_row6_col5,#T_04922_row7_col0,#T_04922_row7_col1,#T_04922_row7_col3,#T_04922_row7_col5,#T_04922_row8_col0,#T_04922_row8_col1,#T_04922_row8_col3,#T_04922_row8_col5,#T_04922_row9_col0,#T_04922_row9_col1,#T_04922_row9_col5,#T_04922_row10_col0,#T_04922_row10_col1,#T_04922_row10_col5,#T_04922_row11_col0,#T_04922_row11_col1,#T_04922_row11_col5,#T_04922_row12_col0,#T_04922_row12_col1,#T_04922_row12_col5,#T_04922_row13_col0,#T_04922_row13_col1,#T_04922_row13_col5,#T_04922_row14_col0,#T_04922_row14_col1,#T_04922_row14_col3,#T_04922_row14_col5,#T_04922_row15_col0,#T_04922_row15_col1,#T_04922_row15_col5,#T_04922_row16_col0,#T_04922_row16_col1,#T_04922_row16_col5,#T_04922_row17_col0,#T_04922_row17_col1,#T_04922_row17_col5,#T_04922_row18_col0,#T_04922_row18_col1,#T_04922_row18_col5,#T_04922_row19_col1,#T_04922_row19_col5{
            font-weight:  bold;
            color:  black;
        }#T_04922_row0_col2,#T_04922_row0_col4,#T_04922_row0_col6,#T_04922_row1_col2,#T_04922_row1_col3,#T_04922_row1_col4,#T_04922_row1_col6,#T_04922_row2_col2,#T_04922_row2_col4,#T_04922_row2_col6,#T_04922_row3_col2,#T_04922_row3_col3,#T_04922_row3_col4,#T_04922_row3_col6,#T_04922_row4_col2,#T_04922_row4_col3,#T_04922_row4_col4,#T_04922_row4_col6,#T_04922_row5_col2,#T_04922_row5_col4,#T_04922_row5_col6,#T_04922_row6_col2,#T_04922_row6_col4,#T_04922_row6_col6,#T_04922_row7_col2,#T_04922_row7_col4,#T_04922_row7_col6,#T_04922_row8_col2,#T_04922_row8_col4,#T_04922_row8_col6,#T_04922_row9_col2,#T_04922_row9_col3,#T_04922_row9_col4,#T_04922_row9_col6,#T_04922_row10_col2,#T_04922_row10_col3,#T_04922_row10_col4,#T_04922_row10_col6,#T_04922_row11_col2,#T_04922_row11_col3,#T_04922_row11_col4,#T_04922_row11_col6,#T_04922_row12_col2,#T_04922_row12_col3,#T_04922_row12_col4,#T_04922_row12_col6,#T_04922_row13_col2,#T_04922_row13_col3,#T_04922_row13_col4,#T_04922_row13_col6,#T_04922_row14_col2,#T_04922_row14_col4,#T_04922_row14_col6,#T_04922_row15_col2,#T_04922_row15_col3,#T_04922_row15_col4,#T_04922_row15_col6,#T_04922_row16_col2,#T_04922_row16_col3,#T_04922_row16_col4,#T_04922_row16_col6,#T_04922_row17_col2,#T_04922_row17_col3,#T_04922_row17_col4,#T_04922_row17_col6,#T_04922_row18_col2,#T_04922_row18_col3,#T_04922_row18_col4,#T_04922_row18_col6,#T_04922_row19_col0,#T_04922_row19_col2,#T_04922_row19_col3,#T_04922_row19_col4,#T_04922_row19_col6{
            font-weight:  normal;
            color:  black;
        }</style><table id="T_04922_" ><thead>    <tr>        <th class="blank level0" ></th>        <th class="col_heading level0 col0" >Recent</th>        <th class="col_heading level0 col1" >Frequent</th>        <th class="col_heading level0 col2" >Popularity</th>        <th class="col_heading level0 col3" >Implicit</th>        <th class="col_heading level0 col4" >Implicit_filtered</th>        <th class="col_heading level0 col5" >bm25</th>        <th class="col_heading level0 col6" >bm25_filtered</th>    </tr></thead><tbody>
                <tr>
                        <th id="T_04922_level0_row0" class="row_heading level0 row0" >0</th>
                        <td id="T_04922_row0_col0" class="data row0 col0" >Miss Universe 2020</td>
                        <td id="T_04922_row0_col1" class="data row0 col1" >Miss Universe 2018</td>
                        <td id="T_04922_row0_col2" class="data row0 col2" >Prince Philip, Duke of Edinburgh</td>
                        <td id="T_04922_row0_col3" class="data row0 col3" >Miss Universe 2019</td>
                        <td id="T_04922_row0_col4" class="data row0 col4" >Miss Earth 2020</td>
                        <td id="T_04922_row0_col5" class="data row0 col5" >Miss Universe 2018</td>
                        <td id="T_04922_row0_col6" class="data row0 col6" >List of Miss Universe titleholders</td>
            </tr>
            <tr>
                        <th id="T_04922_level0_row1" class="row_heading level0 row1" >1</th>
                        <td id="T_04922_row1_col0" class="data row1 col0" >Miss Universe 2021</td>
                        <td id="T_04922_row1_col1" class="data row1 col1" >Miss Universe 2019</td>
                        <td id="T_04922_row1_col2" class="data row1 col2" >2020–2021 Belarusian protests</td>
                        <td id="T_04922_row1_col3" class="data row1 col3" >Miss Earth 2020</td>
                        <td id="T_04922_row1_col4" class="data row1 col4" >List of beauty pageants</td>
                        <td id="T_04922_row1_col5" class="data row1 col5" >Miss Universe 2019</td>
                        <td id="T_04922_row1_col6" class="data row1 col6" >Miss Venezuela</td>
            </tr>
            <tr>
                        <th id="T_04922_level0_row2" class="row_heading level0 row2" >2</th>
                        <td id="T_04922_row2_col0" class="data row2 col0" >Miss Universe 1998</td>
                        <td id="T_04922_row2_col1" class="data row2 col1" >Miss Universe 2017</td>
                        <td id="T_04922_row2_col2" class="data row2 col2" >Chadwick Boseman</td>
                        <td id="T_04922_row2_col3" class="data row2 col3" >Miss Universe 2018</td>
                        <td id="T_04922_row2_col4" class="data row2 col4" >Puteri Indonesia</td>
                        <td id="T_04922_row2_col5" class="data row2 col5" >Miss Universe 2014</td>
                        <td id="T_04922_row2_col6" class="data row2 col6" >Miss Universe</td>
            </tr>
            <tr>
                        <th id="T_04922_level0_row3" class="row_heading level0 row3" >3</th>
                        <td id="T_04922_row3_col0" class="data row3 col0" >Miss Universe 2000</td>
                        <td id="T_04922_row3_col1" class="data row3 col1" >Miss Universe 2016</td>
                        <td id="T_04922_row3_col2" class="data row3 col2" >2024 United States presidential election</td>
                        <td id="T_04922_row3_col3" class="data row3 col3" >List of beauty pageants</td>
                        <td id="T_04922_row3_col4" class="data row3 col4" >Miss France 2021</td>
                        <td id="T_04922_row3_col5" class="data row3 col5" >Miss Universe 2016</td>
                        <td id="T_04922_row3_col6" class="data row3 col6" >Zozibini Tunzi</td>
            </tr>
            <tr>
                        <th id="T_04922_level0_row4" class="row_heading level0 row4" >4</th>
                        <td id="T_04922_row4_col0" class="data row4 col0" >Miss Universe 2001</td>
                        <td id="T_04922_row4_col1" class="data row4 col1" >Miss Universe 2014</td>
                        <td id="T_04922_row4_col2" class="data row4 col2" >COVID-19 pandemic in the United States</td>
                        <td id="T_04922_row4_col3" class="data row4 col3" >Puteri Indonesia</td>
                        <td id="T_04922_row4_col4" class="data row4 col4" >Philippines at major beauty pageants</td>
                        <td id="T_04922_row4_col5" class="data row4 col5" >Miss Universe 2011</td>
                        <td id="T_04922_row4_col6" class="data row4 col6" >Miss Earth 2020</td>
            </tr>
            <tr>
                        <th id="T_04922_level0_row5" class="row_heading level0 row5" >5</th>
                        <td id="T_04922_row5_col0" class="data row5 col0" >Miss Universe 2003</td>
                        <td id="T_04922_row5_col1" class="data row5 col1" >Miss Universe 2015</td>
                        <td id="T_04922_row5_col2" class="data row5 col2" >Black Lives Matter</td>
                        <td id="T_04922_row5_col3" class="data row5 col3" >Miss Universe 2020</td>
                        <td id="T_04922_row5_col4" class="data row5 col4" >Big Four international beauty pageants</td>
                        <td id="T_04922_row5_col5" class="data row5 col5" >Miss Universe 2017</td>
                        <td id="T_04922_row5_col6" class="data row5 col6" >Nova Stevens</td>
            </tr>
            <tr>
                        <th id="T_04922_level0_row6" class="row_heading level0 row6" >6</th>
                        <td id="T_04922_row6_col0" class="data row6 col0" >Miss Universe 2004</td>
                        <td id="T_04922_row6_col1" class="data row6 col1" >Miss Universe 2020</td>
                        <td id="T_04922_row6_col2" class="data row6 col2" >George Floyd</td>
                        <td id="T_04922_row6_col3" class="data row6 col3" >Miss World 2021</td>
                        <td id="T_04922_row6_col4" class="data row6 col4" >Miss Earth 2021</td>
                        <td id="T_04922_row6_col5" class="data row6 col5" >Miss Universe 2013</td>
                        <td id="T_04922_row6_col6" class="data row6 col6" >Andrea Meza</td>
            </tr>
            <tr>
                        <th id="T_04922_level0_row7" class="row_heading level0 row7" >7</th>
                        <td id="T_04922_row7_col0" class="data row7 col0" >Miss Universe 2005</td>
                        <td id="T_04922_row7_col1" class="data row7 col1" >Miss Universe 2013</td>
                        <td id="T_04922_row7_col2" class="data row7 col2" >Derek Chauvin</td>
                        <td id="T_04922_row7_col3" class="data row7 col3" >Miss International 2021</td>
                        <td id="T_04922_row7_col4" class="data row7 col4" >Miss Europe</td>
                        <td id="T_04922_row7_col5" class="data row7 col5" >Miss Universe 2015</td>
                        <td id="T_04922_row7_col6" class="data row7 col6" >Iris Mittenaere</td>
            </tr>
            <tr>
                        <th id="T_04922_level0_row8" class="row_heading level0 row8" >8</th>
                        <td id="T_04922_row8_col0" class="data row8 col0" >Miss Universe 2006</td>
                        <td id="T_04922_row8_col1" class="data row8 col1" >Miss Universe 2012</td>
                        <td id="T_04922_row8_col2" class="data row8 col2" >2021 Israel–Palestine crisis</td>
                        <td id="T_04922_row8_col3" class="data row8 col3" >Miss Universe 2017</td>
                        <td id="T_04922_row8_col4" class="data row8 col4" >Miss Spain</td>
                        <td id="T_04922_row8_col5" class="data row8 col5" >Miss Universe 2010</td>
                        <td id="T_04922_row8_col6" class="data row8 col6" >Miss Ecuador 2020</td>
            </tr>
            <tr>
                        <th id="T_04922_level0_row9" class="row_heading level0 row9" >9</th>
                        <td id="T_04922_row9_col0" class="data row9 col0" >Miss Universe 2007</td>
                        <td id="T_04922_row9_col1" class="data row9 col1" >Miss Universe 2011</td>
                        <td id="T_04922_row9_col2" class="data row9 col2" >Zack Snyder's Justice League</td>
                        <td id="T_04922_row9_col3" class="data row9 col3" >Miss France 2021</td>
                        <td id="T_04922_row9_col4" class="data row9 col4" >Miss France</td>
                        <td id="T_04922_row9_col5" class="data row9 col5" >Miss Universe 2007</td>
                        <td id="T_04922_row9_col6" class="data row9 col6" >Nguyễn Trần Khánh Vân</td>
            </tr>
            <tr>
                        <th id="T_04922_level0_row10" class="row_heading level0 row10" >10</th>
                        <td id="T_04922_row10_col0" class="data row10 col0" >Miss Universe 2008</td>
                        <td id="T_04922_row10_col1" class="data row10 col1" >Miss Universe 2010</td>
                        <td id="T_04922_row10_col2" class="data row10 col2" >2020</td>
                        <td id="T_04922_row10_col3" class="data row10 col3" >Philippines at major beauty pageants</td>
                        <td id="T_04922_row10_col4" class="data row10 col4" >Miss Universe Spain 2020</td>
                        <td id="T_04922_row10_col5" class="data row10 col5" >Miss Universe 2004</td>
                        <td id="T_04922_row10_col6" class="data row10 col6" >Paweensuda Drouin</td>
            </tr>
            <tr>
                        <th id="T_04922_level0_row11" class="row_heading level0 row11" >11</th>
                        <td id="T_04922_row11_col0" class="data row11 col0" >Miss Universe 2009</td>
                        <td id="T_04922_row11_col1" class="data row11 col1" >Miss Universe 2007</td>
                        <td id="T_04922_row11_col2" class="data row11 col2" >Inauguration of Joe Biden</td>
                        <td id="T_04922_row11_col3" class="data row11 col3" >Big Four international beauty pageants</td>
                        <td id="T_04922_row11_col4" class="data row11 col4" >List of Miss Universe countries</td>
                        <td id="T_04922_row11_col5" class="data row11 col5" >Miss Universe 2012</td>
                        <td id="T_04922_row11_col6" class="data row11 col6" >Miss Earth 2021</td>
            </tr>
            <tr>
                        <th id="T_04922_level0_row12" class="row_heading level0 row12" >12</th>
                        <td id="T_04922_row12_col0" class="data row12 col0" >Miss Universe 2011</td>
                        <td id="T_04922_row12_col1" class="data row12 col1" >Miss Universe 2006</td>
                        <td id="T_04922_row12_col2" class="data row12 col2" >WandaVision</td>
                        <td id="T_04922_row12_col3" class="data row12 col3" >Miss Earth 2021</td>
                        <td id="T_04922_row12_col4" class="data row12 col4" >Miss World Spain 2020</td>
                        <td id="T_04922_row12_col5" class="data row12 col5" >Miss Universe 2006</td>
                        <td id="T_04922_row12_col6" class="data row12 col6" >Miss Universe Thailand 2020</td>
            </tr>
            <tr>
                        <th id="T_04922_level0_row13" class="row_heading level0 row13" >13</th>
                        <td id="T_04922_row13_col0" class="data row13 col0" >Miss Universe 2012</td>
                        <td id="T_04922_row13_col1" class="data row13 col1" >Miss Universe 2005</td>
                        <td id="T_04922_row13_col2" class="data row13 col2" >COVID-19 misinformation</td>
                        <td id="T_04922_row13_col3" class="data row13 col3" >Miss Europe</td>
                        <td id="T_04922_row13_col4" class="data row13 col4" >Miss South Africa 2020</td>
                        <td id="T_04922_row13_col5" class="data row13 col5" >Miss Universe 2001</td>
                        <td id="T_04922_row13_col6" class="data row13 col6" >Clémence Botino</td>
            </tr>
            <tr>
                        <th id="T_04922_level0_row14" class="row_heading level0 row14" >14</th>
                        <td id="T_04922_row14_col0" class="data row14 col0" >Miss Universe 2013</td>
                        <td id="T_04922_row14_col1" class="data row14 col1" >Miss Universe 2004</td>
                        <td id="T_04922_row14_col2" class="data row14 col2" >2021 Suez Canal obstruction</td>
                        <td id="T_04922_row14_col3" class="data row14 col3" >Miss Universe 2013</td>
                        <td id="T_04922_row14_col4" class="data row14 col4" >Miss Polonia</td>
                        <td id="T_04922_row14_col5" class="data row14 col5" >Miss Universe 2009</td>
                        <td id="T_04922_row14_col6" class="data row14 col6" >Miss Supranational 2021</td>
            </tr>
            <tr>
                        <th id="T_04922_level0_row15" class="row_heading level0 row15" >15</th>
                        <td id="T_04922_row15_col0" class="data row15 col0" >Miss Universe 2014</td>
                        <td id="T_04922_row15_col1" class="data row15 col1" >Miss Universe 2009</td>
                        <td id="T_04922_row15_col2" class="data row15 col2" >2020 Atlantic hurricane season</td>
                        <td id="T_04922_row15_col3" class="data row15 col3" >Miss Spain</td>
                        <td id="T_04922_row15_col4" class="data row15 col4" >Miss USA 2020</td>
                        <td id="T_04922_row15_col5" class="data row15 col5" >Miss Universe 2005</td>
                        <td id="T_04922_row15_col6" class="data row15 col6" >Mariam Habach</td>
            </tr>
            <tr>
                        <th id="T_04922_level0_row16" class="row_heading level0 row16" >16</th>
                        <td id="T_04922_row16_col0" class="data row16 col0" >Miss Universe 2016</td>
                        <td id="T_04922_row16_col1" class="data row16 col1" >Miss Universe 2008</td>
                        <td id="T_04922_row16_col2" class="data row16 col2" >Wonder Woman 1984</td>
                        <td id="T_04922_row16_col3" class="data row16 col3" >Miss France</td>
                        <td id="T_04922_row16_col4" class="data row16 col4" >Andrea Meza</td>
                        <td id="T_04922_row16_col5" class="data row16 col5" >Miss Universe 2003</td>
                        <td id="T_04922_row16_col6" class="data row16 col6" >Big Four international beauty pageants</td>
            </tr>
            <tr>
                        <th id="T_04922_level0_row17" class="row_heading level0 row17" >17</th>
                        <td id="T_04922_row17_col0" class="data row17 col0" >Miss Universe 2017</td>
                        <td id="T_04922_row17_col1" class="data row17 col1" >Miss Universe 2001</td>
                        <td id="T_04922_row17_col2" class="data row17 col2" >Diego Maradona</td>
                        <td id="T_04922_row17_col3" class="data row17 col3" >Miss Universe Spain 2020</td>
                        <td id="T_04922_row17_col4" class="data row17 col4" >List of Miss World Countries</td>
                        <td id="T_04922_row17_col5" class="data row17 col5" >Miss Universe 2008</td>
                        <td id="T_04922_row17_col6" class="data row17 col6" >Rabiya Mateo</td>
            </tr>
            <tr>
                        <th id="T_04922_level0_row18" class="row_heading level0 row18" >18</th>
                        <td id="T_04922_row18_col0" class="data row18 col0" >Miss Universe 2018</td>
                        <td id="T_04922_row18_col1" class="data row18 col1" >Miss Universe 2003</td>
                        <td id="T_04922_row18_col2" class="data row18 col2" >Among Us</td>
                        <td id="T_04922_row18_col3" class="data row18 col3" >List of Miss Universe countries</td>
                        <td id="T_04922_row18_col4" class="data row18 col4" >Zozibini Tunzi</td>
                        <td id="T_04922_row18_col5" class="data row18 col5" >Miss Universe 2000</td>
                        <td id="T_04922_row18_col6" class="data row18 col6" >List of Miss Venezuela titleholders</td>
            </tr>
            <tr>
                        <th id="T_04922_level0_row19" class="row_heading level0 row19" >19</th>
                        <td id="T_04922_row19_col0" class="data row19 col0" >Prince Philip, Duke of Edinburgh</td>
                        <td id="T_04922_row19_col1" class="data row19 col1" >Miss Universe 1998</td>
                        <td id="T_04922_row19_col2" class="data row19 col2" >Attempts to overturn the 2020 United States presidential election</td>
                        <td id="T_04922_row19_col3" class="data row19 col3" >Miss World Spain 2020</td>
                        <td id="T_04922_row19_col4" class="data row19 col4" >Miss Universe Great Britain 2020</td>
                        <td id="T_04922_row19_col5" class="data row19 col5" >Miss Earth 2012</td>
                        <td id="T_04922_row19_col6" class="data row19 col6" >Venezuela at major beauty pageants</td>
            </tr>
    </tbody></table></div><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">index</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">edited_pages</span><span class="p">)))</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">shuffle</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">index</span><span class="p">[:</span><span class="mi">10</span><span class="p">]:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">edited_pages</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
    <span class="n">display_user_recs_comparison</span>
    <span class="n">wr</span><span class="o">.</span><span class="n">print_user_history</span><span class="p">(</span><span class="n">user</span><span class="o">=</span><span class="n">edited_pages</span><span class="o">.</span><span class="n">index</span><span class="p">[</span><span class="n">i</span><span class="p">],</span><span class="n">all_histories</span><span class="o">=</span><span class="n">clean_histories</span><span class="p">)</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n\n\n</span><span class="s2">&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sns</span><span class="o">.</span><span class="n">distplot</span><span class="p">(</span><span class="n">edited_pages</span><span class="p">,</span><span class="n">kde</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span><span class="n">bins</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span><span class="mi">2000</span><span class="p">,</span><span class="mi">20</span><span class="p">))</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="repetition-analysis">
<h2>Repetition analysis<a class="headerlink" href="#repetition-analysis" title="Permalink to this headline">¶</a></h2>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">itertools</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">clean_histories</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>userid</th>
      <th>user</th>
      <th>pageid</th>
      <th>title</th>
      <th>timestamp</th>
      <th>sizediff</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>576163</td>
      <td>Da Vynci</td>
      <td>148796</td>
      <td>Philip IV of Spain</td>
      <td>2020-12-09T14:55:06Z</td>
      <td>27</td>
    </tr>
    <tr>
      <th>1</th>
      <td>576163</td>
      <td>Da Vynci</td>
      <td>1130360</td>
      <td>Mariana of Austria</td>
      <td>2020-12-09T14:51:20Z</td>
      <td>12</td>
    </tr>
    <tr>
      <th>2</th>
      <td>576163</td>
      <td>Da Vynci</td>
      <td>2333507</td>
      <td>Former Marine Police Headquarters</td>
      <td>2020-12-08T08:07:55Z</td>
      <td>1</td>
    </tr>
    <tr>
      <th>3</th>
      <td>576163</td>
      <td>Da Vynci</td>
      <td>2333507</td>
      <td>Former Marine Police Headquarters</td>
      <td>2020-12-08T08:03:55Z</td>
      <td>10</td>
    </tr>
    <tr>
      <th>4</th>
      <td>576163</td>
      <td>Da Vynci</td>
      <td>2333507</td>
      <td>Former Marine Police Headquarters</td>
      <td>2020-12-08T08:02:29Z</td>
      <td>-33</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">clean_histories</span><span class="o">.</span><span class="n">iloc</span><span class="p">[:</span><span class="mi">1000</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">df</span> <span class="o">=</span> <span class="n">clean_histories</span>
<span class="nb">dict</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">df</span><span class="o">.</span><span class="n">columns</span><span class="p">))))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>{&#39;userid&#39;: 0,
 &#39;user&#39;: 1,
 &#39;pageid&#39;: 2,
 &#39;title&#39;: 3,
 &#39;timestamp&#39;: 4,
 &#39;sizediff&#39;: 5}
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">identify_runs</span><span class="p">(</span><span class="n">df</span><span class="p">):</span>
    <span class="n">d</span>  <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,[</span><span class="s1">&#39;userid&#39;</span><span class="p">,</span><span class="s1">&#39;pageid&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
    <span class="k">return</span> <span class="p">[(</span><span class="n">k</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">g</span><span class="p">)))</span> <span class="k">for</span> <span class="n">k</span><span class="p">,</span><span class="n">g</span> <span class="ow">in</span> <span class="n">itertools</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">d</span><span class="p">)]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="n">time</span>
<span class="n">runs</span> <span class="o">=</span> <span class="n">identify_runs</span><span class="p">(</span><span class="n">clean_histories</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>CPU times: user 12.6 s, sys: 1.11 s, total: 13.7 s
Wall time: 14.1 s
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">lens</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">r</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="n">runs</span><span class="p">])</span>

<span class="n">single_edits</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">lens</span><span class="o">==</span><span class="mi">1</span><span class="p">)</span>
<span class="n">total_edits</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">clean_histories</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Percent of edits that are part of a run: </span><span class="si">%.1f%%</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="mi">100</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="p">(</span><span class="nb">float</span><span class="p">(</span><span class="n">single_edits</span><span class="p">)</span><span class="o">/</span><span class="n">total_edits</span><span class="p">))))</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Percent of edits that are repetitions: </span><span class="si">%.1f%%</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="p">(</span><span class="mi">100</span><span class="o">*</span><span class="p">(</span><span class="mi">1</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">runs</span><span class="p">)</span><span class="o">/</span><span class="n">total_edits</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Percent of edits that are part of a run: 48.4%
Percent of edits that are repetitions: 34.7%
</pre></div>
</div>
</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./nbs"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
            



<div class='prev-next-bottom'>
    
    <div id="prev">
        <a class="left-prev" href="T990001_toy_example_car_recommender_knn.html" title="previous page">
            <i class="prevnext-label fas fa-angle-left"></i>
            <div class="prevnext-info">
                <p class="prevnext-label">previous</p>
                <p class="prevnext-title">Toy example - Car Recommender using KNN method</p>
            </div>
        </a>
    </div>

</div>
        
        </div>
    </div>
    <footer class="footer">
    <div class="container">
      <p>
        
          By Sparsh A.<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>