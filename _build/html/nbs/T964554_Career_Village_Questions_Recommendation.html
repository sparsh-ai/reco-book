
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>CareerVillage Questions Recommendation &#8212; Reco Book</title>
    
  <link href="../_static/css/theme.css" rel="stylesheet" />
  <link href="../_static/css/index.c5995385ac14fb8791e8eb36b4908be2.css" rel="stylesheet" />

    
  <link rel="stylesheet"
    href="../_static/vendor/fontawesome/5.13.0/css/all.min.css">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-solid-900.woff2">
  <link rel="preload" as="font" type="font/woff2" crossorigin
    href="../_static/vendor/fontawesome/5.13.0/webfonts/fa-brands-400.woff2">

    
      

    
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="../_static/sphinx-book-theme.css?digest=c3fdc42140077d1ad13ad2f1588a4309" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css" />
    
  <link rel="preload" as="script" href="../_static/js/index.1c5a1a01449ed65a7b51.js">

    <script id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/togglebutton.js"></script>
    <script src="../_static/clipboard.min.js"></script>
    <script src="../_static/copybutton.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script src="../_static/sphinx-book-theme.12a9622fbb08dcb3a2a40b2c02b83a57.js"></script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <script async="async" src="https://unpkg.com/thebe@0.5.1/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe"
        const thebe_selector_input = "pre"
        const thebe_selector_output = ".output"
    </script>
    <script async="async" src="../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Amazon Product Recommender" href="T990001_amazon_women_apparel_tfidf_word2vec.html" />
    <link rel="prev" title="Simple Movie Recommender App" href="T912764_Simple_Movie_Recommender_App.html" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="docsearch:language" content="en" />
    
  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    
    <div class="container-fluid" id="banner"></div>

    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
    <a class="navbar-brand text-wrap" href="../index.html">
      
      
      
      <h1 class="site-logo" id="site-title">Reco Book</h1>
      
    </a>
</div><form class="bd-search d-flex align-items-center" action="../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form><nav class="bd-links" id="bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item active">
        <ul class="nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="../index.html">
   Tutorials in Jupyter notebook format
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  User Stories
 </span>
</p>
<ul class="nav bd-sidenav">
 <li class="toctree-l1 has-children">
  <a class="reference internal" href="US780867_Transformer_based_Recommenders.html">
   Transformer-based Recommenders
  </a>
  <input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" type="checkbox"/>
  <label for="toctree-checkbox-1">
   <i class="fas fa-chevron-down">
   </i>
  </label>
  <ul>
   <li class="toctree-l2">
    <a class="reference internal" href="T034923_BERT4Rec_on_ML1M_in_PyTorch.html">
     BERT4Rec on ML-1M in PyTorch
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="T595874_BERT4Rec_on_ML25M_in_PyTorch_Lightning.html">
     BERT4Rec on ML-25M
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="T088416_BST_Implementation_in_MXNet.html">
     BST Implementation in MXNet
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="T602245_BST_implementation_in_PyTorch.html">
     BST implementation in PyTorch
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="T007665_BST_on_ML1M_in_Keras.html">
     A Transformer-based recommendation system
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="T881207_BST_PTLightning_ML1M.html">
     Rating prediction using the Behavior Sequence Transformer (BST) model on ML-1M dataset in PyTorch Lightning
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="T025247_BST_using_Deepctr_library.html">
     BST using Deepctr library
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="T757997_SASRec_PyTorch.html">
     SASRec implementation with PyTorch Library
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="T225287_SASRec_PaddlePaddle.html">
     SASRec implementation with Paddle Library
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="T701627_SR_SAN_Session_based_Model.html">
     SR-SAN Session-based Recommender
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="T975104_SSEPT_ML1M_Tensorflow1x.html">
     SSE-PT Personalized Transformer Recommender on ML-1M in Tensorflow 1.x
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="T472955_GCSAN_Session_based_Model.html">
     GCSAN Session-based Recommender
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="T970274_Transformers4Rec_Session_based_Recommender_on_Yoochoose.html">
     End-to-end session-based recommendation with Transformers4Rec
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="T382183_Transformers4Rec_XLNet_on_Synthetic_data.html">
     Transformers4Rec XLNet on Synthetic data
    </a>
   </li>
   <li class="toctree-l2">
    <a class="reference internal" href="T793395_Session_based_recommendation_on_REES46_Dataset.html">
     End-to-end Session-based recommendation on REES46 Dataset
    </a>
   </li>
  </ul>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Prototypes
 </span>
</p>
<ul class="current nav bd-sidenav">
 <li class="toctree-l1">
  <a class="reference internal" href="T382881_DeepWalk_Karateclub.html">
   DeepWalk from scratch referencing Karateclub library
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T384270_DeepWalk_pure_python.html">
   DeepWalk in pure python
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T677598_Jaccard_Cosine_SVD_DeepWalk_ML100K.html">
   Recommender System with DeepWalk Graph Embeddings
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T815556_Node2vec_Karateclub.html">
   Node2vec from scratch referencing Karateclub library
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T894941_Node2vec_MovieLens_Keras.html">
   Graph representation learning with node2vec
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T611050_Node2vec_PyG.html">
   Node2vec from scratch in PyTorch Geometric
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T186367_Node2vec_library.html">
   Node2vec from scratch referencing node2vec library
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T331379_bayesian_personalized_ranking.html">
   BPR from scratch
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T081831_Data_Poisoning_Attacks_on_Factorization_Based_Collaborative_Filtering.html">
   Data Poisoning Attacks on Factorization-Based Collaborative Filtering
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T102448_Adversarial_Learning_for_Recommendation.html">
   Adversarial Training (Regularization) on a Recommender System
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T865035_Simulating_Data_Poisoning_Attacks_against_Twitter_Recommender.html">
   Load and process dataset
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T711285_Data_Poisoning_Attack_using_LFM_and_ItemAE_on_Synthetic_Dataset.html">
   Injection attack using LFM and ItemAE model trained on Toy dataset
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T355514_Black_box_Attack_on_Sequential_Recs.html">
   Black-box Attack on Sequential Recs
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T873451_Statistics_fundamentals.html">
   Statictics Fundamentals
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T890478_Batch_Learning_from_Bandit_Feedback_%28BLBF%29.html">
   Imports
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T257798_Off_Policy_Learning_in_Two_stage_Recommender_Systems.html">
   Off-Policy Learning in Two-stage Recommender Systems
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T471827_Adaptive_Estimator_Selection_for_Off_Policy_Evaluation.html">
   Adaptive Estimator Selection for Off-Policy Evaluation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T902666_Evaluating_the_Robustness_of_Off_Policy_Evaluation.html">
   Evaluating the Robustness of Off-Policy Evaluation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T705904_Evaluation_of_Multiple_Off_Policy_Estimators_on_Synthetic_Dataset.html">
   Evaluation of Multiple Off-Policy Estimators on Synthetic Dataset
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T874693_Evaluating_Standard_Off_Policy_Estimators_with_Small_Sample_Open_Bandit_Dataset.html">
   Evaluating Standard Off-Policy Estimators with Small Sample Open-Bandit Dataset
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T792262_Optimal_Off_Policy_Evaluation_from_Multiple_Logging_Policies.html">
   Optimal Off-Policy Evaluation from Multiple Logging Policies
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T167249_Offline_Policy_Evaluation_with_VW_Command_Line.html">
   Offline Policy Evaluation with VW Command Line
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T966055_OBP_Library_Workshop_Tutorials.html">
   OBP Library Workshop Tutorials
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T632722_PyTorch_Fundamentals_Part_1.html">
   PyTorch Fundamentals Part 1
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T472467_PyTorch_Fundamentals_Part_2.html">
   PyTorch Fundamentals Part 2
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T206654_PyTorch_Fundamentals_Part_3.html">
   PyTorch Fundamentals Part 3
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T536348_Attention_Mechanisms.html">
   Imports
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T500796_Agricultural_Satellite_Image_Segmentation.html">
   Agricultural Satellite Image Segmentation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T611432_Image_Analysis_with_Tensorflow.html">
   Image Analysis with Tensorflow
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T925716_MongoDB_to_CSV_Conversion.html">
   MongoDB to CSV conversion
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T396469_PDF_to_Word_Cloud_via_Email.html">
   PDF to WordCloud via Email
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T030890_Job_Scraping_and_Clustering.html">
   Job scraping and clustering
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T897054_Scene_Text_Recognition.html">
   Scene Text Recognition
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T034809_Large_scale_Document_Retrieval_with_Elastic_Search.html">
   Large-scale Document Retrieval with ElasticSearch
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T467251_vowpal_wabbit_contextual_recommender.html">
   Simulating a news personalization scenario using Contextual Bandits
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T686684_similar_product_recommender.html">
   Similar Product Recommender system using Deep Learning for an online e-commerce store
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T132203_Retail_Product_Recommendations_using_Word2vec.html">
   Retail Product Recommendations using word2vec
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T501828_Recommender_Implicit_Negative_Feedback.html">
   Retail Product Recommendation with Negative Implicit Feedback
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T315965_Sequence_Aware_Recommenders_Music.html">
   Sequence Aware Recommender Systems
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T051777_image_similarity_recommendations.html">
   Similar Product Recommendations
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T990172_recobook_diversity_aware_book_recommender.html">
   Diversity Aware Book Recommender
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T488549_Goodreads_Diversity_Aware_Book_Recommender.html">
   Diversity Aware Book Recommender
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T023535_Kafka_MongoDB_Real_time_Streaming.html">
   Kafka MongoDB Real-time Streaming
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T622304_Session_based_Recommender_Using_Word2vec.html">
   Session-based recommendation using word2vec
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T416854_bandit_based_recommender_using_thompson_sampling_app.html">
   Bandit-based Online Learning using Thompson Sampling
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T198578_Booking_dot_com_Trip_Recommendation.html">
   Booking.com Trip Recommendation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T519734_Vowpal_Wabbit_Contextual_Bandit.html">
   Vowpal Wabbit Contextual Bandit
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T871537_Recommendation_Systems_using_Olist_Dataset.html">
   Recommendation systems using Olist dataset
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T057885_Offline_Replayer_Evaluation.html">
   Offline Replayer Evaluation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T915054_method_for_effective_online_testing.html">
   Methods for effective online testing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T513987_Recsys_2020_Feature_Engineering_Tutorial.html">
   Recsys’20 Feature Engineering Tutorial
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T227901_amazon_personalize_batch_job.html">
   Amazon Personalize Batch Job
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T022961_Amazon_Personalize_Workshop.html">
   Amazon Personalize Workshop
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T424437_Collaborative_Filtering_on_ML_latest_small.html">
   Collaborative Filtering on ML-latest-small
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T539160_Building_and_Deploying_ASOS_Fashion_Recommender.html">
   Building and deploying ASOS fashion recommender
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T757697_Simple_Similarity_based_Recommender.html">
   Simple Similarity based Recommmendations
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T051594_Analytics_Zoo.html">
   Analytics Zoo
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T313645_A_B_Testing.html">
   A/B Testing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T475711_PinSage_Graph_based_Recommender.html">
   PinSage Graph-based Recommender
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T516490_Graph_Embeddings.html">
   Learn Embeddings using Graph Networks
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T822164_movielens_milvus_redis_efficient_retrieval.html">
   Recommender with Redis and Milvus
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T845186_Anime_Recommender.html">
   RekoNet Anime Recommender
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T855843_kafka_spark_streaming_colab.html">
   Kafka and Spark Streaming in Colab
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T460437_Building_Models_From_Scratch.html">
   Building Models from scratch
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T855971_Conet_Model_for_Movie_Recommender.html">
   CoNet model
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T996996_content_based_and_collaborative_movielens.html">
   Movie Recommendation with Content-Based and Collaborative Filtering
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T239418_Simple_Movie_Recommenders.html">
   Simple Movie Recommenders
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T138337_Simple_Movie_Recommender.html">
   Simple movie recommender in implicit, explicit, and cold-start settings
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T935440_The_importance_of_Rating_Normalization.html">
   The importance of Rating Normalization
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T612622_cornac_examples.html">
   Cornac Examples
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T561435_Flower_Classification.html">
   Flower classification
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T680910_Trivago_Session_based_Recommender.html">
   Trivago Session-based Recommender
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T990000_ads_selection_using_bandits.html">
   Best Ads detection using bandit methods
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T990000_book_crossing_surprise_svd_nmf.html">
   Book-Crossing Recommendation System
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T990000_book_recommender_kubeflow.html">
   Books recommendations with Kubeflow Pipelines on Scaleway Kapsule
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T990000_build_a_kubeflow_pipeline.html">
   Build a Kubeflow Pipeline
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T990000_causal_inference.html">
   Causal Inference
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T990000_concept_embedding_nlp.html">
   Exploring Word Embeddings
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T990000_concept_neural_net.html">
   Neural Network
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T990000_concept_nlp_basics.html">
   Natural Language Processing 101
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T990000_concept_transformer_lm.html">
   TransformerLM Quick Start and Guide
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T990000_content_based_music_recommender_lyricsfreak.html">
   Content-based method for song recommendation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T990000_evaluation_metrics_basics.html">
   Recommender System Evaluations
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T990000_implicit_synthetic.html">
   Comparing Implicit Models on Synthetic Data
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T990000_movie_recommender_tensorflow.html">
   Recommendation Systems with TensorFlow
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T990000_movie_recommender_tensorflow_sagemaker.html">
   Movie recommender using Tensorflow in Sagemaker
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T990000_movielens_eda_modeling.html">
   Movielens EDA and Modeling
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T990000_read_data_from_cassandra_into_pandas.html">
   Read Cassandra Data Snapshot as DataFrame
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T990000_rl_in_action.html">
   Reinforcement Learning fundamentals in action
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T990000_rnn_cnn_basics.html">
   Processing sequences using RNNs and CNNs
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T990000_tf_serving_in_action.html">
   TF Serving in action
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T990000_training_indexing_movie_recommender.html">
   Training and indexing movie recommender
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T207114_EduRec_MOOCCube_Course_Recommender.html">
   EduRec MOOCCube Course Recommender
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T273184_Multi_Task_Learning.html">
   Multi-task Learning
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T661108_Book_Recommender_API.html">
   Book Recommender API
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T912764_Simple_Movie_Recommender_App.html">
   Simple Movie Recommender App
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   CareerVillage Questions Recommendation
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T990001_amazon_women_apparel_tfidf_word2vec.html">
   Amazon Product Recommender
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T990001_anime_recommender_graph_network.html">
   Anime Recommender with Bi-partite Graph Network
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T990001_concept_self_attention.html">
   Self-Attention
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T990001_course_recommender_svd_flask.html">
   Course Recommender with SVD based similarity
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T990001_data_mining_similarity_measures.html">
   Concept - Data Mining Similarity Measures
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T990001_jaccard_recommender.html">
   Jaccard Similarity based Recommender
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T990001_live_streamer_recommender.html">
   Live Streamer Recommender with Implicit feedback
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T990001_songs_embedding_skipgram_recommender.html">
   Song Embeddings - Skipgram Recommender
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T990001_toy_example_car_recommender_knn.html">
   Toy example - Car Recommender using KNN method
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="T990001_wikirecs_recommender.html">
   WikiRecs
  </a>
 </li>
</ul>

    </div>
</nav> <!-- To handle the deprecated key -->

<div class="navbar_extra_footer">
  Powered by <a href="https://jupyterbook.org">Jupyter Book</a>
</div>

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="topbar container-xl fixed-top">
    <div class="topbar-contents row">
        <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show"></div>
        <div class="col pl-md-4 topbar-main">
            
            <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
                data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
                aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
                title="Toggle navigation" data-toggle="tooltip" data-placement="left">
                <i class="fas fa-bars"></i>
                <i class="fas fa-arrow-left"></i>
                <i class="fas fa-arrow-up"></i>
            </button>
            
            
<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../_sources/nbs/T964554_Career_Village_Questions_Recommendation.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
</div>

            <!-- Source interaction buttons -->

            <!-- Full screen (wrap in <a> to have style consistency -->

<a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
        data-placement="bottom" onclick="toggleFullScreen()" aria-label="Fullscreen mode"
        title="Fullscreen mode"><i
            class="fas fa-expand"></i></button></a>

            <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/sparsh-ai/reco-book/main?urlpath=tree/nbs/T964554_Career_Village_Questions_Recommendation.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        
    </div>
</div>

        </div>

        <!-- Table of contents -->
        <div class="d-none d-md-block col-md-2 bd-toc show">
            
            <div class="tocsection onthispage pt-5 pb-3">
                <i class="fas fa-list"></i> Contents
            </div>
            <nav id="bd-toc-nav" aria-label="Page">
                <ul class="visible nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#part-1">
   Part 1
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#introduction">
     Introduction
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#environment-setup">
     Environment Setup
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#data-loading">
     Data Loading
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#feature-extraction">
     Feature Extraction
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#features">
       Features
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#eda">
     EDA
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#how-do-the-files-connect">
       How do the files connect
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#time-series">
       Time Series
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#missing-values-professionals">
       Missing values (Professionals)
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#missing-values-students">
       Missing values (Students)
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#tags-matching">
       Tags matching
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#first-activity-after-registration">
       First activity after registration
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#last-activity">
       Last activity
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#first-answer-for-questions">
       First answer for questions
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#question-response-time">
       Question response time
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#email-response-time">
       Email response time
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#word-count">
       Word count
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#ad-hoc-analysis">
     Ad-hoc Analysis
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#user-activities">
       User Activities
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#dependency-graph">
       Dependency Graph
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#topic-model-lda">
     Topic Model (LDA)
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#parameters">
       Parameters
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#functions">
       Functions
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#create-model">
       Create Model
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#topics">
       Topics
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#document-topic-probabilities">
       Document-Topic Probabilities
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#recommendation-engine">
     Recommendation Engine
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#get-similar-questions">
       Get similar Questions
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#recommend-new-question-to-professionals-a-id-recommender-new-questions-a">
       Recommend new Question to Professionals
       <a id="recommender_new_questions">
       </a>
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#recommend-questions-for-a-professional">
       Recommend Questions for a Professional
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#recommend-new-tags-for-users">
       Recommend new Tags for Users
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#evaluation">
     Evaluation
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id1">
       Get similar Questions
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#recommend-new-question-to-professionals">
       Recommend new Question to Professionals
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id2">
       Recommend Questions for a Professional
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id3">
       Recommend new Tags for Users
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#further-advice">
     Further Advice
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#model-persistence">
       Model persistence:
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#ideas-for-additional-scores">
       Ideas for additional scores:
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#quality-of-the-recommendation">
       Quality of the recommendation:
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#website-improvement">
       Website improvement:
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#conclusion">
     Conclusion
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#part-2">
   Part 2
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id4">
     Introduction
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id5">
     Environment Setup
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id6">
     Data Loading
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#merge-tags-to-questions-students-and-professionals">
       Merge tags to questions, students, and professionals
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#clean-the-sentences">
       Clean the sentences
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#bert-embeddings-of-the-questions">
     BERT embeddings of the questions
    </a>
    <ul class="nav section-nav flex-column">
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#id7">
       Clean the sentences
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#start-the-bert-server">
       Start the BERT server
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#embed-the-question-titles-with-bert">
       Embed the question titles with BERT
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#compute-average-embedding-of-each-sentence-in-questions">
       Compute average embedding of each sentence in questions
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#reduce-dimensionality-of-the-embeddings-using-pca">
       Reduce dimensionality of the embeddings using PCA
      </a>
     </li>
     <li class="toc-h4 nav-item toc-entry">
      <a class="reference internal nav-link" href="#add-embeddings-to-tables">
       Add embeddings to tables
      </a>
     </li>
    </ul>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#compute-average-embedding-of-questions-each-professional-has-answered">
     Compute average embedding of questions each professional has answered
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#sample-questions-which-each-professional-has-not-answered">
     Sample questions which each professional has not answered
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#cosine-similarity-between-question-embeddings-and-average-embedding-for-questions-professionals-have-answered">
     Cosine similarity between question embeddings and average embedding for questions professionals have answered
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#extract-date-and-time-features">
     Extract date and time features
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#jaccard-similarity-between-question-and-professional-tags">
     Jaccard similarity between question and professional tags
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#train-model-to-predict-probability-of-answering">
     Train model to predict probability of answering
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#id8">
     Conclusion
    </a>
   </li>
  </ul>
 </li>
</ul>

            </nav>
        </div>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="careervillage-questions-recommendation">
<h1>CareerVillage Questions Recommendation<a class="headerlink" href="#careervillage-questions-recommendation" title="Permalink to this headline">¶</a></h1>
<blockquote>
<div><p>Developing a method to recommend relevant questions to the professionals who are most likely to answer them.</p>
</div></blockquote>
<div class="section" id="part-1">
<h2>Part 1<a class="headerlink" href="#part-1" title="Permalink to this headline">¶</a></h2>
<div class="section" id="introduction">
<h3>Introduction<a class="headerlink" href="#introduction" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="http://careervillage.org/">CareerVillage.org</a> is a nonprofit that crowdsources career advice for underserved youth. The platform uses a Q&amp;A style similar to <em>StackOverflow</em> or <em>Quora</em> to provide students with answers to any question about any career.</p>
<p>To date, 25K+ volunteers have created profiles and opted in to receive emails when a career question is a good fit for them. To help students get the advice they need, the team at <a class="reference external" href="http://careervillage.org/">CareerVillage.org</a> needs to be able to send the right questions to the right volunteers. The notifications sent to volunteers seem to have the greatest impact on how many questions are answered.</p>
<p><strong>Objective</strong>: develop a method to recommend relevant questions to the professionals who are most likely to answer them.</p>
</div>
<div class="section" id="environment-setup">
<h3>Environment Setup<a class="headerlink" href="#environment-setup" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># !pip install -q pyLDAvis</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">re</span>
<span class="kn">import</span> <span class="nn">math</span>
<span class="kn">import</span> <span class="nn">random</span>

<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="nn">pd</span>

<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">matplotlib.patches</span> <span class="k">as</span> <span class="nn">mpatches</span>
<span class="kn">import</span> <span class="nn">matplotlib.dates</span> <span class="k">as</span> <span class="nn">mdates</span>
<span class="kn">import</span> <span class="nn">networkx</span> <span class="k">as</span> <span class="nn">nx</span>

<span class="kn">from</span> <span class="nn">wordcloud</span> <span class="kn">import</span> <span class="n">WordCloud</span>
<span class="kn">from</span> <span class="nn">datetime</span> <span class="kn">import</span> <span class="n">datetime</span>
<span class="kn">from</span> <span class="nn">sklearn.feature_extraction.text</span> <span class="kn">import</span> <span class="n">TfidfVectorizer</span>
<span class="kn">from</span> <span class="nn">sklearn.metrics.pairwise</span> <span class="kn">import</span> <span class="n">cosine_similarity</span>

<span class="kn">import</span> <span class="nn">spacy</span>
<span class="n">nlp</span> <span class="o">=</span> <span class="n">spacy</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="s1">&#39;en&#39;</span><span class="p">)</span>
<span class="n">nlp</span><span class="o">.</span><span class="n">remove_pipe</span><span class="p">(</span><span class="s1">&#39;parser&#39;</span><span class="p">)</span>
<span class="n">nlp</span><span class="o">.</span><span class="n">remove_pipe</span><span class="p">(</span><span class="s1">&#39;ner&#39;</span><span class="p">)</span>
<span class="c1">#nlp.remove_pipe(&#39;tagger&#39;)</span>

<span class="kn">import</span> <span class="nn">gensim</span>
<span class="kn">import</span> <span class="nn">pyLDAvis</span>
<span class="kn">import</span> <span class="nn">pyLDAvis.gensim_models</span> <span class="k">as</span> <span class="nn">gensimvis</span>
<span class="n">pyLDAvis</span><span class="o">.</span><span class="n">enable_notebook</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">warnings</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s1">&#39;ignore&#39;</span><span class="p">)</span>

<span class="n">seed</span> <span class="o">=</span> <span class="mi">13</span>
<span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="n">seed</span><span class="p">)</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="n">seed</span><span class="p">)</span>

<span class="o">%</span><span class="n">reload_ext</span> <span class="n">google</span><span class="o">.</span><span class="n">colab</span><span class="o">.</span><span class="n">data_table</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>!pip install -q watermark
%reload_ext watermark
%watermark -h -iv
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>re        : 2.2.1
IPython   : 5.5.0
spacy     : 2.2.4
matplotlib: 3.2.2
numpy     : 1.21.0
gensim    : 3.6.0
networkx  : 2.5.1
pyLDAvis  : 3.3.1
pandas    : 1.3.0
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="data-loading">
<h3>Data Loading<a class="headerlink" href="#data-loading" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>!pip install -q -U kaggle
!pip install --upgrade --force-reinstall --no-deps kaggle
!mkdir ~/.kaggle
!cp /content/drive/MyDrive/kaggle.json ~/.kaggle/
!chmod 600 ~/.kaggle/kaggle.json
!kaggle competitions download -c data-science-for-good-careervillage
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>!unzip /content/data-science-for-good-careervillage.zip
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">professionals</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;professionals.csv&#39;</span><span class="p">)</span>
<span class="n">groups</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;groups.csv&#39;</span><span class="p">)</span>
<span class="n">comments</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;comments.csv&#39;</span><span class="p">)</span>
<span class="n">school_memberships</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;school_memberships.csv&#39;</span><span class="p">)</span>
<span class="n">tags</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;tags.csv&#39;</span><span class="p">)</span>
<span class="n">emails</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;emails.csv&#39;</span><span class="p">)</span>
<span class="n">group_memberships</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;group_memberships.csv&#39;</span><span class="p">)</span>
<span class="n">answers</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;answers.csv&#39;</span><span class="p">)</span>
<span class="n">students</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;students.csv&#39;</span><span class="p">)</span>
<span class="n">matches</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;matches.csv&#39;</span><span class="p">)</span>
<span class="n">questions</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;questions.csv&#39;</span><span class="p">)</span>
<span class="n">tag_users</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;tag_users.csv&#39;</span><span class="p">)</span>
<span class="n">tag_questions</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;tag_questions.csv&#39;</span><span class="p">)</span>
<span class="n">answer_scores</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;answer_scores.csv&#39;</span><span class="p">)</span>
<span class="n">question_scores</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;question_scores.csv&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">professionals</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>professionals_id</th>
      <th>professionals_location</th>
      <th>professionals_industry</th>
      <th>professionals_headline</th>
      <th>professionals_date_joined</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>9ced4ce7519049c0944147afb75a8ce3</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2011-10-05 20:35:19 UTC+0000</td>
    </tr>
    <tr>
      <th>1</th>
      <td>f718dcf6d2ec4cb0a52a9db59d7f9e67</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2011-10-05 20:49:21 UTC+0000</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0c673e046d824ec0ad0ebe012a0673e4</td>
      <td>New York, New York</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2011-10-18 17:31:26 UTC+0000</td>
    </tr>
    <tr>
      <th>3</th>
      <td>977428d851b24183b223be0eb8619a8c</td>
      <td>Boston, Massachusetts</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2011-11-09 20:39:29 UTC+0000</td>
    </tr>
    <tr>
      <th>4</th>
      <td>e2d57e5041a44f489288397c9904c2b2</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2011-12-10 22:14:44 UTC+0000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">groups</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>groups_id</th>
      <th>groups_group_type</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>eabbdf4029734c848a9da20779637d03</td>
      <td>youth program</td>
    </tr>
    <tr>
      <th>1</th>
      <td>7080bf8dcf78463bb03e6863887fd715</td>
      <td>youth program</td>
    </tr>
    <tr>
      <th>2</th>
      <td>bc6fc50a2b444efc8ec47111b290ffb8</td>
      <td>youth program</td>
    </tr>
    <tr>
      <th>3</th>
      <td>37f002e8d5e442ca8e36e972eaa55882</td>
      <td>youth program</td>
    </tr>
    <tr>
      <th>4</th>
      <td>52419ff84d4b47bebd0b0a6c1263c296</td>
      <td>youth program</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">comments</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>comments_id</th>
      <th>comments_author_id</th>
      <th>comments_parent_content_id</th>
      <th>comments_date_added</th>
      <th>comments_body</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>f30250d3c2ca489db1afa9b95d481e08</td>
      <td>9fc88a7c3323466dbb35798264c7d497</td>
      <td>b476f9c6d9cd4c50a7bacdd90edd015a</td>
      <td>2019-01-31 23:39:40 UTC+0000</td>
      <td>First, you speak to recruiters. They are train...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>ca9bfc4ba9464ea383a8b080301ad72c</td>
      <td>de2415064b9b445c8717425ed70fd99a</td>
      <td>ef4b6ae24d1f4c3b977731e8189c7fd7</td>
      <td>2019-01-31 20:30:47 UTC+0000</td>
      <td>Most large universities offer study abroad pro...</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">school_memberships</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>school_memberships_school_id</th>
      <th>school_memberships_user_id</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>197406</td>
      <td>23dce13ca6164a73aec7a3cd56a4884d</td>
    </tr>
    <tr>
      <th>1</th>
      <td>197398</td>
      <td>23dce13ca6164a73aec7a3cd56a4884d</td>
    </tr>
    <tr>
      <th>2</th>
      <td>199821</td>
      <td>23dce13ca6164a73aec7a3cd56a4884d</td>
    </tr>
    <tr>
      <th>3</th>
      <td>186239</td>
      <td>9c5803ae43ca4cf6b27ea85871625116</td>
    </tr>
    <tr>
      <th>4</th>
      <td>182063</td>
      <td>9c5803ae43ca4cf6b27ea85871625116</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tags</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>tags_tag_id</th>
      <th>tags_tag_name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>27490</td>
      <td>college</td>
    </tr>
    <tr>
      <th>1</th>
      <td>461</td>
      <td>computer-science</td>
    </tr>
    <tr>
      <th>2</th>
      <td>593</td>
      <td>computer-software</td>
    </tr>
    <tr>
      <th>3</th>
      <td>27292</td>
      <td>business</td>
    </tr>
    <tr>
      <th>4</th>
      <td>18217</td>
      <td>doctor</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">emails</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>emails_id</th>
      <th>emails_recipient_id</th>
      <th>emails_date_sent</th>
      <th>emails_frequency_level</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>2337714</td>
      <td>0c673e046d824ec0ad0ebe012a0673e4</td>
      <td>2018-12-07 01:05:40 UTC+0000</td>
      <td>email_notification_daily</td>
    </tr>
    <tr>
      <th>1</th>
      <td>2336077</td>
      <td>0c673e046d824ec0ad0ebe012a0673e4</td>
      <td>2018-12-06 01:14:15 UTC+0000</td>
      <td>email_notification_daily</td>
    </tr>
    <tr>
      <th>2</th>
      <td>2314660</td>
      <td>0c673e046d824ec0ad0ebe012a0673e4</td>
      <td>2018-11-17 00:38:27 UTC+0000</td>
      <td>email_notification_daily</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2312639</td>
      <td>0c673e046d824ec0ad0ebe012a0673e4</td>
      <td>2018-11-16 00:32:19 UTC+0000</td>
      <td>email_notification_daily</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2299700</td>
      <td>0c673e046d824ec0ad0ebe012a0673e4</td>
      <td>2018-11-08 00:16:40 UTC+0000</td>
      <td>email_notification_daily</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">answers</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>answers_id</th>
      <th>answers_author_id</th>
      <th>answers_question_id</th>
      <th>answers_date_added</th>
      <th>answers_body</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>4e5f01128cae4f6d8fd697cec5dca60c</td>
      <td>36ff3b3666df400f956f8335cf53e09e</td>
      <td>332a511f1569444485cf7a7a556a5e54</td>
      <td>2016-04-29 19:40:14 UTC+0000</td>
      <td>&lt;p&gt;Hi!&lt;/p&gt;\n&lt;p&gt;You are asking a very interesti...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>ada720538c014e9b8a6dceed09385ee3</td>
      <td>2aa47af241bf42a4b874c453f0381bd4</td>
      <td>eb80205482e4424cad8f16bc25aa2d9c</td>
      <td>2018-05-01 14:19:08 UTC+0000</td>
      <td>&lt;p&gt;Hi. I joined the Army after I attended coll...</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
<div class="section" id="feature-extraction">
<h3>Feature Extraction<a class="headerlink" href="#feature-extraction" title="Permalink to this headline">¶</a></h3>
<p>The token_pos is used in spacy to extract only words belonging to the part-of-speech (POS) tagging. With this we want to reduce the text to only relevant words. A description of all available POS tags can be read at <a class="reference external" href="https://spacy.io/api/annotation#pos-tagging">https://spacy.io/api/annotation#pos-tagging</a></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Spacy Tokenfilter for part-of-speech tagging</span>
<span class="n">token_pos</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;NOUN&#39;</span><span class="p">,</span> <span class="s1">&#39;VERB&#39;</span><span class="p">,</span> <span class="s1">&#39;PROPN&#39;</span><span class="p">,</span> <span class="s1">&#39;ADJ&#39;</span><span class="p">,</span> <span class="s1">&#39;INTJ&#39;</span><span class="p">,</span> <span class="s1">&#39;X&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>The actual_date should simulate the current date, because we only have data until 2019-01-31 end of the day.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">professionals</span><span class="o">.</span><span class="n">dtypes</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>professionals_id             object
professionals_location       object
professionals_industry       object
professionals_headline       object
professionals_date_joined    object
dtype: object
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># The data export was from 1. February 2019. For Production use datetime.now()</span>
<span class="n">actual_date</span> <span class="o">=</span> <span class="n">datetime</span><span class="p">(</span><span class="mi">2019</span><span class="p">,</span> <span class="mi">2</span> <span class="p">,</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">nlp_preprocessing</span><span class="p">(</span><span class="n">data</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Use NLP to transform the text corpus to cleaned sentences and word tokens</span>

<span class="sd">        param data: List with sentences, which should be processed.</span>
<span class="sd">        return processed_tokens: List with the cleaned and tokenized sentences</span>
<span class="sd">    &quot;&quot;&quot;</span>    
    <span class="k">def</span> <span class="nf">token_filter</span><span class="p">(</span><span class="n">token</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot; Keep tokens which are alphabetic, in the pos (part-of-speech) list and not in stop list</span>
<span class="sd">            </span>
<span class="sd">        &quot;&quot;&quot;</span>    
        <span class="k">return</span> <span class="ow">not</span> <span class="n">token</span><span class="o">.</span><span class="n">is_stop</span> <span class="ow">and</span> <span class="n">token</span><span class="o">.</span><span class="n">is_alpha</span> <span class="ow">and</span> <span class="n">token</span><span class="o">.</span><span class="n">pos_</span> <span class="ow">in</span> <span class="n">token_pos</span>
    
    <span class="n">data</span> <span class="o">=</span> <span class="p">[</span><span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="sa">r</span><span class="s1">&#39;&lt;[^&gt;]+&gt;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">data</span><span class="p">]</span> <span class="c1">#Remove HTML-tags</span>
    <span class="n">processed_tokens</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">data_pipe</span> <span class="o">=</span> <span class="n">nlp</span><span class="o">.</span><span class="n">pipe</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
    <span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">data_pipe</span><span class="p">:</span>
        <span class="n">filtered_tokens</span> <span class="o">=</span> <span class="p">[</span><span class="n">token</span><span class="o">.</span><span class="n">lemma_</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span> <span class="k">for</span> <span class="n">token</span> <span class="ow">in</span> <span class="n">doc</span> <span class="k">if</span> <span class="n">token_filter</span><span class="p">(</span><span class="n">token</span><span class="p">)]</span>
        <span class="n">processed_tokens</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">filtered_tokens</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">processed_tokens</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="features">
<h4>Features<a class="headerlink" href="#features" title="Permalink to this headline">¶</a></h4>
<p>First we transform the datetime columns (<code class="docutils literal notranslate"><span class="pre">date_added</span></code> and <code class="docutils literal notranslate"><span class="pre">date_joined</span></code>), so that we can work with time delta functions.<br />
After this we create the following new columns:</p>
<p><strong>DataFrame Questions:</strong></p>
<ul class="simple">
<li><p><strong>questions_full_text:</strong> Merge the questions title with the body for later use of NLP.</p></li>
<li><p><strong>questions_answers_count:</strong> How many answers a question has.</p></li>
<li><p><strong>questions_first_answers:</strong> The timestamp for the first answer of the question.</p></li>
<li><p><strong>questions_last_answers:</strong> The timestamp for the last answer of the question.</p></li>
<li><p><strong>questions_hearts:</strong> Hearts score for the question.</p></li>
<li><p><strong>questions_tags:</strong> List with tags for the question.</p></li>
<li><p><strong>nlp_tokens:</strong> Extract relevant tokens from the question full text.</p></li>
</ul>
<p><strong>DataFrame Answers:</strong></p>
<ul class="simple">
<li><p><strong>time_delta_answert:</strong> Time delta from question to answer.</p></li>
<li><p><strong>answers_time_rank:</strong> Ranking for time to answer the question.</p></li>
<li><p><strong>answers_hearts:</strong> Hearts score for the answer.</p></li>
</ul>
<p><strong>DataFrame Professionals:</strong></p>
<ul class="simple">
<li><p><strong>professionals_time_delta_joined:</strong> Time since creating the account.</p></li>
<li><p><strong>professionals_answers_count:</strong> Number of written answers.</p></li>
<li><p><strong>professionals_comments_count:</strong> Number of written comments.</p></li>
<li><p><strong>date_last_answer:</strong> Date last answer.</p></li>
<li><p><strong>date_first_answer:</strong> Date first answer.</p></li>
<li><p><strong>date_last_comment:</strong> Date last comment.</p></li>
<li><p><strong>date_first_comment:</strong> Date first comment.</p></li>
<li><p><strong>date_last_activity:</strong> Date last activity (answer or comment).</p></li>
<li><p><strong>date_first_activity:</strong> Date first activity (answer or comment).</p></li>
<li><p><strong>professional_answers_hearts:</strong> Hearts score for all answers.</p></li>
<li><p><strong>professional_tags:</strong> List with tags for the professional.</p></li>
</ul>
<p><strong>DataFrame Students:</strong></p>
<ul class="simple">
<li><p><strong>students_time_delta_joined:</strong> Time since creating the account.</p></li>
<li><p><strong>students_questions_count:</strong> Number of written questions.</p></li>
<li><p><strong>students_comments_count:</strong> Number of written comments.</p></li>
<li><p><strong>date_last_questions:</strong> Date last question.</p></li>
<li><p><strong>date_first_questions:</strong> Date first question.</p></li>
<li><p><strong>date_last_comment:</strong> Date last comment.</p></li>
<li><p><strong>date_first_comment:</strong> Date first comment.</p></li>
<li><p><strong>date_last_activity:</strong> Date last activity (question or comment).</p></li>
<li><p><strong>date_first_activity:</strong> Date first activity (question or comment).</p></li>
<li><p><strong>students_questions_hearts:</strong> Hearts score for all questions.</p></li>
<li><p><strong>students_tags:</strong> List with tags for the students.</p></li>
</ul>
<p><strong>New DataFrame emails_response:</strong><br />
Has the response activity from professionals to emails and additional informations about the questions behind.</p>
<ul class="simple">
<li><p><strong>time_delta_email_answer:</strong> Time needed the question was answered after the email was send.</p></li>
<li><p><strong>time_delta_question_email:</strong> Time needed the email was send after the questions was written.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Transform datetime datatypes</span>
<span class="n">questions</span><span class="p">[</span><span class="s1">&#39;questions_date_added&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">questions</span><span class="p">[</span><span class="s1">&#39;questions_date_added&#39;</span><span class="p">],</span> <span class="n">infer_datetime_format</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">answers</span><span class="p">[</span><span class="s1">&#39;answers_date_added&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">answers</span><span class="p">[</span><span class="s1">&#39;answers_date_added&#39;</span><span class="p">],</span> <span class="n">infer_datetime_format</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">professionals</span><span class="p">[</span><span class="s1">&#39;professionals_date_joined&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">professionals</span><span class="p">[</span><span class="s1">&#39;professionals_date_joined&#39;</span><span class="p">],</span> <span class="n">infer_datetime_format</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">students</span><span class="p">[</span><span class="s1">&#39;students_date_joined&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">students</span><span class="p">[</span><span class="s1">&#39;students_date_joined&#39;</span><span class="p">],</span> <span class="n">infer_datetime_format</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">emails</span><span class="p">[</span><span class="s1">&#39;emails_date_sent&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">emails</span><span class="p">[</span><span class="s1">&#39;emails_date_sent&#39;</span><span class="p">],</span> <span class="n">infer_datetime_format</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">comments</span><span class="p">[</span><span class="s1">&#39;comments_date_added&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">comments</span><span class="p">[</span><span class="s1">&#39;comments_date_added&#39;</span><span class="p">],</span> <span class="n">infer_datetime_format</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">students</span><span class="o">.</span><span class="n">dtypes</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>students_id                          object
students_location                    object
students_date_joined    datetime64[ns, UTC]
dtype: object
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">df_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">professionals</span><span class="p">,</span> <span class="n">groups</span><span class="p">,</span> <span class="n">comments</span><span class="p">,</span> <span class="n">school_memberships</span><span class="p">,</span> <span class="n">tags</span><span class="p">,</span> <span class="n">emails</span><span class="p">,</span>
           <span class="n">group_memberships</span><span class="p">,</span> <span class="n">answers</span><span class="p">,</span> <span class="n">students</span><span class="p">,</span> <span class="n">matches</span><span class="p">,</span> <span class="n">questions</span><span class="p">,</span> <span class="n">tag_users</span><span class="p">,</span>
           <span class="n">tag_questions</span><span class="p">,</span> <span class="n">answer_scores</span><span class="p">,</span> <span class="n">question_scores</span><span class="p">]</span>

<span class="k">for</span> <span class="n">_df</span> <span class="ow">in</span> <span class="n">df_list</span><span class="p">:</span>
  <span class="k">for</span> <span class="n">col</span><span class="p">,</span> <span class="n">dtype</span> <span class="ow">in</span> <span class="nb">zip</span><span class="p">(</span><span class="n">_df</span><span class="o">.</span><span class="n">columns</span><span class="p">,</span> <span class="n">_df</span><span class="o">.</span><span class="n">dtypes</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">str</span><span class="p">(</span><span class="n">dtype</span><span class="p">)</span> <span class="o">==</span> <span class="s2">&quot;datetime64[ns, UTC]&quot;</span><span class="p">:</span>
      <span class="nb">print</span><span class="p">(</span><span class="nb">str</span><span class="p">(</span><span class="n">col</span><span class="p">)</span> <span class="o">+</span><span class="s2">&quot; =&gt; &quot;</span><span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">dtype</span><span class="p">))</span>
      <span class="n">_df</span><span class="p">[</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">_df</span><span class="p">[</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">tz_localize</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>professionals_date_joined =&gt; datetime64[ns, UTC]
comments_date_added =&gt; datetime64[ns, UTC]
emails_date_sent =&gt; datetime64[ns, UTC]
answers_date_added =&gt; datetime64[ns, UTC]
students_date_joined =&gt; datetime64[ns, UTC]
questions_date_added =&gt; datetime64[ns, UTC]
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#### Questions</span>
<span class="c1"># Merge Question Title and Body</span>
<span class="n">questions</span><span class="p">[</span><span class="s1">&#39;questions_full_text&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">questions</span><span class="p">[</span><span class="s1">&#39;questions_title&#39;</span><span class="p">]</span> <span class="o">+</span><span class="s1">&#39;</span><span class="se">\r\n\r\n</span><span class="s1">&#39;</span><span class="o">+</span> <span class="n">questions</span><span class="p">[</span><span class="s1">&#39;questions_body&#39;</span><span class="p">]</span>
<span class="c1"># Count of answers</span>
<span class="n">temp</span> <span class="o">=</span> <span class="n">answers</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;answers_question_id&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span>
<span class="n">questions</span><span class="p">[</span><span class="s1">&#39;questions_answers_count&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">questions</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">temp</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="s1">&#39;count&#39;</span><span class="p">)),</span> <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;questions_id&#39;</span><span class="p">,</span> <span class="n">right_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)[</span><span class="s1">&#39;count&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="c1"># First answer for questions</span>
<span class="n">temp</span> <span class="o">=</span> <span class="n">answers</span><span class="p">[[</span><span class="s1">&#39;answers_question_id&#39;</span><span class="p">,</span> <span class="s1">&#39;answers_date_added&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;answers_question_id&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
<span class="n">questions</span><span class="p">[</span><span class="s1">&#39;questions_first_answers&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">questions</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">temp</span><span class="p">),</span> <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;questions_id&#39;</span><span class="p">,</span> <span class="n">right_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)[</span><span class="s1">&#39;answers_date_added&#39;</span><span class="p">]</span>
<span class="c1"># Last answer for questions</span>
<span class="n">temp</span> <span class="o">=</span> <span class="n">answers</span><span class="p">[[</span><span class="s1">&#39;answers_question_id&#39;</span><span class="p">,</span> <span class="s1">&#39;answers_date_added&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;answers_question_id&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
<span class="n">questions</span><span class="p">[</span><span class="s1">&#39;questions_last_answers&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">questions</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">temp</span><span class="p">),</span> <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;questions_id&#39;</span><span class="p">,</span> <span class="n">right_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)[</span><span class="s1">&#39;answers_date_added&#39;</span><span class="p">]</span>
<span class="c1"># Hearts Score</span>
<span class="n">temp</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">questions</span><span class="p">,</span> <span class="n">question_scores</span><span class="p">,</span> <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;questions_id&#39;</span><span class="p">,</span> <span class="n">right_on</span><span class="o">=</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)</span>
<span class="n">questions</span><span class="p">[</span><span class="s1">&#39;questions_hearts&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">temp</span><span class="p">[</span><span class="s1">&#39;score&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="c1"># Questions Tags list</span>
<span class="n">temp</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">questions</span><span class="p">,</span> <span class="n">tag_questions</span><span class="p">,</span> <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;questions_id&#39;</span><span class="p">,</span> <span class="n">right_on</span><span class="o">=</span><span class="s1">&#39;tag_questions_question_id&#39;</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;inner&#39;</span><span class="p">)</span>
<span class="n">temp</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">temp</span><span class="p">,</span> <span class="n">tags</span><span class="p">,</span> <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;tag_questions_tag_id&#39;</span><span class="p">,</span> <span class="n">right_on</span><span class="o">=</span><span class="s1">&#39;tags_tag_id&#39;</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;inner&#39;</span><span class="p">)</span>
<span class="n">temp</span> <span class="o">=</span> <span class="n">temp</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;questions_id&#39;</span><span class="p">)[</span><span class="s1">&#39;tags_tag_name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="s1">&#39;questions_tags&#39;</span><span class="p">)</span>
<span class="n">questions</span><span class="p">[</span><span class="s1">&#39;questions_tags&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">questions</span><span class="p">,</span> <span class="n">temp</span><span class="o">.</span><span class="n">to_frame</span><span class="p">(),</span> <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;questions_id&#39;</span><span class="p">,</span> <span class="n">right_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)[</span><span class="s1">&#39;questions_tags&#39;</span><span class="p">]</span>
<span class="c1"># Get NLP Tokens</span>
<span class="n">questions</span><span class="p">[</span><span class="s1">&#39;nlp_tokens&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">nlp_preprocessing</span><span class="p">(</span><span class="n">questions</span><span class="p">[</span><span class="s1">&#39;questions_full_text&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#### Answers</span>
<span class="c1"># Days required to answer the question</span>
<span class="n">temp</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">questions</span><span class="p">,</span> <span class="n">answers</span><span class="p">,</span> <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;questions_id&#39;</span><span class="p">,</span> <span class="n">right_on</span><span class="o">=</span><span class="s1">&#39;answers_question_id&#39;</span><span class="p">)</span>
<span class="n">answers</span><span class="p">[</span><span class="s1">&#39;time_delta_answer&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">temp</span><span class="p">[</span><span class="s1">&#39;answers_date_added&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">temp</span><span class="p">[</span><span class="s1">&#39;questions_date_added&#39;</span><span class="p">])</span>
<span class="c1"># Ranking for answers time</span>
<span class="n">answers</span><span class="p">[</span><span class="s1">&#39;answers_time_rank&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">answers</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;answers_question_id&#39;</span><span class="p">)[</span><span class="s1">&#39;time_delta_answer&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">rank</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;min&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="c1"># Hearts Score</span>
<span class="n">temp</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">answers</span><span class="p">,</span> <span class="n">answer_scores</span><span class="p">,</span> <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;answers_id&#39;</span><span class="p">,</span> <span class="n">right_on</span><span class="o">=</span><span class="s1">&#39;id&#39;</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)</span>
<span class="n">answers</span><span class="p">[</span><span class="s1">&#39;answers_hearts&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">temp</span><span class="p">[</span><span class="s1">&#39;score&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#### Professionals</span>
<span class="c1"># Time since joining</span>
<span class="n">professionals</span><span class="p">[</span><span class="s1">&#39;professionals_time_delta_joined&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">actual_date</span> <span class="o">-</span> <span class="n">professionals</span><span class="p">[</span><span class="s1">&#39;professionals_date_joined&#39;</span><span class="p">]</span>
<span class="c1"># Number of answers</span>
<span class="n">temp</span> <span class="o">=</span> <span class="n">answers</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;answers_author_id&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span>
<span class="n">professionals</span><span class="p">[</span><span class="s1">&#39;professionals_answers_count&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">professionals</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">temp</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="s1">&#39;count&#39;</span><span class="p">)),</span> <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;professionals_id&#39;</span><span class="p">,</span> <span class="n">right_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)[</span><span class="s1">&#39;count&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="c1"># Number of comments</span>
<span class="n">temp</span> <span class="o">=</span> <span class="n">comments</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;comments_author_id&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span>
<span class="n">professionals</span><span class="p">[</span><span class="s1">&#39;professionals_comments_count&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">professionals</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">temp</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="s1">&#39;count&#39;</span><span class="p">)),</span> <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;professionals_id&#39;</span><span class="p">,</span> <span class="n">right_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)[</span><span class="s1">&#39;count&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="c1"># Last activity (Answer)</span>
<span class="n">temp</span> <span class="o">=</span> <span class="n">answers</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;answers_author_id&#39;</span><span class="p">)[</span><span class="s1">&#39;answers_date_added&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
<span class="n">professionals</span><span class="p">[</span><span class="s1">&#39;date_last_answer&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">professionals</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">temp</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="s1">&#39;last_answer&#39;</span><span class="p">)),</span> <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;professionals_id&#39;</span><span class="p">,</span> <span class="n">right_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)[</span><span class="s1">&#39;last_answer&#39;</span><span class="p">]</span>
<span class="c1"># First activity (Answer)</span>
<span class="n">temp</span> <span class="o">=</span> <span class="n">answers</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;answers_author_id&#39;</span><span class="p">)[</span><span class="s1">&#39;answers_date_added&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
<span class="n">professionals</span><span class="p">[</span><span class="s1">&#39;date_first_answer&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">professionals</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">temp</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="s1">&#39;first_answer&#39;</span><span class="p">)),</span> <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;professionals_id&#39;</span><span class="p">,</span> <span class="n">right_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)[</span><span class="s1">&#39;first_answer&#39;</span><span class="p">]</span>
<span class="c1"># Last activity (Comment)</span>
<span class="n">temp</span> <span class="o">=</span> <span class="n">comments</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;comments_author_id&#39;</span><span class="p">)[</span><span class="s1">&#39;comments_date_added&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
<span class="n">professionals</span><span class="p">[</span><span class="s1">&#39;date_last_comment&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">professionals</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">temp</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="s1">&#39;last_comment&#39;</span><span class="p">)),</span> <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;professionals_id&#39;</span><span class="p">,</span> <span class="n">right_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)[</span><span class="s1">&#39;last_comment&#39;</span><span class="p">]</span>
<span class="c1"># First activity (Comment)</span>
<span class="n">temp</span> <span class="o">=</span> <span class="n">comments</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;comments_author_id&#39;</span><span class="p">)[</span><span class="s1">&#39;comments_date_added&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
<span class="n">professionals</span><span class="p">[</span><span class="s1">&#39;date_first_comment&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">professionals</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">temp</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="s1">&#39;first_comment&#39;</span><span class="p">)),</span> <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;professionals_id&#39;</span><span class="p">,</span> <span class="n">right_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)[</span><span class="s1">&#39;first_comment&#39;</span><span class="p">]</span>
<span class="c1"># Last activity (Total)</span>
<span class="n">professionals</span><span class="p">[</span><span class="s1">&#39;date_last_activity&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">professionals</span><span class="p">[[</span><span class="s1">&#39;date_last_answer&#39;</span><span class="p">,</span> <span class="s1">&#39;date_last_comment&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="c1"># First activity (Total)</span>
<span class="n">professionals</span><span class="p">[</span><span class="s1">&#39;date_first_activity&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">professionals</span><span class="p">[[</span><span class="s1">&#39;date_first_answer&#39;</span><span class="p">,</span> <span class="s1">&#39;date_first_comment&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="c1"># Total Hearts score</span>
<span class="n">temp</span> <span class="o">=</span> <span class="n">answers</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;answers_author_id&#39;</span><span class="p">)[</span><span class="s1">&#39;answers_hearts&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">professionals</span><span class="p">[</span><span class="s1">&#39;professional_answers_hearts&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">professionals</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">temp</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="s1">&#39;answers_hearts&#39;</span><span class="p">)),</span> <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;professionals_id&#39;</span><span class="p">,</span> <span class="n">right_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)[</span><span class="s1">&#39;answers_hearts&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="c1"># Professionals Tags to List</span>
<span class="n">temp</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">professionals</span><span class="p">,</span> <span class="n">tag_users</span><span class="p">,</span> <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;professionals_id&#39;</span><span class="p">,</span> <span class="n">right_on</span><span class="o">=</span><span class="s1">&#39;tag_users_user_id&#39;</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;inner&#39;</span><span class="p">)</span>
<span class="n">temp</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">temp</span><span class="p">,</span> <span class="n">tags</span><span class="p">,</span> <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;tag_users_tag_id&#39;</span><span class="p">,</span> <span class="n">right_on</span><span class="o">=</span><span class="s1">&#39;tags_tag_id&#39;</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;inner&#39;</span><span class="p">)</span>
<span class="n">temp</span> <span class="o">=</span> <span class="n">temp</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;professionals_id&#39;</span><span class="p">)[</span><span class="s1">&#39;tags_tag_name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="s1">&#39;professionals_tags&#39;</span><span class="p">)</span>
<span class="n">professionals</span><span class="p">[</span><span class="s1">&#39;professionals_tags&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">professionals</span><span class="p">,</span> <span class="n">temp</span><span class="o">.</span><span class="n">to_frame</span><span class="p">(),</span> <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;professionals_id&#39;</span><span class="p">,</span> <span class="n">right_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)[</span><span class="s1">&#39;professionals_tags&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#### Students</span>
<span class="c1"># Time since joining</span>
<span class="n">students</span><span class="p">[</span><span class="s1">&#39;students_time_delta_joined&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">actual_date</span> <span class="o">-</span> <span class="n">students</span><span class="p">[</span><span class="s1">&#39;students_date_joined&#39;</span><span class="p">]</span>
<span class="c1"># Number of answers</span>
<span class="n">temp</span> <span class="o">=</span> <span class="n">questions</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;questions_author_id&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span>
<span class="n">students</span><span class="p">[</span><span class="s1">&#39;students_questions_count&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">students</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">temp</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="s1">&#39;count&#39;</span><span class="p">)),</span> <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;students_id&#39;</span><span class="p">,</span> <span class="n">right_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)[</span><span class="s1">&#39;count&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="c1"># Number of comments</span>
<span class="n">temp</span> <span class="o">=</span> <span class="n">comments</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;comments_author_id&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span>
<span class="n">students</span><span class="p">[</span><span class="s1">&#39;students_comments_count&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">students</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">temp</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="s1">&#39;count&#39;</span><span class="p">)),</span> <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;students_id&#39;</span><span class="p">,</span> <span class="n">right_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)[</span><span class="s1">&#39;count&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="c1"># Last activity (Question)</span>
<span class="n">temp</span> <span class="o">=</span> <span class="n">questions</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;questions_author_id&#39;</span><span class="p">)[</span><span class="s1">&#39;questions_date_added&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
<span class="n">students</span><span class="p">[</span><span class="s1">&#39;date_last_question&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">students</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">temp</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="s1">&#39;last_question&#39;</span><span class="p">)),</span> <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;students_id&#39;</span><span class="p">,</span> <span class="n">right_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)[</span><span class="s1">&#39;last_question&#39;</span><span class="p">]</span>
<span class="c1"># First activity (Question)</span>
<span class="n">temp</span> <span class="o">=</span> <span class="n">questions</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;questions_author_id&#39;</span><span class="p">)[</span><span class="s1">&#39;questions_date_added&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
<span class="n">students</span><span class="p">[</span><span class="s1">&#39;date_first_question&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">students</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">temp</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="s1">&#39;first_question&#39;</span><span class="p">)),</span> <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;students_id&#39;</span><span class="p">,</span> <span class="n">right_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)[</span><span class="s1">&#39;first_question&#39;</span><span class="p">]</span>
<span class="c1"># Last activity (Comment)</span>
<span class="n">temp</span> <span class="o">=</span> <span class="n">comments</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;comments_author_id&#39;</span><span class="p">)[</span><span class="s1">&#39;comments_date_added&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">max</span><span class="p">()</span>
<span class="n">students</span><span class="p">[</span><span class="s1">&#39;date_last_comment&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">students</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">temp</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="s1">&#39;last_comment&#39;</span><span class="p">)),</span> <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;students_id&#39;</span><span class="p">,</span> <span class="n">right_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)[</span><span class="s1">&#39;last_comment&#39;</span><span class="p">]</span>
<span class="c1"># First activity (Comment)</span>
<span class="n">temp</span> <span class="o">=</span> <span class="n">comments</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;comments_author_id&#39;</span><span class="p">)[</span><span class="s1">&#39;comments_date_added&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">min</span><span class="p">()</span>
<span class="n">students</span><span class="p">[</span><span class="s1">&#39;date_first_comment&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">students</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">temp</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="s1">&#39;first_comment&#39;</span><span class="p">)),</span> <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;students_id&#39;</span><span class="p">,</span> <span class="n">right_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)[</span><span class="s1">&#39;first_comment&#39;</span><span class="p">]</span>
<span class="c1"># Last activity (Total)</span>
<span class="n">students</span><span class="p">[</span><span class="s1">&#39;date_last_activity&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">students</span><span class="p">[[</span><span class="s1">&#39;date_last_question&#39;</span><span class="p">,</span> <span class="s1">&#39;date_last_comment&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="c1"># First activity (Total)</span>
<span class="n">students</span><span class="p">[</span><span class="s1">&#39;date_first_activity&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">students</span><span class="p">[[</span><span class="s1">&#39;date_first_question&#39;</span><span class="p">,</span> <span class="s1">&#39;date_first_comment&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">min</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="c1"># Total Hearts score</span>
<span class="n">temp</span> <span class="o">=</span> <span class="n">questions</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;questions_author_id&#39;</span><span class="p">)[</span><span class="s1">&#39;questions_hearts&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>
<span class="n">students</span><span class="p">[</span><span class="s1">&#39;students_questions_hearts&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">students</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">temp</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="s1">&#39;questions_hearts&#39;</span><span class="p">)),</span> <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;students_id&#39;</span><span class="p">,</span> <span class="n">right_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)[</span><span class="s1">&#39;questions_hearts&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="c1"># Students Tags to List</span>
<span class="n">temp</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">students</span><span class="p">,</span> <span class="n">tag_users</span><span class="p">,</span> <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;students_id&#39;</span><span class="p">,</span> <span class="n">right_on</span><span class="o">=</span><span class="s1">&#39;tag_users_user_id&#39;</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;inner&#39;</span><span class="p">)</span>
<span class="n">temp</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">temp</span><span class="p">,</span> <span class="n">tags</span><span class="p">,</span> <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;tag_users_tag_id&#39;</span><span class="p">,</span> <span class="n">right_on</span><span class="o">=</span><span class="s1">&#39;tags_tag_id&#39;</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;inner&#39;</span><span class="p">)</span>
<span class="n">temp</span> <span class="o">=</span> <span class="n">temp</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;students_id&#39;</span><span class="p">)[</span><span class="s1">&#39;tags_tag_name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="s1">&#39;students_tags&#39;</span><span class="p">)</span>
<span class="n">students</span><span class="p">[</span><span class="s1">&#39;students_tags&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">students</span><span class="p">,</span> <span class="n">temp</span><span class="o">.</span><span class="n">to_frame</span><span class="p">(),</span> <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;students_id&#39;</span><span class="p">,</span> <span class="n">right_index</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)[</span><span class="s1">&#39;students_tags&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1">#### Emails Response</span>
<span class="n">emails_response</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">emails</span><span class="p">,</span> <span class="n">matches</span><span class="p">,</span> <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;emails_id&#39;</span><span class="p">,</span> <span class="n">right_on</span><span class="o">=</span><span class="s1">&#39;matches_email_id&#39;</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;inner&#39;</span><span class="p">)</span>
<span class="n">emails_response</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">emails_response</span><span class="p">,</span> <span class="n">questions</span><span class="p">,</span> <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;matches_question_id&#39;</span><span class="p">,</span> <span class="n">right_on</span><span class="o">=</span><span class="s1">&#39;questions_id&#39;</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;inner&#39;</span><span class="p">)</span>
<span class="n">emails_response</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">emails_response</span><span class="p">,</span> <span class="n">answers</span><span class="p">,</span> <span class="n">left_on</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;emails_recipient_id&#39;</span><span class="p">,</span> <span class="s1">&#39;matches_question_id&#39;</span><span class="p">],</span> <span class="n">right_on</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;answers_author_id&#39;</span><span class="p">,</span> <span class="s1">&#39;answers_question_id&#39;</span><span class="p">],</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)</span>
<span class="n">emails_response</span> <span class="o">=</span> <span class="n">emails_response</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;matches_email_id&#39;</span><span class="p">,</span> <span class="s1">&#39;matches_question_id&#39;</span><span class="p">,</span> <span class="s1">&#39;answers_id&#39;</span><span class="p">,</span> <span class="s1">&#39;answers_author_id&#39;</span><span class="p">,</span> <span class="s1">&#39;answers_body&#39;</span><span class="p">,</span> <span class="s1">&#39;answers_question_id&#39;</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">emails_response</span> <span class="o">=</span> <span class="n">emails_response</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;questions_author_id&#39;</span><span class="p">,</span> <span class="s1">&#39;questions_title&#39;</span><span class="p">,</span> <span class="s1">&#39;questions_body&#39;</span><span class="p">,</span> <span class="s1">&#39;questions_full_text&#39;</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
<span class="n">emails_response</span><span class="p">[</span><span class="s1">&#39;time_delta_email_answer&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">emails_response</span><span class="p">[</span><span class="s1">&#39;answers_date_added&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">emails_response</span><span class="p">[</span><span class="s1">&#39;emails_date_sent&#39;</span><span class="p">])</span>
<span class="n">emails_response</span><span class="p">[</span><span class="s1">&#39;time_delta_question_email&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">emails_response</span><span class="p">[</span><span class="s1">&#39;emails_date_sent&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">emails_response</span><span class="p">[</span><span class="s1">&#39;questions_date_added&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="eda">
<h3>EDA<a class="headerlink" href="#eda" title="Permalink to this headline">¶</a></h3>
<div class="section" id="how-do-the-files-connect">
<h4>How do the files connect<a class="headerlink" href="#how-do-the-files-connect" title="Permalink to this headline">¶</a></h4>
<p>Present how the data connects using Graphviz</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">graphviz</span> <span class="kn">import</span> <span class="n">Digraph</span><span class="p">,</span> <span class="n">Source</span>

<span class="n">g</span> <span class="o">=</span> <span class="n">Digraph</span><span class="p">(</span><span class="s1">&#39;G&#39;</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s1">&#39;process.gv&#39;</span><span class="p">,</span> <span class="n">engine</span><span class="o">=</span><span class="s1">&#39;sfdp&#39;</span><span class="p">)</span>

<span class="n">g</span><span class="o">.</span><span class="n">edge</span><span class="p">(</span><span class="s1">&#39;Answers&#39;</span><span class="p">,</span> <span class="s1">&#39;Professionals&#39;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">edge</span><span class="p">(</span><span class="s1">&#39;Questions&#39;</span><span class="p">,</span> <span class="s1">&#39;Answers&#39;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">edge</span><span class="p">(</span><span class="s1">&#39;Question Score&#39;</span><span class="p">,</span> <span class="s1">&#39;Questions&#39;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">edge</span><span class="p">(</span><span class="s1">&#39;Answer Score&#39;</span><span class="p">,</span> <span class="s1">&#39;Answers&#39;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">edge</span><span class="p">(</span><span class="s1">&#39;Emails&#39;</span><span class="p">,</span> <span class="s1">&#39;Answers&#39;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">edge</span><span class="p">(</span><span class="s1">&#39;Emails&#39;</span><span class="p">,</span> <span class="s1">&#39;Matches&#39;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">edge</span><span class="p">(</span><span class="s1">&#39;Answers&#39;</span><span class="p">,</span> <span class="s1">&#39;Comments&#39;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">edge</span><span class="p">(</span><span class="s1">&#39;Questions&#39;</span><span class="p">,</span> <span class="s1">&#39;Comments&#39;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">edge</span><span class="p">(</span><span class="s1">&#39;Questions&#39;</span><span class="p">,</span> <span class="s1">&#39;Question Tags&#39;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">edge</span><span class="p">(</span><span class="s1">&#39;Students&#39;</span><span class="p">,</span> <span class="s1">&#39;Group Memberships&#39;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">edge</span><span class="p">(</span><span class="s1">&#39;Students&#39;</span><span class="p">,</span> <span class="s1">&#39;School Memberships&#39;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">edge</span><span class="p">(</span><span class="s1">&#39;Tag Users&#39;</span><span class="p">,</span> <span class="s1">&#39;Group Memberships&#39;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">edge</span><span class="p">(</span><span class="s1">&#39;Tag Users&#39;</span><span class="p">,</span> <span class="s1">&#39;Tags&#39;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">edge</span><span class="p">(</span><span class="s1">&#39;Tag Questions&#39;</span><span class="p">,</span> <span class="s1">&#39;Tags&#39;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">edge</span><span class="p">(</span><span class="s1">&#39;Questions&#39;</span><span class="p">,</span> <span class="s1">&#39;Tag Questions&#39;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">edge</span><span class="p">(</span><span class="s1">&#39;Group Memberships&#39;</span><span class="p">,</span> <span class="s1">&#39;Groups&#39;</span><span class="p">)</span>
<span class="n">g</span><span class="o">.</span><span class="n">edge</span><span class="p">(</span><span class="s1">&#39;Matches&#39;</span><span class="p">,</span> <span class="s1">&#39;Questions&#39;</span><span class="p">)</span>

<span class="n">s</span> <span class="o">=</span> <span class="n">Source</span><span class="p">(</span><span class="n">g</span><span class="p">,</span> <span class="n">filename</span><span class="o">=</span><span class="s2">&quot;data_flow&quot;</span><span class="p">,</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;png&quot;</span><span class="p">)</span>
<span class="n">s</span><span class="o">.</span><span class="n">view</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;data_flow.png&#39;
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">IPython.display</span> <span class="kn">import</span> <span class="n">display</span><span class="p">,</span> <span class="n">Image</span>
<span class="n">display</span><span class="p">(</span><span class="n">Image</span><span class="p">(</span><span class="n">filename</span><span class="o">=</span><span class="s1">&#39;data_flow.png&#39;</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/T964554_Career_Village_Questions_Recommendation_38_0.png" src="../_images/T964554_Career_Village_Questions_Recommendation_38_0.png" />
</div>
</div>
</div>
<div class="section" id="time-series">
<h4>Time Series<a class="headerlink" href="#time-series" title="Permalink to this headline">¶</a></h4>
<p>Here we can see in which year the most user activity was. There was a large increase in 2016. 40% of all questions and comments were in this year. Most of the professionals (40%) have joined in the year 2018. But this hasn’t increase the number of answers and comments.
In some future analyses, we will limit the data to 2016 and onwards. This is to prevent possible noise from the Career Village start time.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plt_professionals</span> <span class="o">=</span> <span class="p">(</span><span class="n">professionals</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="n">professionals</span><span class="p">[</span><span class="s1">&#39;professionals_date_joined&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">year</span><span class="p">])</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">professionals</span><span class="o">.</span><span class="n">index</span><span class="p">))</span>
<span class="n">plt_students</span> <span class="o">=</span> <span class="p">(</span><span class="n">students</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="n">students</span><span class="p">[</span><span class="s1">&#39;students_date_joined&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">year</span><span class="p">])</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">students</span><span class="o">.</span><span class="n">index</span><span class="p">))</span>
<span class="n">plt_questions</span> <span class="o">=</span> <span class="p">(</span><span class="n">questions</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="n">questions</span><span class="p">[</span><span class="s1">&#39;questions_date_added&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">year</span><span class="p">])</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">questions</span><span class="o">.</span><span class="n">index</span><span class="p">))</span>
<span class="n">plt_answers</span> <span class="o">=</span> <span class="p">(</span><span class="n">answers</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="n">answers</span><span class="p">[</span><span class="s1">&#39;answers_date_added&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">year</span><span class="p">])</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">answers</span><span class="o">.</span><span class="n">index</span><span class="p">))</span>
<span class="n">plt_emails</span> <span class="o">=</span> <span class="p">(</span><span class="n">emails</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="n">emails</span><span class="p">[</span><span class="s1">&#39;emails_date_sent&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">year</span><span class="p">])</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">emails</span><span class="o">.</span><span class="n">index</span><span class="p">))</span>
<span class="n">plt_comments</span> <span class="o">=</span> <span class="p">(</span><span class="n">comments</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="n">comments</span><span class="p">[</span><span class="s1">&#39;comments_date_added&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">year</span><span class="p">])</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">comments</span><span class="o">.</span><span class="n">index</span><span class="p">))</span>
<span class="n">plt_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;students&#39;</span><span class="p">:</span><span class="n">plt_students</span><span class="p">,</span>
                         <span class="s1">&#39;questions&#39;</span><span class="p">:</span> <span class="n">plt_questions</span><span class="p">,</span>
                         <span class="s1">&#39;professionals&#39;</span><span class="p">:</span><span class="n">plt_professionals</span><span class="p">,</span>
                        <span class="s1">&#39;answers&#39;</span><span class="p">:</span><span class="n">plt_answers</span><span class="p">,</span>
                        <span class="s1">&#39;comments&#39;</span><span class="p">:</span><span class="n">plt_comments</span><span class="p">,</span>
                        <span class="s1">&#39;emails&#39;</span><span class="p">:</span><span class="n">plt_emails</span><span class="p">})</span>
<span class="n">plt_data</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Year&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Proportion&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Distribution over time&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/T964554_Career_Village_Questions_Recommendation_40_0.png" src="../_images/T964554_Career_Village_Questions_Recommendation_40_0.png" />
</div>
</div>
</div>
<div class="section" id="missing-values-professionals">
<h4>Missing values (Professionals)<a class="headerlink" href="#missing-values-professionals" title="Permalink to this headline">¶</a></h4>
<p>The Location, Industry and Headline were specified by the most professionals. Even hashtags are used by most. The specification of the school is made however only by the fewest.
The industry could therefore be a good feature for the recommendation. Especially for new authors who have not written any answer or comments. If an professional is in the medical field, he should not necessarily get questions about a career as a lawyer.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">temp</span> <span class="o">=</span> <span class="n">professionals</span><span class="p">[[</span><span class="s1">&#39;professionals_location&#39;</span><span class="p">,</span> <span class="s1">&#39;professionals_industry&#39;</span><span class="p">,</span> <span class="s1">&#39;professionals_headline&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="s1">&#39;Missing&#39;</span><span class="p">)</span>
<span class="n">temp</span> <span class="o">=</span> <span class="n">temp</span><span class="o">.</span><span class="n">applymap</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="s1">&#39;Missing&#39;</span> <span class="k">else</span> <span class="s1">&#39;Available&#39;</span><span class="p">)</span>
<span class="n">plt_professionals_location</span> <span class="o">=</span> <span class="n">temp</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;professionals_location&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">temp</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<span class="n">plt_professionals_industry</span> <span class="o">=</span> <span class="n">temp</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;professionals_industry&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">temp</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<span class="n">plt_professionals_headline</span> <span class="o">=</span> <span class="n">temp</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;professionals_headline&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">temp</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>

<span class="n">plt_professionals_tags</span> <span class="o">=</span> <span class="n">tag_users</span><span class="p">[</span><span class="s1">&#39;tag_users_user_id&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
<span class="n">plt_professionals_tags</span> <span class="o">=</span> <span class="n">professionals</span><span class="p">[</span><span class="s1">&#39;professionals_id&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="s1">&#39;Available&#39;</span> <span class="k">if</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">plt_professionals_tags</span> <span class="k">else</span> <span class="s1">&#39;Missing&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="s1">&#39;professionals_tags&#39;</span><span class="p">)</span>
<span class="n">plt_professionals_tags</span> <span class="o">=</span> <span class="n">plt_professionals_tags</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">plt_professionals_tags</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">plt_professionals_tags</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<span class="n">plt_professionals_group</span> <span class="o">=</span> <span class="n">group_memberships</span><span class="p">[</span><span class="s1">&#39;group_memberships_user_id&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
<span class="n">plt_professionals_group</span> <span class="o">=</span> <span class="n">professionals</span><span class="p">[</span><span class="s1">&#39;professionals_id&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="s1">&#39;Available&#39;</span> <span class="k">if</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">plt_professionals_group</span> <span class="k">else</span> <span class="s1">&#39;Missing&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="s1">&#39;professionals_groups&#39;</span><span class="p">)</span>
<span class="n">plt_professionals_group</span> <span class="o">=</span> <span class="n">plt_professionals_group</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">plt_professionals_group</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">plt_professionals_group</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<span class="n">plt_professionals_school</span> <span class="o">=</span> <span class="n">school_memberships</span><span class="p">[</span><span class="s1">&#39;school_memberships_user_id&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
<span class="n">plt_professionals_school</span> <span class="o">=</span> <span class="n">professionals</span><span class="p">[</span><span class="s1">&#39;professionals_id&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="s1">&#39;Available&#39;</span> <span class="k">if</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">plt_professionals_school</span> <span class="k">else</span> <span class="s1">&#39;Missing&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="s1">&#39;professionals_schools&#39;</span><span class="p">)</span>
<span class="n">plt_professionals_school</span> <span class="o">=</span> <span class="n">plt_professionals_school</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">plt_professionals_school</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">plt_professionals_school</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>

<span class="n">temp</span> <span class="o">=</span> <span class="n">professionals</span><span class="p">[[</span><span class="s1">&#39;professionals_answers_count&#39;</span><span class="p">,</span> <span class="s1">&#39;professionals_comments_count&#39;</span><span class="p">]]</span>
<span class="n">temp</span> <span class="o">=</span> <span class="n">temp</span><span class="o">.</span><span class="n">applymap</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="s1">&#39;Available&#39;</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="s1">&#39;Missing&#39;</span><span class="p">)</span>
<span class="n">plt_professionals_answers</span> <span class="o">=</span> <span class="n">temp</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;professionals_answers_count&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">temp</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<span class="n">plt_professionals_comments</span> <span class="o">=</span> <span class="n">temp</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;professionals_comments_count&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">temp</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>

<span class="n">plt_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;Location&#39;</span><span class="p">:</span> <span class="n">plt_professionals_location</span><span class="p">,</span>
                        <span class="s1">&#39;Industry&#39;</span><span class="p">:</span> <span class="n">plt_professionals_industry</span><span class="p">,</span>
                        <span class="s1">&#39;Headline&#39;</span><span class="p">:</span> <span class="n">plt_professionals_headline</span><span class="p">,</span>
                        <span class="s1">&#39;Tags&#39;</span><span class="p">:</span> <span class="n">plt_professionals_tags</span><span class="p">,</span>
                        <span class="s1">&#39;Groups&#39;</span><span class="p">:</span> <span class="n">plt_professionals_group</span><span class="p">,</span>
                        <span class="s1">&#39;Schools&#39;</span><span class="p">:</span> <span class="n">plt_professionals_school</span><span class="p">,</span>
                        <span class="s1">&#39;Answers&#39;</span><span class="p">:</span> <span class="n">plt_professionals_answers</span><span class="p">,</span>
                        <span class="s1">&#39;Comments&#39;</span><span class="p">:</span> <span class="n">plt_professionals_comments</span><span class="p">,})</span>

<span class="n">plt_data</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="n">stacked</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Proportion&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Missing values for professionals&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">1.05</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;center left&#39;</span><span class="p">,</span> <span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">plt_data</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/T964554_Career_Village_Questions_Recommendation_42_0.png" src="../_images/T964554_Career_Village_Questions_Recommendation_42_0.png" />
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Available</th>
      <th>Missing</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Location</th>
      <td>0.889955</td>
      <td>0.110045</td>
    </tr>
    <tr>
      <th>Industry</th>
      <td>0.908497</td>
      <td>0.091503</td>
    </tr>
    <tr>
      <th>Headline</th>
      <td>0.926577</td>
      <td>0.073423</td>
    </tr>
    <tr>
      <th>Tags</th>
      <td>0.909136</td>
      <td>0.090864</td>
    </tr>
    <tr>
      <th>Groups</th>
      <td>0.017477</td>
      <td>0.982523</td>
    </tr>
    <tr>
      <th>Schools</th>
      <td>0.075341</td>
      <td>0.924659</td>
    </tr>
    <tr>
      <th>Answers</th>
      <td>0.357594</td>
      <td>0.642406</td>
    </tr>
    <tr>
      <th>Comments</th>
      <td>0.052359</td>
      <td>0.947641</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
<div class="section" id="missing-values-students">
<h4>Missing values (Students)<a class="headerlink" href="#missing-values-students" title="Permalink to this headline">¶</a></h4>
<p>It’s a little different with the students. Only the location is specified by most students, while the rest is rather not used.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">temp</span> <span class="o">=</span> <span class="n">students</span><span class="p">[[</span><span class="s1">&#39;students_location&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="s1">&#39;Missing&#39;</span><span class="p">)</span>
<span class="n">temp</span> <span class="o">=</span> <span class="n">temp</span><span class="o">.</span><span class="n">applymap</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="k">if</span> <span class="n">x</span> <span class="o">==</span> <span class="s1">&#39;Missing&#39;</span> <span class="k">else</span> <span class="s1">&#39;Available&#39;</span><span class="p">)</span>
<span class="n">plt_students_location</span> <span class="o">=</span> <span class="n">temp</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;students_location&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">temp</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>

<span class="n">plt_students_tags</span> <span class="o">=</span> <span class="n">tag_users</span><span class="p">[</span><span class="s1">&#39;tag_users_user_id&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
<span class="n">plt_students_tags</span> <span class="o">=</span> <span class="n">students</span><span class="p">[</span><span class="s1">&#39;students_id&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="s1">&#39;Available&#39;</span> <span class="k">if</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">plt_students_tags</span> <span class="k">else</span> <span class="s1">&#39;Missing&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="s1">&#39;students_tags&#39;</span><span class="p">)</span>
<span class="n">plt_students_tags</span> <span class="o">=</span> <span class="n">plt_students_tags</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">plt_students_tags</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">plt_students_tags</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<span class="n">plt_students_group</span> <span class="o">=</span> <span class="n">group_memberships</span><span class="p">[</span><span class="s1">&#39;group_memberships_user_id&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
<span class="n">plt_students_group</span> <span class="o">=</span> <span class="n">students</span><span class="p">[</span><span class="s1">&#39;students_id&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="s1">&#39;Available&#39;</span> <span class="k">if</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">plt_students_group</span> <span class="k">else</span> <span class="s1">&#39;Missing&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="s1">&#39;students_groups&#39;</span><span class="p">)</span>
<span class="n">plt_students_group</span> <span class="o">=</span> <span class="n">plt_students_group</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">plt_students_group</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">plt_students_group</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<span class="n">plt_students_school</span> <span class="o">=</span> <span class="n">school_memberships</span><span class="p">[</span><span class="s1">&#39;school_memberships_user_id&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
<span class="n">plt_students_school</span> <span class="o">=</span> <span class="n">students</span><span class="p">[</span><span class="s1">&#39;students_id&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="s1">&#39;Available&#39;</span> <span class="k">if</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">plt_students_school</span> <span class="k">else</span> <span class="s1">&#39;Missing&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="s1">&#39;students_schools&#39;</span><span class="p">)</span>
<span class="n">plt_students_school</span> <span class="o">=</span> <span class="n">plt_students_school</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">plt_students_school</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">plt_students_school</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>

<span class="n">temp</span> <span class="o">=</span> <span class="n">students</span><span class="p">[[</span><span class="s1">&#39;students_questions_count&#39;</span><span class="p">,</span> <span class="s1">&#39;students_comments_count&#39;</span><span class="p">]]</span>
<span class="n">temp</span> <span class="o">=</span> <span class="n">temp</span><span class="o">.</span><span class="n">applymap</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="s1">&#39;Available&#39;</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="s1">&#39;Missing&#39;</span><span class="p">)</span>
<span class="n">plt_students_questions</span> <span class="o">=</span> <span class="n">temp</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;students_questions_count&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">temp</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<span class="n">plt_students_comments</span> <span class="o">=</span> <span class="n">temp</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;students_comments_count&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">temp</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>

<span class="n">plt_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;Location&#39;</span><span class="p">:</span> <span class="n">plt_students_location</span><span class="p">,</span>
                        <span class="s1">&#39;Tags&#39;</span><span class="p">:</span> <span class="n">plt_students_tags</span><span class="p">,</span>
                        <span class="s1">&#39;Groups&#39;</span><span class="p">:</span> <span class="n">plt_students_group</span><span class="p">,</span>
                        <span class="s1">&#39;Schools&#39;</span><span class="p">:</span> <span class="n">plt_students_school</span><span class="p">,</span>
                        <span class="s1">&#39;Answers&#39;</span><span class="p">:</span> <span class="n">plt_students_questions</span><span class="p">,</span>
                        <span class="s1">&#39;Comments&#39;</span><span class="p">:</span> <span class="n">plt_students_comments</span><span class="p">,})</span>

<span class="n">plt_data</span><span class="o">.</span><span class="n">T</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="n">stacked</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Proportion&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Missing values for students&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">1.05</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;center left&#39;</span><span class="p">,</span> <span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
<span class="n">plt_data</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/T964554_Career_Village_Questions_Recommendation_44_0.png" src="../_images/T964554_Career_Village_Questions_Recommendation_44_0.png" />
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Available</th>
      <th>Missing</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Location</th>
      <td>0.934358</td>
      <td>0.065642</td>
    </tr>
    <tr>
      <th>Tags</th>
      <td>0.148784</td>
      <td>0.851216</td>
    </tr>
    <tr>
      <th>Groups</th>
      <td>0.007588</td>
      <td>0.992412</td>
    </tr>
    <tr>
      <th>Schools</th>
      <td>0.034226</td>
      <td>0.965774</td>
    </tr>
    <tr>
      <th>Answers</th>
      <td>0.397275</td>
      <td>0.602725</td>
    </tr>
    <tr>
      <th>Comments</th>
      <td>0.087921</td>
      <td>0.912079</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
<div class="section" id="tags-matching">
<h4>Tags matching<a class="headerlink" href="#tags-matching" title="Permalink to this headline">¶</a></h4>
<p>The size of the bubbles depends on how many students have subscribe the tag. The x-axis is how many professionals have subscribe the tag and the y-axis is in how many questions the tag is used.</p>
<p>The top tag for professionals ist telecommunications on the right site with about 11% but the tag doesn’t appear in many questions or students subscribtion.</p>
<p>The top tags for questions is college with 15.6% and carrer with 6.5%. The other top tags are carrer specific (medicine, engineering, business, …).</p>
<p>The top tag for students is college but only 1.5% of the students have subscribe this tag.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">students_tags</span> <span class="o">=</span> <span class="n">tag_users</span><span class="p">[</span><span class="n">tag_users</span><span class="p">[</span><span class="s1">&#39;tag_users_user_id&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">students</span><span class="p">[</span><span class="s1">&#39;students_id&#39;</span><span class="p">])]</span>
<span class="n">students_tags</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">students_tags</span><span class="p">,</span> <span class="n">tags</span><span class="p">,</span> <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;tag_users_tag_id&#39;</span><span class="p">,</span> <span class="n">right_on</span><span class="o">=</span><span class="s1">&#39;tags_tag_id&#39;</span><span class="p">)</span>
<span class="n">students_tags</span><span class="p">[</span><span class="s1">&#39;user_type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;student&#39;</span>

<span class="n">professionals_tags</span> <span class="o">=</span> <span class="n">tag_users</span><span class="p">[</span><span class="n">tag_users</span><span class="p">[</span><span class="s1">&#39;tag_users_user_id&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">professionals</span><span class="p">[</span><span class="s1">&#39;professionals_id&#39;</span><span class="p">])]</span>
<span class="n">professionals_tags</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">professionals_tags</span><span class="p">,</span> <span class="n">tags</span><span class="p">,</span> <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;tag_users_tag_id&#39;</span><span class="p">,</span> <span class="n">right_on</span><span class="o">=</span><span class="s1">&#39;tags_tag_id&#39;</span><span class="p">)</span>
<span class="n">professionals_tags</span><span class="p">[</span><span class="s1">&#39;user_type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;professional&#39;</span>

<span class="n">questions_tags</span> <span class="o">=</span> <span class="n">tag_questions</span>
<span class="n">questions_tags</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">questions_tags</span><span class="p">,</span> <span class="n">tags</span><span class="p">,</span> <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;tag_questions_tag_id&#39;</span><span class="p">,</span> <span class="n">right_on</span><span class="o">=</span><span class="s1">&#39;tags_tag_id&#39;</span><span class="p">)</span>
<span class="n">questions_tags</span><span class="p">[</span><span class="s1">&#39;user_type&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="s1">&#39;question&#39;</span>

<span class="n">plt_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">students_tags</span><span class="p">,</span> <span class="n">professionals_tags</span><span class="p">,</span> <span class="n">questions_tags</span><span class="p">])</span>
<span class="n">plt_data</span> <span class="o">=</span> <span class="n">plt_data</span><span class="p">[[</span><span class="s1">&#39;tags_tag_name&#39;</span><span class="p">,</span> <span class="s1">&#39;user_type&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">pivot_table</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="s1">&#39;tags_tag_name&#39;</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="s1">&#39;user_type&#39;</span><span class="p">,</span> <span class="n">aggfunc</span><span class="o">=</span><span class="nb">len</span><span class="p">,</span> <span class="n">fill_value</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">plt_data</span><span class="p">[</span><span class="s1">&#39;professional&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">plt_data</span><span class="p">[</span><span class="s1">&#39;professional&#39;</span><span class="p">]</span> <span class="o">/</span> <span class="n">professionals</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">plt_data</span><span class="p">[</span><span class="s1">&#39;student&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">plt_data</span><span class="p">[</span><span class="s1">&#39;student&#39;</span><span class="p">]</span> <span class="o">/</span> <span class="n">students</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">plt_data</span><span class="p">[</span><span class="s1">&#39;question&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">plt_data</span><span class="p">[</span><span class="s1">&#39;question&#39;</span><span class="p">]</span> <span class="o">/</span> <span class="n">questions</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">plt_data</span><span class="p">[</span><span class="s1">&#39;sum&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">plt_data</span><span class="p">[</span><span class="s1">&#39;professional&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">plt_data</span><span class="p">[</span><span class="s1">&#39;student&#39;</span><span class="p">]</span> <span class="o">+</span> <span class="n">plt_data</span><span class="p">[</span><span class="s1">&#39;question&#39;</span><span class="p">])</span>
<span class="n">plt_data</span> <span class="o">=</span> <span class="n">plt_data</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">by</span><span class="o">=</span><span class="s1">&#39;sum&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">drop</span><span class="p">([</span><span class="s1">&#39;sum&#39;</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">100</span><span class="p">)</span>

<span class="c1"># Bubble chart</span>
<span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">facecolor</span><span class="o">=</span><span class="s1">&#39;w&#39;</span><span class="p">,</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">15</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlabel</span><span class="p">(</span><span class="s1">&#39;Professionals&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylabel</span><span class="p">(</span><span class="s1">&#39;Questions&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_title</span><span class="p">(</span><span class="s1">&#39;Tags Matching&#39;</span><span class="p">)</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_xlim</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="nb">max</span><span class="p">(</span><span class="n">plt_data</span><span class="p">[</span><span class="s1">&#39;professional&#39;</span><span class="p">])</span><span class="o">+</span><span class="mf">0.001</span><span class="p">])</span>
<span class="n">ax</span><span class="o">.</span><span class="n">set_ylim</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="nb">max</span><span class="p">(</span><span class="n">plt_data</span><span class="p">[</span><span class="s1">&#39;question&#39;</span><span class="p">])</span><span class="o">+</span><span class="mf">0.005</span><span class="p">])</span>
<span class="kn">import</span> <span class="nn">matplotlib.ticker</span> <span class="k">as</span> <span class="nn">mtick</span>
<span class="n">ax</span><span class="o">.</span><span class="n">xaxis</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">mtick</span><span class="o">.</span><span class="n">FuncFormatter</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{:.2%}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">yaxis</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">mtick</span><span class="o">.</span><span class="n">FuncFormatter</span><span class="p">(</span><span class="s2">&quot;</span><span class="si">{:.2%}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">))</span>
<span class="n">ax</span><span class="o">.</span><span class="n">grid</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
<span class="n">i</span> <span class="o">=</span> <span class="mi">0</span>
<span class="k">for</span> <span class="n">key</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">plt_data</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;professional&#39;</span><span class="p">],</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;question&#39;</span><span class="p">],</span> <span class="n">s</span><span class="o">=</span><span class="mi">10</span><span class="o">+</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;student&#39;</span><span class="p">]</span><span class="o">*</span><span class="mi">10</span><span class="o">**</span><span class="mi">5</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=.</span><span class="mi">5</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="mi">25</span><span class="p">:</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">annotate</span><span class="p">(</span><span class="s1">&#39;</span><span class="si">{}</span><span class="s1">: </span><span class="si">{:.2%}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;student&#39;</span><span class="p">]),</span> <span class="n">xy</span><span class="o">=</span><span class="p">(</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;professional&#39;</span><span class="p">],</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;question&#39;</span><span class="p">]))</span>
    <span class="n">i</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

<span class="c1"># Wordcloud</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span>
<span class="n">wordloud_values</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;student&#39;</span><span class="p">,</span> <span class="s1">&#39;professional&#39;</span><span class="p">,</span> <span class="s1">&#39;question&#39;</span><span class="p">]</span>
<span class="n">axisNum</span> <span class="o">=</span> <span class="mi">1</span>
<span class="k">for</span> <span class="n">wordcloud_value</span> <span class="ow">in</span> <span class="n">wordloud_values</span><span class="p">:</span>
    <span class="n">wordcloud</span> <span class="o">=</span> <span class="n">WordCloud</span><span class="p">(</span><span class="n">margin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">max_words</span><span class="o">=</span><span class="mi">20</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="n">seed</span><span class="p">)</span><span class="o">.</span><span class="n">generate_from_frequencies</span><span class="p">(</span><span class="n">plt_data</span><span class="p">[</span><span class="n">wordcloud_value</span><span class="p">])</span>
    <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="n">axisNum</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">wordcloud</span><span class="p">,</span> <span class="n">interpolation</span><span class="o">=</span><span class="s1">&#39;bilinear&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="n">wordcloud_value</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s2">&quot;off&quot;</span><span class="p">)</span>
    <span class="n">axisNum</span> <span class="o">+=</span> <span class="mi">1</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>    
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/T964554_Career_Village_Questions_Recommendation_46_0.png" src="../_images/T964554_Career_Village_Questions_Recommendation_46_0.png" />
<img alt="../_images/T964554_Career_Village_Questions_Recommendation_46_1.png" src="../_images/T964554_Career_Village_Questions_Recommendation_46_1.png" />
</div>
</div>
</div>
<div class="section" id="first-activity-after-registration">
<h4>First activity after registration<a class="headerlink" href="#first-activity-after-registration" title="Permalink to this headline">¶</a></h4>
<p>Here we can see how long it took, that an professional makes his first answer or a student his first question after the registration.
The most of them write the first answer/question within in the first day or haven’t write any yet and use the account for other activities.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plt_professionals</span> <span class="o">=</span> <span class="n">professionals</span>
<span class="n">plt_professionals</span> <span class="o">=</span> <span class="n">plt_professionals</span><span class="p">[(</span><span class="n">plt_professionals</span><span class="p">[</span><span class="s1">&#39;professionals_date_joined&#39;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="s1">&#39;01-01-2016&#39;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">plt_professionals</span><span class="p">[</span><span class="s1">&#39;professionals_date_joined&#39;</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="s1">&#39;30-06-2018&#39;</span><span class="p">)]</span>
<span class="n">plt_professionals</span> <span class="o">=</span> <span class="p">(</span><span class="n">plt_professionals</span><span class="p">[</span><span class="s1">&#39;date_first_activity&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">plt_professionals</span><span class="p">[</span><span class="s1">&#39;professionals_date_joined&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">days</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">9999</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">plt_professionals</span> <span class="o">=</span> <span class="n">plt_professionals</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">plt_professionals</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">plt_professionals</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<span class="n">plt_professionals</span> <span class="o">=</span> <span class="n">plt_professionals</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mi">0</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mf">0.0</span> <span class="k">else</span> <span class="n">x</span><span class="p">)</span>
<span class="n">plt_professionals</span> <span class="o">=</span> <span class="n">plt_professionals</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;=</span> <span class="mf">7.0</span> <span class="ow">or</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">9999</span> <span class="k">else</span> <span class="s1">&#39;&gt; 7&#39;</span><span class="p">)</span>
<span class="n">plt_professionals</span> <span class="o">=</span> <span class="n">plt_professionals</span><span class="o">.</span><span class="n">rename</span><span class="p">({</span><span class="mi">9999</span><span class="p">:</span><span class="s1">&#39;NaN&#39;</span><span class="p">})</span>
<span class="n">plt_professionals</span> <span class="o">=</span> <span class="n">plt_professionals</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="n">plt_students</span> <span class="o">=</span> <span class="n">students</span>
<span class="n">plt_students</span> <span class="o">=</span> <span class="n">plt_students</span><span class="p">[(</span><span class="n">plt_students</span><span class="p">[</span><span class="s1">&#39;students_date_joined&#39;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="s1">&#39;01-01-2016&#39;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">plt_students</span><span class="p">[</span><span class="s1">&#39;students_date_joined&#39;</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="s1">&#39;30-06-2018&#39;</span><span class="p">)]</span>
<span class="n">plt_students</span> <span class="o">=</span> <span class="p">(</span><span class="n">plt_students</span><span class="p">[</span><span class="s1">&#39;date_first_activity&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">plt_students</span><span class="p">[</span><span class="s1">&#39;students_date_joined&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">days</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">9999</span><span class="p">)</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">plt_students</span> <span class="o">=</span> <span class="n">plt_students</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">plt_students</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">plt_students</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<span class="n">plt_students</span> <span class="o">=</span> <span class="n">plt_students</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mi">0</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mf">0.0</span> <span class="k">else</span> <span class="n">x</span><span class="p">)</span>
<span class="n">plt_students</span> <span class="o">=</span> <span class="n">plt_students</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;=</span> <span class="mf">7.0</span> <span class="ow">or</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">9999</span> <span class="k">else</span> <span class="s1">&#39;&gt; 7&#39;</span><span class="p">)</span>
<span class="n">plt_students</span> <span class="o">=</span> <span class="n">plt_students</span><span class="o">.</span><span class="n">rename</span><span class="p">({</span><span class="mi">9999</span><span class="p">:</span><span class="s1">&#39;NaN&#39;</span><span class="p">})</span>
<span class="n">plt_students</span> <span class="o">=</span> <span class="n">plt_students</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="n">plt_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;Professionals&#39;</span><span class="p">:</span> <span class="n">plt_professionals</span><span class="p">,</span>
                        <span class="s1">&#39;Students&#39;</span><span class="p">:</span> <span class="n">plt_students</span><span class="p">})</span>

<span class="n">plt_data</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Days&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Proportion&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Days for first activity after registration&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/T964554_Career_Village_Questions_Recommendation_48_0.png" src="../_images/T964554_Career_Village_Questions_Recommendation_48_0.png" />
</div>
</div>
</div>
<div class="section" id="last-activity">
<h4>Last activity<a class="headerlink" href="#last-activity" title="Permalink to this headline">¶</a></h4>
<p>Depending on the last comment, question or answer of a user, we have extract the last activity date. On the previously plot we have seen, that many users haven’t done any activity yet. For the ‘last activity’ plot we take a look only on users with already have one activity (dropna).
On the cumulative histogram we can see, that in the last 12 months only 39% of professionals and 24% of students have written a comment, question or answer.
50% of the professionals haven’t done any activity for 17 months.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plt_professionals</span> <span class="o">=</span> <span class="p">((</span><span class="n">actual_date</span> <span class="o">-</span> <span class="n">professionals</span><span class="p">[</span><span class="s1">&#39;date_last_activity&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">days</span><span class="o">/</span><span class="mi">30</span><span class="p">)</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">math</span><span class="o">.</span><span class="n">ceil</span><span class="p">(</span><span class="n">x</span><span class="p">))</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">plt_professionals</span> <span class="o">=</span> <span class="n">plt_professionals</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">plt_professionals</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">plt_professionals</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<span class="n">plt_professionals</span> <span class="o">=</span> <span class="n">plt_professionals</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mi">0</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mf">0.0</span> <span class="k">else</span> <span class="n">x</span><span class="p">)</span>
<span class="n">plt_professionals</span> <span class="o">=</span> <span class="n">plt_professionals</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;=</span> <span class="mf">36.0</span> <span class="ow">or</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">9999</span> <span class="k">else</span> <span class="s1">&#39;&gt; 36&#39;</span><span class="p">)</span>
<span class="n">plt_professionals</span> <span class="o">=</span> <span class="n">plt_professionals</span><span class="o">.</span><span class="n">rename</span><span class="p">({</span><span class="mi">9999</span><span class="p">:</span><span class="s1">&#39;NaN&#39;</span><span class="p">})</span>
<span class="n">plt_professionals</span> <span class="o">=</span> <span class="n">plt_professionals</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="n">plt_students</span> <span class="o">=</span> <span class="p">((</span><span class="n">actual_date</span> <span class="o">-</span> <span class="n">students</span><span class="p">[</span><span class="s1">&#39;date_last_activity&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">days</span><span class="o">/</span><span class="mi">30</span><span class="p">)</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">math</span><span class="o">.</span><span class="n">ceil</span><span class="p">(</span><span class="n">x</span><span class="p">))</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">plt_students</span> <span class="o">=</span> <span class="n">plt_students</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">plt_students</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">plt_students</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<span class="n">plt_students</span> <span class="o">=</span> <span class="n">plt_students</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mi">0</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mf">0.0</span> <span class="k">else</span> <span class="n">x</span><span class="p">)</span>
<span class="n">plt_students</span> <span class="o">=</span> <span class="n">plt_students</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;=</span> <span class="mf">36.0</span> <span class="ow">or</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">9999</span> <span class="k">else</span> <span class="s1">&#39;&gt; 36&#39;</span><span class="p">)</span>
<span class="n">plt_students</span> <span class="o">=</span> <span class="n">plt_students</span><span class="o">.</span><span class="n">rename</span><span class="p">({</span><span class="mi">9999</span><span class="p">:</span><span class="s1">&#39;NaN&#39;</span><span class="p">})</span>
<span class="n">plt_students</span> <span class="o">=</span> <span class="n">plt_students</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="n">plt_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;Professionals&#39;</span><span class="p">:</span> <span class="n">plt_professionals</span><span class="p">,</span>
                        <span class="s1">&#39;Students&#39;</span><span class="p">:</span> <span class="n">plt_students</span><span class="p">})</span>

<span class="n">plt_data</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Months&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Proportion&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Months for last activity&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/T964554_Career_Village_Questions_Recommendation_50_0.png" src="../_images/T964554_Career_Village_Questions_Recommendation_50_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plt_professionals</span> <span class="o">=</span> <span class="p">((</span><span class="n">actual_date</span> <span class="o">-</span> <span class="n">professionals</span><span class="p">[</span><span class="s1">&#39;date_last_activity&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">days</span><span class="o">/</span><span class="mi">30</span><span class="p">)</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">math</span><span class="o">.</span><span class="n">ceil</span><span class="p">(</span><span class="n">x</span><span class="p">))</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">plt_students</span> <span class="o">=</span> <span class="p">((</span><span class="n">actual_date</span> <span class="o">-</span> <span class="n">students</span><span class="p">[</span><span class="s1">&#39;date_last_activity&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">days</span><span class="o">/</span><span class="mi">30</span><span class="p">)</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">math</span><span class="o">.</span><span class="n">ceil</span><span class="p">(</span><span class="n">x</span><span class="p">))</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">plt_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;Professionals&#39;</span><span class="p">:</span> <span class="n">plt_professionals</span><span class="p">,</span> <span class="s1">&#39;Students&#39;</span><span class="p">:</span> <span class="n">plt_students</span><span class="p">})</span>
<span class="n">plt_total</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">plt_data</span><span class="p">[</span><span class="s1">&#39;Professionals&#39;</span><span class="p">],</span> <span class="n">plt_data</span><span class="p">[</span><span class="s1">&#39;Students&#39;</span><span class="p">]])</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="s1">&#39;All Users&#39;</span><span class="p">)</span>
<span class="n">plt_data</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;hist&#39;</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">density</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">histtype</span><span class="o">=</span><span class="s1">&#39;step&#39;</span><span class="p">,</span> <span class="n">cumulative</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span> <span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">grid</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt_total</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;hist&#39;</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">1000</span><span class="p">,</span> <span class="n">density</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">histtype</span><span class="o">=</span><span class="s1">&#39;step&#39;</span><span class="p">,</span> <span class="n">cumulative</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">7</span><span class="p">),</span> <span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">,</span> <span class="n">grid</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Months&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Cumulative&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Cumulative histogram for last activity&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper left&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">50</span><span class="p">])</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">51</span><span class="p">,</span> <span class="mi">1</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yticks</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">1.05</span><span class="p">,</span> <span class="mf">0.05</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/T964554_Career_Village_Questions_Recommendation_51_0.png" src="../_images/T964554_Career_Village_Questions_Recommendation_51_0.png" />
</div>
</div>
</div>
<div class="section" id="first-answer-for-questions">
<h4>First answer for questions<a class="headerlink" href="#first-answer-for-questions" title="Permalink to this headline">¶</a></h4>
<p>Here we can see how long it takes for a question to get the first answer.
The most questions get answered within the first two weeks. But 15% need more than 30 weeks to get there answer. And there are still some unanswered questions.
The questions are filtered until 30-06-2018 to ignore new unanswered questions.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plt_questions</span> <span class="o">=</span> <span class="n">questions</span>
<span class="n">plt_questions</span> <span class="o">=</span> <span class="n">plt_questions</span><span class="p">[(</span><span class="n">plt_questions</span><span class="p">[</span><span class="s1">&#39;questions_date_added&#39;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="s1">&#39;01-01-2016&#39;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">plt_questions</span><span class="p">[</span><span class="s1">&#39;questions_date_added&#39;</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="s1">&#39;30-06-2018&#39;</span><span class="p">)]</span>
<span class="n">plt_questions</span> <span class="o">=</span> <span class="p">((</span><span class="n">plt_questions</span><span class="p">[</span><span class="s1">&#39;questions_first_answers&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">plt_questions</span><span class="p">[</span><span class="s1">&#39;questions_date_added&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">days</span><span class="o">/</span><span class="mi">7</span><span class="p">)</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">9999</span><span class="p">)</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">math</span><span class="o">.</span><span class="n">ceil</span><span class="p">(</span><span class="n">x</span><span class="p">))</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<span class="n">plt_questions</span> <span class="o">=</span> <span class="n">plt_questions</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">plt_questions</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">plt_questions</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<span class="n">plt_questions</span> <span class="o">=</span> <span class="n">plt_questions</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mi">0</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mf">0.0</span> <span class="k">else</span> <span class="n">x</span><span class="p">)</span>
<span class="n">plt_questions</span> <span class="o">=</span> <span class="n">plt_questions</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;=</span> <span class="mf">30.0</span> <span class="ow">or</span> <span class="n">x</span> <span class="o">==</span> <span class="mi">9999</span> <span class="k">else</span> <span class="s1">&#39;&gt; 30&#39;</span><span class="p">)</span>
<span class="n">plt_questions</span> <span class="o">=</span> <span class="n">plt_questions</span><span class="o">.</span><span class="n">rename</span><span class="p">({</span><span class="mi">9999</span><span class="p">:</span><span class="s1">&#39;NaN&#39;</span><span class="p">})</span>
<span class="n">plt_questions</span> <span class="o">=</span> <span class="n">plt_questions</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span>

<span class="n">plt_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;Questions&#39;</span><span class="p">:</span> <span class="n">plt_questions</span><span class="p">})</span>
<span class="n">plt_data</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Weeks&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Frequency&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Weeks for first answer&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/T964554_Career_Village_Questions_Recommendation_53_0.png" src="../_images/T964554_Career_Village_Questions_Recommendation_53_0.png" />
</div>
</div>
</div>
<div class="section" id="question-response-time">
<h4>Question response time<a class="headerlink" href="#question-response-time" title="Permalink to this headline">¶</a></h4>
<p>It is important for students to get their questions answered quickly. The goal was to get an answer within 24 hours.
The chart shows how many questions were answered in a month within the desired time.
From November 2015 to February 2016 the most questions get a answer within 24 hours. After that it drops and has stronger deviations.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plt_data</span> <span class="o">=</span> <span class="n">questions</span><span class="p">[[</span><span class="s1">&#39;questions_date_added&#39;</span><span class="p">,</span> <span class="s1">&#39;questions_first_answers&#39;</span><span class="p">]]</span>
<span class="n">plt_data</span> <span class="o">=</span> <span class="n">plt_data</span><span class="p">[</span><span class="n">plt_data</span><span class="p">[</span><span class="s1">&#39;questions_date_added&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="s1">&#39;2015-01-01&#39;</span><span class="p">]</span>
<span class="n">plt_data</span><span class="p">[</span><span class="s1">&#39;answer_time&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">plt_data</span><span class="p">[</span><span class="s1">&#39;questions_first_answers&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">plt_data</span><span class="p">[</span><span class="s1">&#39;questions_date_added&#39;</span><span class="p">])</span>
<span class="n">plt_data</span><span class="p">[</span><span class="s1">&#39;days&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">plt_data</span><span class="p">[</span><span class="s1">&#39;questions_first_answers&#39;</span><span class="p">]</span> <span class="o">-</span> <span class="n">plt_data</span><span class="p">[</span><span class="s1">&#39;questions_date_added&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">days</span>
<span class="n">plt_data</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">plt_data</span><span class="p">[</span><span class="s1">&#39;questions_date_added&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%B %Y&#39;</span><span class="p">)</span>
<span class="n">plt_data</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">plt_data</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">str</span><span class="p">(</span><span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="s2">&quot;%B %Y&quot;</span><span class="p">)))</span>  
<span class="n">plt_data</span><span class="p">[</span><span class="s1">&#39;date2&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">plt_data</span><span class="p">[</span><span class="s1">&#39;questions_date_added&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%B %Y&#39;</span><span class="p">)</span>

<span class="n">plt_data_1</span> <span class="o">=</span> <span class="p">(</span><span class="n">plt_data</span><span class="p">[</span><span class="n">plt_data</span><span class="p">[</span><span class="s1">&#39;days&#39;</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">0</span><span class="p">]</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;date&#39;</span><span class="p">,</span> <span class="s1">&#39;date2&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">size</span><span class="p">()</span> <span class="o">/</span> <span class="n">plt_data</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;date&#39;</span><span class="p">,</span> <span class="s1">&#39;date2&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">size</span><span class="p">())</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="s1">&#39;&lt; 1 day&#39;</span><span class="p">)</span>
<span class="n">plt_data_2</span> <span class="o">=</span> <span class="p">(</span><span class="n">plt_data</span><span class="p">[</span><span class="n">plt_data</span><span class="p">[</span><span class="s1">&#39;days&#39;</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">3</span><span class="p">]</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;date&#39;</span><span class="p">,</span> <span class="s1">&#39;date2&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">size</span><span class="p">()</span> <span class="o">/</span> <span class="n">plt_data</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;date&#39;</span><span class="p">,</span> <span class="s1">&#39;date2&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">size</span><span class="p">())</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="s1">&#39;&lt;= 3 days&#39;</span><span class="p">)</span>
<span class="n">plt_data_3</span> <span class="o">=</span> <span class="p">(</span><span class="n">plt_data</span><span class="p">[</span><span class="n">plt_data</span><span class="p">[</span><span class="s1">&#39;days&#39;</span><span class="p">]</span> <span class="o">&lt;=</span> <span class="mi">7</span><span class="p">]</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;date&#39;</span><span class="p">,</span> <span class="s1">&#39;date2&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">size</span><span class="p">()</span> <span class="o">/</span> <span class="n">plt_data</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;date&#39;</span><span class="p">,</span> <span class="s1">&#39;date2&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">size</span><span class="p">())</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="s1">&#39;&lt;= 7 days&#39;</span><span class="p">)</span>
<span class="n">plt_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">plt_data_1</span><span class="p">,</span> <span class="n">plt_data_2</span><span class="p">,</span> <span class="n">plt_data_3</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="n">plt_data</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">plt_data</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">droplevel</span><span class="p">(</span><span class="s1">&#39;date&#39;</span><span class="p">)</span>

<span class="n">plt_data</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="n">width</span><span class="o">=</span><span class="mf">0.9</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Date&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Frequency&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Response time in days&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/T964554_Career_Village_Questions_Recommendation_55_0.png" src="../_images/T964554_Career_Village_Questions_Recommendation_55_0.png" />
</div>
</div>
</div>
<div class="section" id="email-response-time">
<h4>Email response time<a class="headerlink" href="#email-response-time" title="Permalink to this headline">¶</a></h4>
<p>The first plot shows how long it takes for professionals to answer a question after they receive an email notification of a recommended question. This is limited to emails where the specified question was also answered (dropna). When users want to answer a question from an email, they usually use the most recent email. The response time is within the first few days.</p>
<p>On the second plot with the response time for questions, we can see the emails focusing on older unanswered questions. the immediate emails are focusing on new questions (makes sense).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plt_email_response</span> <span class="o">=</span> <span class="n">emails_response</span><span class="p">[(</span><span class="n">emails_response</span><span class="p">[</span><span class="s1">&#39;emails_date_sent&#39;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="s1">&#39;01-01-2016&#39;</span><span class="p">)]</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>

<span class="n">plt_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="n">title_mapping</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;time_delta_email_answer&#39;</span><span class="p">:</span><span class="s1">&#39;Answers&#39;</span><span class="p">,</span> <span class="s1">&#39;time_delta_question_email&#39;</span><span class="p">:</span><span class="s1">&#39;Questions&#39;</span><span class="p">}</span>
<span class="k">for</span> <span class="n">qa</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;time_delta_email_answer&#39;</span><span class="p">,</span> <span class="s1">&#39;time_delta_question_email&#39;</span><span class="p">]:</span>
    <span class="n">plt_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
    <span class="k">for</span> <span class="n">fl</span> <span class="ow">in</span> <span class="p">[</span><span class="s1">&#39;email_notification_daily&#39;</span><span class="p">,</span> <span class="s1">&#39;email_notification_weekly&#39;</span><span class="p">,</span> <span class="s1">&#39;email_notification_immediate&#39;</span><span class="p">]:</span>
        <span class="n">temp</span> <span class="o">=</span> <span class="n">plt_email_response</span><span class="p">[</span><span class="n">plt_email_response</span><span class="p">[</span><span class="s1">&#39;emails_frequency_level&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">fl</span><span class="p">]</span>
        <span class="n">temp</span> <span class="o">=</span> <span class="n">temp</span><span class="p">[</span><span class="n">qa</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">days</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
        <span class="n">temp</span> <span class="o">=</span> <span class="n">temp</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">temp</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">temp</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
        <span class="n">temp</span> <span class="o">=</span> <span class="n">temp</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mi">0</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;</span> <span class="mf">0.0</span> <span class="k">else</span> <span class="n">x</span><span class="p">)</span>
        <span class="n">temp</span> <span class="o">=</span> <span class="n">temp</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">x</span> <span class="k">if</span> <span class="n">x</span> <span class="o">&lt;=</span> <span class="mf">14.0</span> <span class="k">else</span> <span class="s1">&#39;&gt; 14&#39;</span><span class="p">)</span>
        <span class="n">temp</span> <span class="o">=</span> <span class="n">temp</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">level</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> 
        <span class="n">plt_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">plt_data</span><span class="p">,</span> <span class="n">temp</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">sort</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">plt_data</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Daily&#39;</span><span class="p">,</span> <span class="s1">&#39;Weekly&#39;</span><span class="p">,</span> <span class="s1">&#39;Immediate&#39;</span><span class="p">]</span>

    <span class="n">plt_data</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Days&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Frequency&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Email response time (</span><span class="si">{}</span><span class="s1">)&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">title_mapping</span><span class="p">[</span><span class="n">qa</span><span class="p">]))</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="s1">&#39;upper center&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/T964554_Career_Village_Questions_Recommendation_57_0.png" src="../_images/T964554_Career_Village_Questions_Recommendation_57_0.png" />
<img alt="../_images/T964554_Career_Village_Questions_Recommendation_57_1.png" src="../_images/T964554_Career_Village_Questions_Recommendation_57_1.png" />
</div>
</div>
</div>
<div class="section" id="word-count">
<h4>Word count<a class="headerlink" href="#word-count" title="Permalink to this headline">¶</a></h4>
<p>Here we can see how many words are used for the questions and answers. A question with more text will also help to extract more important information from it, which will later be important to identify similar questions.
The professionals write very detailed answers for the students questions. We will not use the answers corpus for our recommendations but it is nice to see that the professionals write extensive answers.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plt_data_questions</span> <span class="o">=</span> <span class="n">questions</span><span class="p">[</span><span class="s1">&#39;questions_full_text&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">split</span><span class="p">()))</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="s2">&quot;Questions&quot;</span><span class="p">)</span>
<span class="n">plt_data_answers</span> <span class="o">=</span> <span class="n">answers</span><span class="p">[</span><span class="s1">&#39;answers_body&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">split</span><span class="p">()))</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="s2">&quot;Answers&quot;</span><span class="p">)</span>
<span class="n">plt_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">([</span><span class="n">plt_data_questions</span><span class="p">,</span> <span class="n">plt_data_answers</span><span class="p">])</span><span class="o">.</span><span class="n">T</span>

<span class="n">plt_data</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;box&#39;</span><span class="p">,</span> <span class="n">showfliers</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">vert</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">5</span><span class="p">),</span> <span class="n">grid</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xticks</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">400</span><span class="p">,</span> <span class="mi">25</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Words&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Word count&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/T964554_Career_Village_Questions_Recommendation_59_0.png" src="../_images/T964554_Career_Village_Questions_Recommendation_59_0.png" />
</div>
</div>
</div>
</div>
<div class="section" id="ad-hoc-analysis">
<h3>Ad-hoc Analysis<a class="headerlink" href="#ad-hoc-analysis" title="Permalink to this headline">¶</a></h3>
<p>The ad-hoc analysis should help to go deeper into certain issues.</p>
<div class="section" id="user-activities">
<h4>User Activities<a class="headerlink" href="#user-activities" title="Permalink to this headline">¶</a></h4>
<p>The User Activities show us the activity timeline for a specific user. It shows when a User has registered his account and how many questions, answers and comments a user has made or how many e-mails he has receveid.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">plot_user_activity</span><span class="p">(</span><span class="n">user_id</span><span class="p">,</span> <span class="n">xticks_type</span><span class="o">=</span><span class="s1">&#39;Month&#39;</span><span class="p">,</span> <span class="n">xticks_interval</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">plot_emails</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Merges all relevant data for a user together and builds a timeline chart.</span>
<span class="sd">        </span>
<span class="sd">        :param user_id: Index of the &#39;students&#39; dataframe (default: seed)</span>
<span class="sd">        :param xticks_type: Grouping x axis by &#39;Month&#39;, &#39;Day&#39; or &#39;Year&#39; (default: &#39;Month&#39;)</span>
<span class="sd">        :param xticks_interval: Integer to plot every n ticks (default: 3)</span>
<span class="sd">        :param plot_emails: Also consider emails (default: False)</span>
<span class="sd">    &quot;&quot;&quot;</span> 
    <span class="c1"># student registration</span>
    <span class="n">graph_student</span> <span class="o">=</span> <span class="n">students</span><span class="p">[</span><span class="n">students</span><span class="p">[</span><span class="s1">&#39;students_id&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">user_id</span><span class="p">]</span>
    <span class="n">graph_student</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;type&#39;</span><span class="p">:</span><span class="s1">&#39;Registration&#39;</span><span class="p">,</span> 
                               <span class="s1">&#39;id&#39;</span><span class="p">:</span><span class="n">graph_student</span><span class="p">[</span><span class="s1">&#39;students_id&#39;</span><span class="p">],</span> 
                               <span class="s1">&#39;date&#39;</span><span class="p">:</span><span class="n">graph_student</span><span class="p">[</span><span class="s1">&#39;students_date_joined&#39;</span><span class="p">],</span>
                              <span class="s1">&#39;color&#39;</span><span class="p">:</span><span class="s1">&#39;green&#39;</span><span class="p">})</span>
    <span class="c1"># professional registration</span>
    <span class="n">graph_professional</span> <span class="o">=</span> <span class="n">professionals</span><span class="p">[</span><span class="n">professionals</span><span class="p">[</span><span class="s1">&#39;professionals_id&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">user_id</span><span class="p">]</span>
    <span class="n">graph_professional</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;type&#39;</span><span class="p">:</span><span class="s1">&#39;Registration&#39;</span><span class="p">,</span> 
                               <span class="s1">&#39;id&#39;</span><span class="p">:</span><span class="n">graph_professional</span><span class="p">[</span><span class="s1">&#39;professionals_id&#39;</span><span class="p">],</span> 
                               <span class="s1">&#39;date&#39;</span><span class="p">:</span><span class="n">graph_professional</span><span class="p">[</span><span class="s1">&#39;professionals_date_joined&#39;</span><span class="p">],</span>
                              <span class="s1">&#39;color&#39;</span><span class="p">:</span><span class="s1">&#39;green&#39;</span><span class="p">})</span>
    <span class="c1"># questions</span>
    <span class="n">graph_questions</span> <span class="o">=</span> <span class="n">questions</span><span class="p">[</span><span class="n">questions</span><span class="p">[</span><span class="s1">&#39;questions_author_id&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">user_id</span><span class="p">]</span>
    <span class="n">graph_questions</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;type&#39;</span><span class="p">:</span><span class="s1">&#39;Questions&#39;</span><span class="p">,</span>
                                   <span class="s1">&#39;id&#39;</span><span class="p">:</span><span class="n">graph_questions</span><span class="p">[</span><span class="s1">&#39;questions_id&#39;</span><span class="p">],</span> 
                                   <span class="s1">&#39;date&#39;</span><span class="p">:</span><span class="n">graph_questions</span><span class="p">[</span><span class="s1">&#39;questions_date_added&#39;</span><span class="p">],</span>
                                  <span class="s1">&#39;color&#39;</span><span class="p">:</span><span class="s1">&#39;blue&#39;</span><span class="p">})</span>
    <span class="c1"># answers</span>
    <span class="n">graph_answers</span> <span class="o">=</span> <span class="n">answers</span><span class="p">[</span><span class="n">answers</span><span class="p">[</span><span class="s1">&#39;answers_author_id&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">user_id</span><span class="p">]</span>
    <span class="n">graph_answers</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;type&#39;</span><span class="p">:</span><span class="s1">&#39;Answers&#39;</span><span class="p">,</span>
                                   <span class="s1">&#39;id&#39;</span><span class="p">:</span><span class="n">graph_answers</span><span class="p">[</span><span class="s1">&#39;answers_id&#39;</span><span class="p">],</span> 
                                   <span class="s1">&#39;date&#39;</span><span class="p">:</span><span class="n">graph_answers</span><span class="p">[</span><span class="s1">&#39;answers_date_added&#39;</span><span class="p">],</span>
                                  <span class="s1">&#39;color&#39;</span><span class="p">:</span><span class="s1">&#39;red&#39;</span><span class="p">})</span>
    <span class="c1"># commments</span>
    <span class="n">graph_comments</span> <span class="o">=</span> <span class="n">comments</span><span class="p">[</span><span class="n">comments</span><span class="p">[</span><span class="s1">&#39;comments_author_id&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">user_id</span><span class="p">]</span>
    <span class="n">graph_comments</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;type&#39;</span><span class="p">:</span><span class="s1">&#39;Comments&#39;</span><span class="p">,</span>
                                   <span class="s1">&#39;id&#39;</span><span class="p">:</span><span class="n">graph_comments</span><span class="p">[</span><span class="s1">&#39;comments_id&#39;</span><span class="p">],</span> 
                                   <span class="s1">&#39;date&#39;</span><span class="p">:</span><span class="n">graph_comments</span><span class="p">[</span><span class="s1">&#39;comments_date_added&#39;</span><span class="p">],</span>
                                  <span class="s1">&#39;color&#39;</span><span class="p">:</span><span class="s1">&#39;orange&#39;</span><span class="p">})</span>
    <span class="k">if</span> <span class="n">plot_emails</span><span class="p">:</span>
        <span class="n">graph_emails</span> <span class="o">=</span> <span class="n">emails</span><span class="p">[</span><span class="n">emails</span><span class="p">[</span><span class="s1">&#39;emails_recipient_id&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">user_id</span><span class="p">]</span>
        <span class="n">graph_emails</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;type&#39;</span><span class="p">:</span><span class="s1">&#39;Emails&#39;</span><span class="p">,</span> 
                                   <span class="s1">&#39;id&#39;</span><span class="p">:</span><span class="n">graph_emails</span><span class="p">[</span><span class="s1">&#39;emails_id&#39;</span><span class="p">],</span> 
                                   <span class="s1">&#39;date&#39;</span><span class="p">:</span><span class="n">graph_emails</span><span class="p">[</span><span class="s1">&#39;emails_date_sent&#39;</span><span class="p">],</span>
                                  <span class="s1">&#39;color&#39;</span><span class="p">:</span><span class="s1">&#39;grey&#39;</span><span class="p">})</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">graph_emails</span> <span class="o">=</span> <span class="kc">None</span>

    <span class="n">graph_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">graph_student</span><span class="p">,</span> <span class="n">graph_professional</span><span class="p">,</span> <span class="n">graph_questions</span><span class="p">,</span> <span class="n">graph_comments</span><span class="p">,</span> <span class="n">graph_answers</span><span class="p">,</span> <span class="n">graph_emails</span><span class="p">])</span>
    <span class="c1"># Group data by date</span>
    <span class="k">if</span> <span class="n">xticks_type</span><span class="o">==</span><span class="s1">&#39;Day&#39;</span><span class="p">:</span>
        <span class="n">graph_data</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">graph_data</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1">&#39;</span><span class="p">)</span>
        <span class="n">graph_data</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">graph_data</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">))</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="n">graph_data</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">graph_data</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">strftime</span><span class="p">(</span><span class="s1">&#39;%B %Y&#39;</span><span class="p">)</span>
        <span class="n">graph_data</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">graph_data</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="n">datetime</span><span class="o">.</span><span class="n">strptime</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="s2">&quot;%B %Y&quot;</span><span class="p">))</span>     
    
    <span class="n">graph_data</span> <span class="o">=</span> <span class="n">graph_data</span><span class="o">.</span><span class="n">groupby</span><span class="p">([</span><span class="s1">&#39;type&#39;</span><span class="p">,</span> <span class="s1">&#39;date&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="s1">&#39;count&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">()</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;date&#39;</span><span class="p">)</span>
    <span class="n">graph_data</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">graph_data</span><span class="p">[</span><span class="s1">&#39;count&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">map</span><span class="p">(</span><span class="nb">str</span><span class="p">)</span><span class="o">+</span> <span class="s1">&#39; &#39;</span><span class="o">+</span><span class="n">graph_data</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span>
    <span class="n">names</span> <span class="o">=</span> <span class="n">graph_data</span><span class="p">[</span><span class="s1">&#39;name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
    <span class="n">colors</span> <span class="o">=</span> <span class="n">graph_data</span><span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
    <span class="n">dates</span> <span class="o">=</span> <span class="n">graph_data</span><span class="p">[</span><span class="s1">&#39;date&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>

    <span class="c1"># Plot</span>
    <span class="n">levels</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mi">9</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="o">-</span><span class="mi">7</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="o">-</span><span class="mi">5</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="o">-</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">])</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>

    <span class="c1"># Create the base line</span>
    <span class="n">start</span> <span class="o">=</span> <span class="nb">min</span><span class="p">(</span><span class="n">dates</span><span class="p">)</span>
    <span class="n">stop</span> <span class="o">=</span> <span class="nb">max</span><span class="p">(</span><span class="n">dates</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">((</span><span class="n">start</span><span class="p">,</span> <span class="n">stop</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=.</span><span class="mi">5</span><span class="p">)</span>

    <span class="c1"># Create annotations</span>
    <span class="k">for</span> <span class="n">ii</span><span class="p">,</span> <span class="p">(</span><span class="n">iname</span><span class="p">,</span> <span class="n">idate</span><span class="p">,</span> <span class="n">icol</span><span class="p">)</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="nb">zip</span><span class="p">(</span><span class="n">names</span><span class="p">,</span> <span class="n">dates</span><span class="p">,</span> <span class="n">colors</span><span class="p">)):</span>
        <span class="n">level</span> <span class="o">=</span> <span class="n">levels</span><span class="p">[</span><span class="n">ii</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">levels</span><span class="p">)]</span>
        <span class="n">vert</span> <span class="o">=</span> <span class="s1">&#39;top&#39;</span> <span class="k">if</span> <span class="n">level</span> <span class="o">&lt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="s1">&#39;bottom&#39;</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">scatter</span><span class="p">(</span><span class="n">idate</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">s</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="n">facecolor</span><span class="o">=</span><span class="n">icol</span><span class="p">,</span> <span class="n">edgecolor</span><span class="o">=</span><span class="s1">&#39;k&#39;</span><span class="p">,</span> <span class="n">zorder</span><span class="o">=</span><span class="mi">9999</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">plot</span><span class="p">((</span><span class="n">idate</span><span class="p">,</span> <span class="n">idate</span><span class="p">),</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">level</span><span class="p">),</span> <span class="n">c</span><span class="o">=</span><span class="n">icol</span><span class="p">,</span> <span class="n">alpha</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">lw</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">text</span><span class="p">(</span><span class="n">idate</span><span class="p">,</span> <span class="n">level</span><span class="p">,</span> <span class="n">iname</span><span class="p">,</span> <span class="n">horizontalalignment</span><span class="o">=</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="n">verticalalignment</span><span class="o">=</span><span class="n">vert</span><span class="p">,</span> <span class="n">fontsize</span><span class="o">=</span><span class="mi">12</span><span class="p">,</span> <span class="n">backgroundcolor</span><span class="o">=</span><span class="n">icol</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="s2">&quot;Timeline for user: </span><span class="si">{}</span><span class="s2">&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">user_id</span><span class="p">))</span>
    <span class="c1"># Set the xticks formatting</span>
    <span class="k">if</span> <span class="n">xticks_type</span><span class="o">==</span><span class="s1">&#39;Month&#39;</span><span class="p">:</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">get_xaxis</span><span class="p">()</span><span class="o">.</span><span class="n">set_major_locator</span><span class="p">(</span><span class="n">mdates</span><span class="o">.</span><span class="n">MonthLocator</span><span class="p">(</span><span class="n">interval</span><span class="o">=</span><span class="n">xticks_interval</span><span class="p">))</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">get_xaxis</span><span class="p">()</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">mdates</span><span class="o">.</span><span class="n">DateFormatter</span><span class="p">(</span><span class="s2">&quot;%B %Y&quot;</span><span class="p">))</span>
    <span class="k">elif</span> <span class="n">xticks_type</span><span class="o">==</span><span class="s1">&#39;Day&#39;</span><span class="p">:</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">get_xaxis</span><span class="p">()</span><span class="o">.</span><span class="n">set_major_locator</span><span class="p">(</span><span class="n">mdates</span><span class="o">.</span><span class="n">DayLocator</span><span class="p">(</span><span class="n">interval</span><span class="o">=</span><span class="n">xticks_interval</span><span class="p">))</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">get_xaxis</span><span class="p">()</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">mdates</span><span class="o">.</span><span class="n">DateFormatter</span><span class="p">(</span><span class="s2">&quot;%Y-%m-</span><span class="si">%d</span><span class="s2">&quot;</span><span class="p">))</span>
    <span class="k">elif</span> <span class="n">xticks_type</span><span class="o">==</span><span class="s1">&#39;Year&#39;</span><span class="p">:</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">get_xaxis</span><span class="p">()</span><span class="o">.</span><span class="n">set_major_locator</span><span class="p">(</span><span class="n">mdates</span><span class="o">.</span><span class="n">YearLocator</span><span class="p">())</span>
        <span class="n">ax</span><span class="o">.</span><span class="n">get_xaxis</span><span class="p">()</span><span class="o">.</span><span class="n">set_major_formatter</span><span class="p">(</span><span class="n">mdates</span><span class="o">.</span><span class="n">DateFormatter</span><span class="p">(</span><span class="s2">&quot;%Y&quot;</span><span class="p">))</span>        
    <span class="n">fig</span><span class="o">.</span><span class="n">autofmt_xdate</span><span class="p">()</span>
    <span class="c1">#Legend</span>
    <span class="n">legend</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">graph_data</span><span class="p">[[</span><span class="s1">&#39;type&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">()</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
        <span class="n">legend</span> <span class="o">+=</span> <span class="p">[</span><span class="n">mpatches</span><span class="o">.</span><span class="n">Patch</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">])]</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">handles</span><span class="o">=</span><span class="n">legend</span><span class="p">,</span> <span class="n">loc</span><span class="o">=</span><span class="s1">&#39;center left&#39;</span><span class="p">,</span> <span class="n">bbox_to_anchor</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">))</span>
    
    <span class="c1"># Remove components for a cleaner look</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">setp</span><span class="p">((</span><span class="n">ax</span><span class="o">.</span><span class="n">get_yticklabels</span><span class="p">()</span> <span class="o">+</span> <span class="n">ax</span><span class="o">.</span><span class="n">get_yticklines</span><span class="p">()</span> <span class="o">+</span> <span class="nb">list</span><span class="p">(</span><span class="n">ax</span><span class="o">.</span><span class="n">spines</span><span class="o">.</span><span class="n">values</span><span class="p">())),</span> <span class="n">visible</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p><strong>Professionals</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pro_sample_of_5</span> <span class="o">=</span> <span class="n">professionals</span><span class="p">[</span><span class="n">professionals</span><span class="p">[</span><span class="s1">&#39;professionals_answers_count&#39;</span><span class="p">]</span><span class="o">&gt;</span><span class="mi">20</span><span class="p">]</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="n">pro_sample_of_5_ids</span> <span class="o">=</span> <span class="n">pro_sample_of_5</span><span class="o">.</span><span class="n">professionals_id</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
<span class="n">pro_sample_of_5</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>professionals_id</th>
      <th>professionals_location</th>
      <th>professionals_industry</th>
      <th>professionals_headline</th>
      <th>professionals_date_joined</th>
      <th>professionals_time_delta_joined</th>
      <th>professionals_answers_count</th>
      <th>professionals_comments_count</th>
      <th>date_last_answer</th>
      <th>date_first_answer</th>
      <th>date_last_comment</th>
      <th>date_first_comment</th>
      <th>date_last_activity</th>
      <th>date_first_activity</th>
      <th>professional_answers_hearts</th>
      <th>professionals_tags</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>7051</th>
      <td>4dc7d9040592416f98c0bef1ad2c31f5</td>
      <td>Santa Clara, California</td>
      <td>Student Services</td>
      <td>Sr. Test Engineer at Chegg Inc.</td>
      <td>2016-06-08 19:33:29</td>
      <td>967 days 04:26:31</td>
      <td>86</td>
      <td>5</td>
      <td>2018-05-22 06:17:56</td>
      <td>2016-06-08 19:49:18</td>
      <td>2018-04-16 02:18:31</td>
      <td>2017-06-14 03:26:51</td>
      <td>2018-05-22 06:17:56</td>
      <td>2016-06-08 19:49:18</td>
      <td>31</td>
      <td>[computer-science, computer, python, programmi...</td>
    </tr>
    <tr>
      <th>2515</th>
      <td>62df4121c5d64528a7ed438b9ad86d98</td>
      <td>Torrance, California</td>
      <td>Entertainment</td>
      <td>Music Producer-Composer-Arranger-Saxophone Rec...</td>
      <td>2015-11-04 22:38:01</td>
      <td>1184 days 01:21:59</td>
      <td>21</td>
      <td>1</td>
      <td>2017-12-01 00:51:24</td>
      <td>2015-11-04 22:47:03</td>
      <td>2017-12-05 06:08:48</td>
      <td>2017-12-05 06:08:48</td>
      <td>2017-12-05 06:08:48</td>
      <td>2015-11-04 22:47:03</td>
      <td>1</td>
      <td>[music, entertainment, music-arranging, orches...</td>
    </tr>
    <tr>
      <th>6514</th>
      <td>dc28056163a8447686e5691f4c1475b0</td>
      <td>Southfield, Michigan</td>
      <td>Broadcast Media</td>
      <td>Commercial Producer at WWJTV / CW50 Detroit WKBD</td>
      <td>2016-05-17 01:04:17</td>
      <td>989 days 22:55:43</td>
      <td>93</td>
      <td>6</td>
      <td>2018-12-07 02:38:35</td>
      <td>2016-05-17 02:20:33</td>
      <td>2018-10-09 01:14:34</td>
      <td>2016-05-17 02:34:04</td>
      <td>2018-12-07 02:38:35</td>
      <td>2016-05-17 02:20:33</td>
      <td>30</td>
      <td>[advertising, production, video-production, br...</td>
    </tr>
    <tr>
      <th>4588</th>
      <td>58fa5e95fe9e480a9349bbb1d7faaddb</td>
      <td>Redford Charter Township, Michigan</td>
      <td>Automotive</td>
      <td>Mechanical Engineer I Automotive</td>
      <td>2016-03-14 16:27:13</td>
      <td>1053 days 07:32:47</td>
      <td>1112</td>
      <td>160</td>
      <td>2019-01-13 01:21:47</td>
      <td>2016-03-14 16:43:26</td>
      <td>2017-09-22 00:41:00</td>
      <td>2016-03-19 02:16:14</td>
      <td>2019-01-13 01:21:47</td>
      <td>2016-03-14 16:43:26</td>
      <td>282</td>
      <td>[engineering, automotive, cars, mechanical-eng...</td>
    </tr>
    <tr>
      <th>17921</th>
      <td>1460905b74994213b80aff1a5fab48f1</td>
      <td>Greater Boston Area</td>
      <td>Accounting</td>
      <td>Assurance Associate at PwC</td>
      <td>2018-04-04 16:13:31</td>
      <td>302 days 07:46:29</td>
      <td>24</td>
      <td>0</td>
      <td>2018-10-17 20:29:37</td>
      <td>2018-04-04 16:29:28</td>
      <td>NaT</td>
      <td>NaT</td>
      <td>2018-10-17 20:29:37</td>
      <td>2018-04-04 16:29:28</td>
      <td>6</td>
      <td>[college, accounting, college-admissions, audi...</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">user_id</span> <span class="o">=</span> <span class="n">pro_sample_of_5_ids</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">plot_user_activity</span><span class="p">(</span><span class="n">user_id</span><span class="o">=</span><span class="n">user_id</span><span class="p">,</span> <span class="n">xticks_type</span><span class="o">=</span><span class="s1">&#39;Month&#39;</span><span class="p">,</span> <span class="n">xticks_interval</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/T964554_Career_Village_Questions_Recommendation_65_0.png" src="../_images/T964554_Career_Village_Questions_Recommendation_65_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">user_id</span> <span class="o">=</span> <span class="n">pro_sample_of_5_ids</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span>
<span class="n">plot_user_activity</span><span class="p">(</span><span class="n">user_id</span><span class="o">=</span><span class="n">user_id</span><span class="p">,</span> <span class="n">xticks_type</span><span class="o">=</span><span class="s1">&#39;Month&#39;</span><span class="p">,</span> <span class="n">xticks_interval</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/T964554_Career_Village_Questions_Recommendation_66_0.png" src="../_images/T964554_Career_Village_Questions_Recommendation_66_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">user_id</span> <span class="o">=</span> <span class="s1">&#39;e1d39b665987455fbcfbec3fc6df6056&#39;</span>
<span class="n">plot_user_activity</span><span class="p">(</span><span class="n">user_id</span><span class="o">=</span><span class="n">user_id</span><span class="p">,</span> <span class="n">xticks_type</span><span class="o">=</span><span class="s1">&#39;Month&#39;</span><span class="p">,</span> <span class="n">xticks_interval</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">plot_emails</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/T964554_Career_Village_Questions_Recommendation_67_0.png" src="../_images/T964554_Career_Village_Questions_Recommendation_67_0.png" />
</div>
</div>
<p><strong>Students</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">stu_sample_of_5</span> <span class="o">=</span> <span class="n">students</span><span class="p">[</span><span class="n">students</span><span class="p">[</span><span class="s1">&#39;students_questions_count&#39;</span><span class="p">]</span><span class="o">&gt;</span><span class="mi">20</span><span class="p">]</span><span class="o">.</span><span class="n">sample</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
<span class="n">stu_sample_of_5_ids</span> <span class="o">=</span> <span class="n">stu_sample_of_5</span><span class="o">.</span><span class="n">students_id</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
<span class="n">stu_sample_of_5</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>students_id</th>
      <th>students_location</th>
      <th>students_date_joined</th>
      <th>students_time_delta_joined</th>
      <th>students_questions_count</th>
      <th>students_comments_count</th>
      <th>date_last_question</th>
      <th>date_first_question</th>
      <th>date_last_comment</th>
      <th>date_first_comment</th>
      <th>date_last_activity</th>
      <th>date_first_activity</th>
      <th>students_questions_hearts</th>
      <th>students_tags</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>18051</th>
      <td>84dad9d6139e4eb7944a0f274ec7779d</td>
      <td>Collinsville, Illinois</td>
      <td>2017-02-09 01:31:31</td>
      <td>721 days 22:28:29</td>
      <td>23</td>
      <td>32</td>
      <td>2017-02-26 23:34:06</td>
      <td>2017-02-09 01:41:21</td>
      <td>2017-03-02 15:34:44</td>
      <td>2017-02-09 01:49:05</td>
      <td>2017-03-02 15:34:44</td>
      <td>2017-02-09 01:41:21</td>
      <td>76</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>17749</th>
      <td>867e779f9dad4020925e986151ca4be4</td>
      <td>Jacksonville, Florida</td>
      <td>2017-01-24 03:05:14</td>
      <td>737 days 20:54:46</td>
      <td>77</td>
      <td>37</td>
      <td>2018-03-28 16:55:35</td>
      <td>2017-01-24 16:46:20</td>
      <td>2018-03-30 01:37:16</td>
      <td>2017-01-27 16:10:39</td>
      <td>2018-03-30 01:37:16</td>
      <td>2017-01-24 16:46:20</td>
      <td>319</td>
      <td>[technology, marketing, hotel-asset-management]</td>
    </tr>
    <tr>
      <th>12904</th>
      <td>45852d7b04fd40a0b8e3d92c8a37aad0</td>
      <td>New York, New York</td>
      <td>2016-06-23 22:30:31</td>
      <td>952 days 01:29:29</td>
      <td>84</td>
      <td>4</td>
      <td>2017-02-21 22:42:33</td>
      <td>2016-06-23 22:38:31</td>
      <td>2016-07-13 04:18:10</td>
      <td>2016-06-24 00:33:40</td>
      <td>2017-02-21 22:42:33</td>
      <td>2016-06-23 22:38:31</td>
      <td>288</td>
      <td>[money, business, career, life, college, jobs,...</td>
    </tr>
    <tr>
      <th>7133</th>
      <td>658fcec53ccd49c7afe79e0816a2bbcf</td>
      <td>Fairfax, Virginia</td>
      <td>2016-05-02 18:03:03</td>
      <td>1004 days 05:56:57</td>
      <td>30</td>
      <td>28</td>
      <td>2018-01-12 04:07:33</td>
      <td>2016-05-02 19:42:49</td>
      <td>2016-06-07 02:07:20</td>
      <td>2016-05-02 19:54:59</td>
      <td>2018-01-12 04:07:33</td>
      <td>2016-05-02 19:42:49</td>
      <td>132</td>
      <td>[finance, college, university, financial-aid, ...</td>
    </tr>
    <tr>
      <th>17350</th>
      <td>94cf86c4b2ed40d6ad21cfd3f8b01ece</td>
      <td>Rockville, Maryland</td>
      <td>2016-12-19 19:40:16</td>
      <td>773 days 04:19:44</td>
      <td>45</td>
      <td>53</td>
      <td>2017-07-14 21:48:11</td>
      <td>2016-12-19 19:48:19</td>
      <td>2017-05-19 18:14:17</td>
      <td>2016-12-21 19:04:34</td>
      <td>2017-07-14 21:48:11</td>
      <td>2016-12-19 19:48:19</td>
      <td>123</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">user_id</span> <span class="o">=</span> <span class="n">stu_sample_of_5_ids</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
<span class="n">plot_user_activity</span><span class="p">(</span><span class="n">user_id</span><span class="o">=</span><span class="n">user_id</span><span class="p">,</span> <span class="n">xticks_type</span><span class="o">=</span><span class="s1">&#39;Month&#39;</span><span class="p">,</span> <span class="n">xticks_interval</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/T964554_Career_Village_Questions_Recommendation_70_0.png" src="../_images/T964554_Career_Village_Questions_Recommendation_70_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">user_id</span> <span class="o">=</span> <span class="n">stu_sample_of_5_ids</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
<span class="n">plot_user_activity</span><span class="p">(</span><span class="n">user_id</span><span class="o">=</span><span class="n">user_id</span><span class="p">,</span> <span class="n">xticks_type</span><span class="o">=</span><span class="s1">&#39;Month&#39;</span><span class="p">,</span> <span class="n">xticks_interval</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/T964554_Career_Village_Questions_Recommendation_71_0.png" src="../_images/T964554_Career_Village_Questions_Recommendation_71_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">user_id</span> <span class="o">=</span> <span class="s1">&#39;e5c389a88c884e13ac828dd22628acc8&#39;</span>
<span class="n">plot_user_activity</span><span class="p">(</span><span class="n">user_id</span><span class="o">=</span><span class="n">user_id</span><span class="p">,</span> <span class="n">xticks_type</span><span class="o">=</span><span class="s1">&#39;Day&#39;</span><span class="p">,</span> <span class="n">xticks_interval</span><span class="o">=</span><span class="mi">7</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/T964554_Career_Village_Questions_Recommendation_72_0.png" src="../_images/T964554_Career_Village_Questions_Recommendation_72_0.png" />
</div>
</div>
</div>
<div class="section" id="dependency-graph">
<h4>Dependency Graph<a class="headerlink" href="#dependency-graph" title="Permalink to this headline">¶</a></h4>
<p>The Dependency Graph should help to identify some relations between the different entities. For example, it shows graphically if there is a relation between the hashtags of a professional and his answered questions.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">plot_dependecy_graph</span><span class="p">(</span><span class="n">emails_id</span><span class="o">=</span><span class="p">[],</span> <span class="n">details</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;tag&#39;</span><span class="p">,</span> <span class="s1">&#39;group&#39;</span><span class="p">,</span> <span class="s1">&#39;school&#39;</span><span class="p">],</span> <span class="n">details_min_edges</span><span class="o">=</span><span class="mi">1</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Merges all relevant data for a given email together and builds a dependency graph and report.</span>
<span class="sd">        </span>
<span class="sd">        :param emails_id: &#39;email_id&#39; of the &#39;emails&#39; dataframe</span>
<span class="sd">        :param details: List which details should be ploted (default: [&#39;tags&#39;, &#39;groups&#39;, &#39;schools&#39;])</span>
<span class="sd">        :param details_min_edges: How many edges a node from the details list must have (default: 1 (show all))</span>
<span class="sd">    &quot;&quot;&quot;</span>  
    <span class="n">graph_edges</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
    <span class="n">graph_nodes</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
    <span class="c1">#email</span>
    <span class="n">graph_emails</span> <span class="o">=</span> <span class="n">emails</span><span class="p">[</span><span class="n">emails</span><span class="p">[</span><span class="s1">&#39;emails_id&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">emails_id</span><span class="p">)]</span>
    <span class="n">graph_nodes</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">graph_nodes</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;node&#39;</span><span class="p">:</span><span class="n">graph_emails</span><span class="p">[</span><span class="s1">&#39;emails_id&#39;</span><span class="p">],</span> <span class="s1">&#39;type&#39;</span><span class="p">:</span><span class="s1">&#39;email&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span><span class="s1">&#39;grey&#39;</span><span class="p">,</span> <span class="s1">&#39;size&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">})])</span>
    <span class="c1">#questions</span>
    <span class="n">graph_matches</span> <span class="o">=</span> <span class="n">matches</span><span class="p">[</span><span class="n">matches</span><span class="p">[</span><span class="s1">&#39;matches_email_id&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">graph_emails</span><span class="p">[</span><span class="s1">&#39;emails_id&#39;</span><span class="p">])]</span>
    <span class="n">graph_nodes</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">graph_nodes</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;node&#39;</span><span class="p">:</span><span class="n">graph_matches</span><span class="p">[</span><span class="s1">&#39;matches_question_id&#39;</span><span class="p">],</span> <span class="s1">&#39;type&#39;</span><span class="p">:</span><span class="s1">&#39;question&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span><span class="s1">&#39;blue&#39;</span><span class="p">,</span> <span class="s1">&#39;size&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">})])</span>
    <span class="n">graph_edges</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">graph_edges</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;source&#39;</span><span class="p">:</span><span class="n">graph_matches</span><span class="p">[</span><span class="s1">&#39;matches_email_id&#39;</span><span class="p">],</span> <span class="s1">&#39;target&#39;</span><span class="p">:</span><span class="n">graph_matches</span><span class="p">[</span><span class="s1">&#39;matches_question_id&#39;</span><span class="p">]})])</span>
    <span class="c1">#answers</span>
    <span class="n">graph_answers</span> <span class="o">=</span> <span class="n">answers</span><span class="p">[</span><span class="n">answers</span><span class="p">[</span><span class="s1">&#39;answers_question_id&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">graph_matches</span><span class="p">[</span><span class="s1">&#39;matches_question_id&#39;</span><span class="p">])]</span>
    <span class="n">graph_nodes</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">graph_nodes</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;node&#39;</span><span class="p">:</span><span class="n">graph_answers</span><span class="p">[</span><span class="s1">&#39;answers_id&#39;</span><span class="p">],</span> <span class="s1">&#39;type&#39;</span><span class="p">:</span><span class="s1">&#39;answer&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span><span class="s1">&#39;red&#39;</span><span class="p">,</span> <span class="s1">&#39;size&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">})])</span>
    <span class="n">graph_edges</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">graph_edges</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;source&#39;</span><span class="p">:</span><span class="n">graph_answers</span><span class="p">[</span><span class="s1">&#39;answers_question_id&#39;</span><span class="p">],</span> <span class="s1">&#39;target&#39;</span><span class="p">:</span><span class="n">graph_answers</span><span class="p">[</span><span class="s1">&#39;answers_id&#39;</span><span class="p">]})])</span>
    <span class="c1">#professionals</span>
    <span class="n">graph_professionals</span> <span class="o">=</span> <span class="n">answers</span><span class="p">[</span><span class="n">answers</span><span class="p">[</span><span class="s1">&#39;answers_question_id&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">graph_matches</span><span class="p">[</span><span class="s1">&#39;matches_question_id&#39;</span><span class="p">])]</span>
    <span class="n">graph_nodes</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">graph_nodes</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;node&#39;</span><span class="p">:</span><span class="n">graph_professionals</span><span class="p">[</span><span class="s1">&#39;answers_author_id&#39;</span><span class="p">],</span> <span class="s1">&#39;type&#39;</span><span class="p">:</span><span class="s1">&#39;professional&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span><span class="s1">&#39;cyan&#39;</span><span class="p">,</span> <span class="s1">&#39;size&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">})])</span>
    <span class="n">graph_edges</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">graph_edges</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;source&#39;</span><span class="p">:</span><span class="n">graph_professionals</span><span class="p">[</span><span class="s1">&#39;answers_id&#39;</span><span class="p">],</span> <span class="s1">&#39;target&#39;</span><span class="p">:</span><span class="n">graph_professionals</span><span class="p">[</span><span class="s1">&#39;answers_author_id&#39;</span><span class="p">]})])</span>
    <span class="c1">#students</span>
    <span class="n">graph_students</span> <span class="o">=</span> <span class="n">questions</span><span class="p">[</span><span class="n">questions</span><span class="p">[</span><span class="s1">&#39;questions_id&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">graph_matches</span><span class="p">[</span><span class="s1">&#39;matches_question_id&#39;</span><span class="p">])]</span>
    <span class="n">graph_nodes</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">graph_nodes</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;node&#39;</span><span class="p">:</span><span class="n">graph_students</span><span class="p">[</span><span class="s1">&#39;questions_author_id&#39;</span><span class="p">],</span> <span class="s1">&#39;type&#39;</span><span class="p">:</span><span class="s1">&#39;student&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span><span class="s1">&#39;green&#39;</span><span class="p">,</span> <span class="s1">&#39;size&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">})])</span>
    <span class="n">graph_edges</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">graph_edges</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;source&#39;</span><span class="p">:</span><span class="n">graph_students</span><span class="p">[</span><span class="s1">&#39;questions_id&#39;</span><span class="p">],</span> <span class="s1">&#39;target&#39;</span><span class="p">:</span><span class="n">graph_students</span><span class="p">[</span><span class="s1">&#39;questions_author_id&#39;</span><span class="p">]})])</span>
    <span class="k">if</span> <span class="s1">&#39;tag&#39;</span> <span class="ow">in</span> <span class="n">details</span><span class="p">:</span>
        <span class="c1">#question tags</span>
        <span class="n">graph_questions_tags</span> <span class="o">=</span> <span class="n">tag_questions</span><span class="p">[</span><span class="n">tag_questions</span><span class="p">[</span><span class="s1">&#39;tag_questions_question_id&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">graph_matches</span><span class="p">[</span><span class="s1">&#39;matches_question_id&#39;</span><span class="p">])]</span>
        <span class="n">graph_questions_tags</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">graph_questions_tags</span><span class="p">,</span> <span class="n">tags</span><span class="p">,</span> <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;tag_questions_tag_id&#39;</span><span class="p">,</span> <span class="n">right_on</span><span class="o">=</span><span class="s1">&#39;tags_tag_id&#39;</span><span class="p">)</span>
        <span class="n">graph_nodes</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">graph_nodes</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;node&#39;</span><span class="p">:</span><span class="n">graph_questions_tags</span><span class="p">[</span><span class="s1">&#39;tags_tag_name&#39;</span><span class="p">],</span> <span class="s1">&#39;type&#39;</span><span class="p">:</span><span class="s1">&#39;tag&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span><span class="s1">&#39;yellow&#39;</span><span class="p">,</span> <span class="s1">&#39;size&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">})])</span>
        <span class="n">graph_edges</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">graph_edges</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;source&#39;</span><span class="p">:</span><span class="n">graph_questions_tags</span><span class="p">[</span><span class="s1">&#39;tag_questions_question_id&#39;</span><span class="p">],</span> <span class="s1">&#39;target&#39;</span><span class="p">:</span><span class="n">graph_questions_tags</span><span class="p">[</span><span class="s1">&#39;tags_tag_name&#39;</span><span class="p">]})])</span>  
        <span class="c1">#professional tags</span>
        <span class="n">graph_professionals_tags</span> <span class="o">=</span> <span class="n">tag_users</span><span class="p">[</span><span class="n">tag_users</span><span class="p">[</span><span class="s1">&#39;tag_users_user_id&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">graph_professionals</span><span class="p">[</span><span class="s1">&#39;answers_author_id&#39;</span><span class="p">])]</span>
        <span class="n">graph_professionals_tags</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">graph_professionals_tags</span><span class="p">,</span> <span class="n">tags</span><span class="p">,</span> <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;tag_users_tag_id&#39;</span><span class="p">,</span> <span class="n">right_on</span><span class="o">=</span><span class="s1">&#39;tags_tag_id&#39;</span><span class="p">)</span>
        <span class="n">graph_nodes</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">graph_nodes</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;node&#39;</span><span class="p">:</span><span class="n">graph_professionals_tags</span><span class="p">[</span><span class="s1">&#39;tags_tag_name&#39;</span><span class="p">],</span> <span class="s1">&#39;type&#39;</span><span class="p">:</span><span class="s1">&#39;tag&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span><span class="s1">&#39;yellow&#39;</span><span class="p">,</span> <span class="s1">&#39;size&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">})])</span>
        <span class="n">graph_edges</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">graph_edges</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;source&#39;</span><span class="p">:</span><span class="n">graph_professionals_tags</span><span class="p">[</span><span class="s1">&#39;tag_users_user_id&#39;</span><span class="p">],</span> <span class="s1">&#39;target&#39;</span><span class="p">:</span><span class="n">graph_professionals_tags</span><span class="p">[</span><span class="s1">&#39;tags_tag_name&#39;</span><span class="p">]})])</span>     
        <span class="c1">#students tags</span>
        <span class="n">graph_students_tags</span> <span class="o">=</span> <span class="n">tag_users</span><span class="p">[</span><span class="n">tag_users</span><span class="p">[</span><span class="s1">&#39;tag_users_user_id&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">graph_students</span><span class="p">[</span><span class="s1">&#39;questions_author_id&#39;</span><span class="p">])]</span>
        <span class="n">graph_students_tags</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">graph_students_tags</span><span class="p">,</span> <span class="n">tags</span><span class="p">,</span> <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;tag_users_tag_id&#39;</span><span class="p">,</span> <span class="n">right_on</span><span class="o">=</span><span class="s1">&#39;tags_tag_id&#39;</span><span class="p">)</span>
        <span class="n">graph_nodes</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">graph_nodes</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;node&#39;</span><span class="p">:</span><span class="n">graph_students_tags</span><span class="p">[</span><span class="s1">&#39;tags_tag_name&#39;</span><span class="p">],</span> <span class="s1">&#39;type&#39;</span><span class="p">:</span><span class="s1">&#39;tag&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span><span class="s1">&#39;yellow&#39;</span><span class="p">,</span> <span class="s1">&#39;size&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">})])</span>
        <span class="n">graph_edges</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">graph_edges</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;source&#39;</span><span class="p">:</span><span class="n">graph_students_tags</span><span class="p">[</span><span class="s1">&#39;tag_users_user_id&#39;</span><span class="p">],</span> <span class="s1">&#39;target&#39;</span><span class="p">:</span><span class="n">graph_students_tags</span><span class="p">[</span><span class="s1">&#39;tags_tag_name&#39;</span><span class="p">]})])</span> 
    <span class="k">if</span> <span class="s1">&#39;group&#39;</span> <span class="ow">in</span> <span class="n">details</span><span class="p">:</span>
        <span class="c1">#professional group</span>
        <span class="n">graph_professionals_group</span> <span class="o">=</span> <span class="n">group_memberships</span><span class="p">[</span><span class="n">group_memberships</span><span class="p">[</span><span class="s1">&#39;group_memberships_user_id&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">graph_professionals</span><span class="p">[</span><span class="s1">&#39;answers_author_id&#39;</span><span class="p">])]</span>
        <span class="n">graph_nodes</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">graph_nodes</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;node&#39;</span><span class="p">:</span><span class="n">graph_professionals_group</span><span class="p">[</span><span class="s1">&#39;group_memberships_group_id&#39;</span><span class="p">],</span> <span class="s1">&#39;type&#39;</span><span class="p">:</span><span class="s1">&#39;group&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span><span class="s1">&#39;orange&#39;</span><span class="p">,</span> <span class="s1">&#39;size&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">})])</span>
        <span class="n">graph_edges</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">graph_edges</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;source&#39;</span><span class="p">:</span><span class="n">graph_professionals_group</span><span class="p">[</span><span class="s1">&#39;group_memberships_user_id&#39;</span><span class="p">],</span> <span class="s1">&#39;target&#39;</span><span class="p">:</span><span class="n">graph_professionals_group</span><span class="p">[</span><span class="s1">&#39;group_memberships_group_id&#39;</span><span class="p">]})])</span> 
        <span class="c1">#students group</span>
        <span class="n">graph_students_group</span> <span class="o">=</span> <span class="n">group_memberships</span><span class="p">[</span><span class="n">group_memberships</span><span class="p">[</span><span class="s1">&#39;group_memberships_user_id&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">graph_students</span><span class="p">[</span><span class="s1">&#39;questions_author_id&#39;</span><span class="p">])]</span>
        <span class="n">graph_nodes</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">graph_nodes</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;node&#39;</span><span class="p">:</span><span class="n">graph_students_group</span><span class="p">[</span><span class="s1">&#39;group_memberships_group_id&#39;</span><span class="p">],</span> <span class="s1">&#39;type&#39;</span><span class="p">:</span><span class="s1">&#39;group&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span><span class="s1">&#39;orange&#39;</span><span class="p">,</span> <span class="s1">&#39;size&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">})])</span>
        <span class="n">graph_edges</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">graph_edges</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;source&#39;</span><span class="p">:</span><span class="n">graph_students_group</span><span class="p">[</span><span class="s1">&#39;group_memberships_user_id&#39;</span><span class="p">],</span> <span class="s1">&#39;target&#39;</span><span class="p">:</span><span class="n">graph_students_group</span><span class="p">[</span><span class="s1">&#39;group_memberships_group_id&#39;</span><span class="p">]})])</span> 
    <span class="k">if</span> <span class="s1">&#39;school&#39;</span> <span class="ow">in</span> <span class="n">details</span><span class="p">:</span>
        <span class="c1">#professional school</span>
        <span class="n">graph_professionals_school</span> <span class="o">=</span> <span class="n">school_memberships</span><span class="p">[</span><span class="n">school_memberships</span><span class="p">[</span><span class="s1">&#39;school_memberships_user_id&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">graph_professionals</span><span class="p">[</span><span class="s1">&#39;answers_author_id&#39;</span><span class="p">])]</span>
        <span class="n">graph_nodes</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">graph_nodes</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;node&#39;</span><span class="p">:</span><span class="n">graph_professionals_school</span><span class="p">[</span><span class="s1">&#39;school_memberships_school_id&#39;</span><span class="p">],</span> <span class="s1">&#39;type&#39;</span><span class="p">:</span><span class="s1">&#39;school&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span><span class="s1">&#39;purple&#39;</span><span class="p">,</span> <span class="s1">&#39;size&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">})])</span>
        <span class="n">graph_edges</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">graph_edges</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;source&#39;</span><span class="p">:</span><span class="n">graph_professionals_school</span><span class="p">[</span><span class="s1">&#39;school_memberships_user_id&#39;</span><span class="p">],</span> <span class="s1">&#39;target&#39;</span><span class="p">:</span><span class="n">graph_professionals_school</span><span class="p">[</span><span class="s1">&#39;school_memberships_school_id&#39;</span><span class="p">]})])</span>
        <span class="c1">#students school</span>
        <span class="n">graph_students_school</span> <span class="o">=</span> <span class="n">school_memberships</span><span class="p">[</span><span class="n">school_memberships</span><span class="p">[</span><span class="s1">&#39;school_memberships_user_id&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">graph_students</span><span class="p">[</span><span class="s1">&#39;questions_author_id&#39;</span><span class="p">])]</span>
        <span class="n">graph_nodes</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">graph_nodes</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;node&#39;</span><span class="p">:</span><span class="n">graph_students_school</span><span class="p">[</span><span class="s1">&#39;school_memberships_school_id&#39;</span><span class="p">],</span> <span class="s1">&#39;type&#39;</span><span class="p">:</span><span class="s1">&#39;school&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">:</span><span class="s1">&#39;purple&#39;</span><span class="p">,</span> <span class="s1">&#39;size&#39;</span><span class="p">:</span><span class="mi">1</span><span class="p">})])</span>
        <span class="n">graph_edges</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">graph_edges</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;source&#39;</span><span class="p">:</span><span class="n">graph_students_school</span><span class="p">[</span><span class="s1">&#39;school_memberships_user_id&#39;</span><span class="p">],</span> <span class="s1">&#39;target&#39;</span><span class="p">:</span><span class="n">graph_students_school</span><span class="p">[</span><span class="s1">&#39;school_memberships_school_id&#39;</span><span class="p">]})])</span>
    
    <span class="c1"># check min count of edges for details</span>
    <span class="n">graph_nodes</span> <span class="o">=</span> <span class="n">graph_nodes</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">()</span>
    <span class="n">temp</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">graph_edges</span><span class="p">[[</span><span class="s1">&#39;source&#39;</span><span class="p">,</span> <span class="s1">&#39;target&#39;</span><span class="p">]],</span> <span class="n">graph_edges</span><span class="p">[[</span><span class="s1">&#39;target&#39;</span><span class="p">,</span> <span class="s1">&#39;source&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">rename</span><span class="p">(</span><span class="n">columns</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;target&#39;</span><span class="p">:</span><span class="s1">&#39;source&#39;</span><span class="p">,</span> <span class="s1">&#39;source&#39;</span><span class="p">:</span><span class="s1">&#39;target&#39;</span><span class="p">})])</span>
    <span class="n">temp</span> <span class="o">=</span> <span class="n">temp</span><span class="p">[</span><span class="n">temp</span><span class="p">[</span><span class="s1">&#39;source&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">graph_nodes</span><span class="p">[</span><span class="n">graph_nodes</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">details</span><span class="p">)][</span><span class="s1">&#39;node&#39;</span><span class="p">])]</span>
    <span class="n">temp</span> <span class="o">=</span> <span class="n">temp</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">()</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;source&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span>
    <span class="n">graph_nodes</span> <span class="o">=</span> <span class="n">graph_nodes</span><span class="p">[</span><span class="o">~</span><span class="n">graph_nodes</span><span class="p">[</span><span class="s1">&#39;node&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">temp</span><span class="p">[</span><span class="n">temp</span><span class="o">&lt;</span><span class="n">details_min_edges</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">values</span><span class="p">)]</span>
    <span class="n">graph_edges</span> <span class="o">=</span> <span class="n">graph_edges</span><span class="p">[(</span><span class="o">~</span><span class="n">graph_edges</span><span class="p">[</span><span class="s1">&#39;source&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">temp</span><span class="p">[</span><span class="n">temp</span><span class="o">&lt;</span><span class="n">details_min_edges</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">values</span><span class="p">))</span> <span class="o">&amp;</span> <span class="p">(</span><span class="o">~</span><span class="n">graph_edges</span><span class="p">[</span><span class="s1">&#39;target&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">temp</span><span class="p">[</span><span class="n">temp</span><span class="o">&lt;</span><span class="n">details_min_edges</span><span class="p">]</span><span class="o">.</span><span class="n">index</span><span class="o">.</span><span class="n">values</span><span class="p">))]</span>
    <span class="n">graph_nodes_color</span> <span class="o">=</span> <span class="n">graph_nodes</span><span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">]</span>
    
    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">15</span><span class="p">,</span> <span class="mi">15</span><span class="p">))</span> 
    <span class="n">G</span> <span class="o">=</span> <span class="n">nx</span><span class="o">.</span><span class="n">Graph</span><span class="p">()</span>
    <span class="n">G</span><span class="o">.</span><span class="n">add_nodes_from</span><span class="p">(</span><span class="n">graph_nodes</span><span class="p">[</span><span class="s1">&#39;node&#39;</span><span class="p">])</span>
    <span class="n">G</span><span class="o">.</span><span class="n">add_edges_from</span><span class="p">({</span><span class="nb">tuple</span><span class="p">(</span><span class="n">row</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span><span class="p">,</span><span class="n">row</span> <span class="ow">in</span> <span class="n">graph_edges</span><span class="p">[[</span><span class="s1">&#39;source&#39;</span><span class="p">,</span> <span class="s1">&#39;target&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">iterrows</span><span class="p">()})</span>
    <span class="n">nx</span><span class="o">.</span><span class="n">draw_networkx</span><span class="p">(</span><span class="n">G</span><span class="p">,</span> <span class="n">with_labels</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">node_color</span><span class="o">=</span><span class="n">graph_nodes_color</span><span class="p">,</span> <span class="n">font_size</span><span class="o">=</span><span class="mi">8</span><span class="p">,</span> <span class="n">node_size</span><span class="o">=</span><span class="mi">900</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">emails_id</span><span class="p">))</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Dependency graph for email </span><span class="si">{}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">emails_id</span><span class="p">))</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s1">&#39;off&#39;</span><span class="p">)</span>

    <span class="n">legend</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">graph_nodes</span><span class="p">[[</span><span class="s1">&#39;type&#39;</span><span class="p">,</span> <span class="s1">&#39;color&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">drop_duplicates</span><span class="p">()</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
        <span class="n">legend</span> <span class="o">+=</span> <span class="p">[</span><span class="n">mpatches</span><span class="o">.</span><span class="n">Patch</span><span class="p">(</span><span class="n">color</span><span class="o">=</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;color&#39;</span><span class="p">],</span> <span class="n">label</span><span class="o">=</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;type&#39;</span><span class="p">])]</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">(</span><span class="n">handles</span><span class="o">=</span><span class="n">legend</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p><strong>Example 1</strong></p>
<p>In example 1 we have one email with two questions with a few questions tags. There are several answers for the question. The students from the questions haven’t any group or school membership. The professionals have more motivation to subscribe some tags and specify there school membership. But only two professionals have joined a group.</p>
<p>In the second plot of this example we increase the parameter details_min_edges to 2. This provides a better overview of which tags are used by multiple nodes. For example, the ‘financial-planing’ node is used in two questions and is subscribed by the professional and student at the same time.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">emails_id</span> <span class="o">=</span> <span class="n">emails</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">seed</span><span class="p">,</span> <span class="s1">&#39;emails_id&#39;</span><span class="p">]</span>
<span class="n">plot_dependecy_graph</span><span class="p">(</span><span class="n">emails_id</span><span class="o">=</span><span class="p">[</span><span class="n">emails_id</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/T964554_Career_Village_Questions_Recommendation_77_0.png" src="../_images/T964554_Career_Village_Questions_Recommendation_77_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">emails_id</span> <span class="o">=</span> <span class="n">emails</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">seed</span><span class="p">,</span> <span class="s1">&#39;emails_id&#39;</span><span class="p">]</span>
<span class="n">plot_dependecy_graph</span><span class="p">(</span><span class="n">emails_id</span><span class="o">=</span><span class="p">[</span><span class="n">emails_id</span><span class="p">],</span> <span class="n">details_min_edges</span><span class="o">=</span><span class="mi">2</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/T964554_Career_Village_Questions_Recommendation_78_0.png" src="../_images/T964554_Career_Village_Questions_Recommendation_78_0.png" />
</div>
</div>
<p><strong>Example 2</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">emails_id</span> <span class="o">=</span> <span class="n">emails</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">seed</span><span class="o">*</span><span class="mi">2</span><span class="p">,</span> <span class="s1">&#39;emails_id&#39;</span><span class="p">]</span>
<span class="n">plot_dependecy_graph</span><span class="p">(</span><span class="n">emails_id</span><span class="o">=</span><span class="p">[</span><span class="n">emails_id</span><span class="p">])</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/T964554_Career_Village_Questions_Recommendation_80_0.png" src="../_images/T964554_Career_Village_Questions_Recommendation_80_0.png" />
</div>
</div>
</div>
</div>
<div class="section" id="topic-model-lda">
<h3>Topic Model (LDA)<a class="headerlink" href="#topic-model-lda" title="Permalink to this headline">¶</a></h3>
<p>In this section we will implement a LDA (Latent Dirichlet Allocation) Model to get topic probabilities for the questions. We can use this to see how topics are distributed across questions and which words characterize them.<br />
New questions can be allocated to topics and forwarded to professional who are familiar with these topics.</p>
<ol class="simple">
<li><p>Use NLP on the Questions corpus.<br />
a. Use part-of-speech tagging to filter words.<br />
b. Filter extrem values from corpus.<br />
c. Calculate the tf-idf.</p></li>
<li><p>Train a LDA Model.</p></li>
<li><p>Give the topics a headline</p></li>
<li><p>Get the topic probability of a new question text.</p></li>
</ol>
<div class="section" id="parameters">
<h4>Parameters<a class="headerlink" href="#parameters" title="Permalink to this headline">¶</a></h4>
<p>The LDA model is created with Gensim library. There are many parameters that can be set and have an effect on the trained model. It is an unsupervised model and is not easy to choose the right parameters. We tested around with different parameters and checked whether it comes close to our expectations.</p>
<p>The Gensim Dictionary Filter parameters are for a preprocessing, to filter out tokens in the dictionary by their frequency.</p>
<p>The LDA parameters are for training the model. Most interesting is the num_topics which specifies how many topics we want to have. And alpha is the parameter of the Dirichlet prior on the per-document topic distributions.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Gensim Dictionary Filter</span>
<span class="n">extremes_no_below</span> <span class="o">=</span> <span class="mi">20</span>
<span class="n">extremes_no_above</span> <span class="o">=</span> <span class="mf">0.6</span>
<span class="n">extremes_keep_n</span> <span class="o">=</span> <span class="mi">8000</span>

<span class="c1"># LDA</span>
<span class="n">num_topics</span> <span class="o">=</span> <span class="mi">21</span>
<span class="n">passes</span> <span class="o">=</span> <span class="mi">15</span>
<span class="n">chunksize</span> <span class="o">=</span> <span class="mi">1000</span>
<span class="n">alpha</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="mi">50</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="functions">
<h4>Functions<a class="headerlink" href="#functions" title="Permalink to this headline">¶</a></h4>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_model_results</span><span class="p">(</span><span class="n">ldamodel</span><span class="p">,</span> <span class="n">corpus</span><span class="p">,</span> <span class="n">dictionary</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Create doc-topic probabilities table and visualization for the LDA model</span>

<span class="sd">    &quot;&quot;&quot;</span>  
    <span class="n">vis</span> <span class="o">=</span> <span class="n">gensimvis</span><span class="o">.</span><span class="n">prepare</span><span class="p">(</span><span class="n">ldamodel</span><span class="p">,</span> <span class="n">corpus</span><span class="p">,</span> <span class="n">dictionary</span><span class="p">,</span> <span class="n">sort_topics</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">transformed</span> <span class="o">=</span> <span class="n">ldamodel</span><span class="o">.</span><span class="n">get_document_topics</span><span class="p">(</span><span class="n">corpus</span><span class="p">)</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">from_records</span><span class="p">([{</span><span class="n">v</span><span class="p">:</span><span class="n">k</span> <span class="k">for</span> <span class="n">v</span><span class="p">,</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">row</span><span class="p">}</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">transformed</span><span class="p">])</span>
    <span class="k">return</span> <span class="n">vis</span><span class="p">,</span> <span class="n">df</span>  
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_model_wordcloud</span><span class="p">(</span><span class="n">ldamodel</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Create a Word Cloud for each topic of the LDA model</span>

<span class="sd">    &quot;&quot;&quot;</span>  
    <span class="n">plot_cols</span> <span class="o">=</span> <span class="mi">3</span>
    <span class="n">plot_rows</span> <span class="o">=</span> <span class="n">math</span><span class="o">.</span><span class="n">ceil</span><span class="p">(</span><span class="n">num_topics</span> <span class="o">/</span> <span class="mi">3</span><span class="p">)</span>
    <span class="n">axisNum</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">5</span><span class="o">*</span><span class="n">plot_cols</span><span class="p">,</span> <span class="mi">3</span><span class="o">*</span><span class="n">plot_rows</span><span class="p">))</span>
    <span class="k">for</span> <span class="n">topicID</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">ldamodel</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">get_lambda</span><span class="p">()</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">]):</span>
        <span class="c1">#gather most relevant terms for the given topic</span>
        <span class="n">topics_terms</span> <span class="o">=</span> <span class="n">ldamodel</span><span class="o">.</span><span class="n">state</span><span class="o">.</span><span class="n">get_lambda</span><span class="p">()</span>
        <span class="n">tmpDict</span> <span class="o">=</span> <span class="p">{}</span>
        <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">topics_terms</span><span class="p">[</span><span class="mi">0</span><span class="p">])):</span>
            <span class="n">tmpDict</span><span class="p">[</span><span class="n">ldamodel</span><span class="o">.</span><span class="n">id2word</span><span class="p">[</span><span class="n">i</span><span class="p">]]</span><span class="o">=</span><span class="n">topics_terms</span><span class="p">[</span><span class="n">topicID</span><span class="p">,</span><span class="n">i</span><span class="p">]</span>

        <span class="c1"># draw the wordcloud</span>
        <span class="n">wordcloud</span> <span class="o">=</span> <span class="n">WordCloud</span><span class="p">(</span> <span class="n">margin</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span><span class="n">max_words</span><span class="o">=</span><span class="mi">20</span> <span class="p">)</span><span class="o">.</span><span class="n">generate_from_frequencies</span><span class="p">(</span><span class="n">tmpDict</span><span class="p">)</span>
        <span class="n">axisNum</span> <span class="o">+=</span> <span class="mi">1</span>
        <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplot</span><span class="p">(</span><span class="n">plot_rows</span><span class="p">,</span> <span class="n">plot_cols</span><span class="p">,</span> <span class="n">axisNum</span><span class="p">)</span>

        <span class="n">plt</span><span class="o">.</span><span class="n">imshow</span><span class="p">(</span><span class="n">wordcloud</span><span class="p">,</span> <span class="n">interpolation</span><span class="o">=</span><span class="s1">&#39;bilinear&#39;</span><span class="p">)</span>
        <span class="n">title</span> <span class="o">=</span> <span class="n">topicID</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="n">title</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">axis</span><span class="p">(</span><span class="s2">&quot;off&quot;</span><span class="p">)</span>
        <span class="n">plt</span><span class="o">.</span><span class="n">margins</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">topic_query</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">query</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Get Documents matching the query with the doc-topic probabilities</span>

<span class="sd">    &quot;&quot;&quot;</span>  
    <span class="n">result</span> <span class="o">=</span> <span class="n">data</span>
    <span class="n">result</span><span class="p">[</span><span class="s1">&#39;sort&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">topic</span> <span class="ow">in</span> <span class="n">query</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="n">result</span><span class="p">[</span><span class="n">topic</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">query</span><span class="p">[</span><span class="n">topic</span><span class="p">]]</span>
        <span class="n">result</span><span class="p">[</span><span class="s1">&#39;sort&#39;</span><span class="p">]</span> <span class="o">+=</span> <span class="n">result</span><span class="p">[</span><span class="n">topic</span><span class="p">]</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">sort_values</span><span class="p">([</span><span class="s1">&#39;sort&#39;</span><span class="p">],</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;sort&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_text_topics</span><span class="p">(</span><span class="n">text</span><span class="p">,</span> <span class="n">top</span><span class="o">=</span><span class="mi">20</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Get the topics probabilities for a text and highlight relevant words</span>

<span class="sd">    &quot;&quot;&quot;</span>    
    <span class="k">def</span> <span class="nf">token_topic</span><span class="p">(</span><span class="n">token</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">topic_words</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">token</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">)</span>
    
    <span class="n">colors</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;</span><span class="se">\033</span><span class="s1">[46m&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\033</span><span class="s1">[45m&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\033</span><span class="s1">[44m&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\033</span><span class="s1">[43m&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\033</span><span class="s1">[42m&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\033</span><span class="s1">[41m&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="se">\033</span><span class="s1">[47m&#39;</span><span class="p">]</span>    
    <span class="n">nlp_tokens</span> <span class="o">=</span> <span class="n">nlp_preprocessing</span><span class="p">([</span><span class="n">text</span><span class="p">])</span>

    <span class="n">bow_text</span> <span class="o">=</span> <span class="p">[</span><span class="n">lda_dic</span><span class="o">.</span><span class="n">doc2bow</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span> <span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">nlp_tokens</span><span class="p">]</span>
    <span class="n">bow_text</span> <span class="o">=</span> <span class="n">lda_tfidf</span><span class="p">[</span><span class="n">bow_text</span><span class="p">]</span>
    <span class="n">topic_text</span> <span class="o">=</span> <span class="n">lda_model</span><span class="o">.</span><span class="n">get_document_topics</span><span class="p">(</span><span class="n">bow_text</span><span class="p">)</span>
    <span class="n">topic_text</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">from_records</span><span class="p">([{</span><span class="n">v</span><span class="p">:</span><span class="n">k</span> <span class="k">for</span> <span class="n">v</span><span class="p">,</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">row</span><span class="p">}</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">topic_text</span><span class="p">])</span>
    
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Question:&#39;</span><span class="p">)</span>
    <span class="n">topic_words</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">topic_labeled</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">topic</span> <span class="ow">in</span> <span class="n">topic_text</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">values</span><span class="p">:</span>
        <span class="n">topic_terms</span> <span class="o">=</span> <span class="n">lda_model</span><span class="o">.</span><span class="n">get_topic_terms</span><span class="p">(</span><span class="n">topic</span><span class="p">,</span> <span class="n">top</span><span class="p">)</span>
        <span class="n">topic_words</span> <span class="o">=</span> <span class="n">topic_words</span><span class="o">+</span><span class="p">[[</span><span class="n">topic_labeled</span><span class="p">,</span> <span class="n">lda_dic</span><span class="p">[</span><span class="n">pair</span><span class="p">[</span><span class="mi">0</span><span class="p">]],</span> <span class="n">pair</span><span class="p">[</span><span class="mi">1</span><span class="p">]]</span> <span class="k">for</span> <span class="n">pair</span> <span class="ow">in</span> <span class="n">topic_terms</span><span class="p">]</span>
        <span class="n">topic_labeled</span> <span class="o">+=</span> <span class="mi">1</span>
    <span class="n">topic_words</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">topic_words</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;topic&#39;</span><span class="p">,</span> <span class="s1">&#39;word&#39;</span><span class="p">,</span> <span class="s1">&#39;value&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">pivot</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="s1">&#39;word&#39;</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="s1">&#39;topic&#39;</span><span class="p">,</span> <span class="n">values</span><span class="o">=</span><span class="s1">&#39;value&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">idxmax</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">nlp_doc</span> <span class="o">=</span> <span class="n">nlp</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
    <span class="n">text_highlight</span> <span class="o">=</span> <span class="s1">&#39;&#39;</span><span class="o">.</span><span class="n">join</span><span class="p">([</span><span class="n">x</span><span class="o">.</span><span class="n">string</span> <span class="k">if</span> <span class="n">token_topic</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">lemma_</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span> <span class="o">&lt;</span><span class="mi">0</span>  <span class="k">else</span> <span class="n">colors</span><span class="p">[</span><span class="n">token_topic</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">lemma_</span><span class="o">.</span><span class="n">lower</span><span class="p">())</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">colors</span><span class="p">)]</span> <span class="o">+</span> <span class="n">x</span><span class="o">.</span><span class="n">string</span> <span class="o">+</span> <span class="s1">&#39;</span><span class="se">\033</span><span class="s1">[0m&#39;</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">nlp_doc</span><span class="p">])</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">text_highlight</span><span class="p">)</span> 
    
    <span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Topics:&#39;</span><span class="p">)</span>
    <span class="n">topic_labeled</span> <span class="o">=</span> <span class="mi">0</span>
    <span class="k">for</span> <span class="n">topic</span> <span class="ow">in</span> <span class="n">topic_text</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="n">colors</span><span class="p">[</span><span class="n">topic_labeled</span> <span class="o">%</span> <span class="nb">len</span><span class="p">(</span><span class="n">colors</span><span class="p">)]</span><span class="o">+</span><span class="s1">&#39;Topic &#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">topic</span><span class="p">)</span><span class="o">+</span><span class="s1">&#39;:&#39;</span><span class="p">,</span> <span class="s1">&#39;</span><span class="si">{0:.2%}</span><span class="s1">&#39;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">topic_text</span><span class="p">[</span><span class="n">topic</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">+</span><span class="s1">&#39;</span><span class="se">\033</span><span class="s1">[0m&#39;</span><span class="p">)</span>
        <span class="n">topic_labeled</span> <span class="o">+=</span> <span class="mi">1</span>

    <span class="c1"># Plot Pie chart</span>
    <span class="n">plt_data</span> <span class="o">=</span> <span class="n">topic_text</span>
    <span class="n">plt_data</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;Topic &#39;</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">c</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">plt_data</span><span class="o">.</span><span class="n">columns</span><span class="p">]</span>
    <span class="n">plt_data</span><span class="p">[</span><span class="s1">&#39;Others&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="o">-</span><span class="n">plt_data</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">plt_data</span> <span class="o">=</span> <span class="n">plt_data</span><span class="o">.</span><span class="n">T</span>
    <span class="n">plt_data</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;pie&#39;</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">autopct</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">%.2f</span><span class="s1">&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Topics Probabilities&#39;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="create-model">
<h4>Create Model<a class="headerlink" href="#create-model" title="Permalink to this headline">¶</a></h4>
<p>Now we will train the LDA model. For this we take again the preprocessd <em>nlp_tokens</em> as basis. We filter out extreme values depending on the defined parameters and calculate the tf-idf corpus. Then we train the LDA model and calculate the Document-Topic Probabilities for our questions.<br />
With the current parameters it takes 2 minutes and 30 seconds to train the model. But for a productive use, it’s not necessary to train the LDA model frequently. To achieve the model persistency, the <a class="reference external" href="https://radimrehurek.com/gensim/models/ldamodel.html#gensim.models.ldamodel.LdaModel.save">save()</a> and <a class="reference external" href="https://radimrehurek.com/gensim/models/ldamodel.html#gensim.models.ldamodel.LdaModel.load">load()</a> methods can be used.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">lda_tokens</span> <span class="o">=</span> <span class="n">questions</span><span class="p">[</span><span class="s1">&#39;nlp_tokens&#39;</span><span class="p">]</span>
<span class="c1"># Gensim Dictionary</span>
<span class="n">lda_dic</span> <span class="o">=</span> <span class="n">gensim</span><span class="o">.</span><span class="n">corpora</span><span class="o">.</span><span class="n">Dictionary</span><span class="p">(</span><span class="n">lda_tokens</span><span class="p">)</span>
<span class="n">lda_dic</span><span class="o">.</span><span class="n">filter_extremes</span><span class="p">(</span><span class="n">no_below</span><span class="o">=</span><span class="n">extremes_no_below</span><span class="p">,</span> <span class="n">no_above</span><span class="o">=</span><span class="n">extremes_no_above</span><span class="p">,</span> <span class="n">keep_n</span><span class="o">=</span><span class="n">extremes_keep_n</span><span class="p">)</span>
<span class="n">lda_corpus</span> <span class="o">=</span> <span class="p">[</span><span class="n">lda_dic</span><span class="o">.</span><span class="n">doc2bow</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span> <span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">lda_tokens</span><span class="p">]</span>

<span class="n">lda_tfidf</span> <span class="o">=</span> <span class="n">gensim</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">TfidfModel</span><span class="p">(</span><span class="n">lda_corpus</span><span class="p">)</span>
<span class="n">lda_corpus</span> <span class="o">=</span> <span class="n">lda_tfidf</span><span class="p">[</span><span class="n">lda_corpus</span><span class="p">]</span>

<span class="c1"># Create LDA Model</span>
<span class="n">lda_model</span> <span class="o">=</span> <span class="n">gensim</span><span class="o">.</span><span class="n">models</span><span class="o">.</span><span class="n">ldamodel</span><span class="o">.</span><span class="n">LdaModel</span><span class="p">(</span><span class="n">lda_corpus</span><span class="p">,</span> <span class="n">num_topics</span><span class="o">=</span><span class="n">num_topics</span><span class="p">,</span> 
                                            <span class="n">id2word</span> <span class="o">=</span> <span class="n">lda_dic</span><span class="p">,</span> <span class="n">passes</span><span class="o">=</span><span class="n">passes</span><span class="p">,</span>
                                            <span class="n">chunksize</span><span class="o">=</span><span class="n">chunksize</span><span class="p">,</span><span class="n">update_every</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span>
                                            <span class="n">alpha</span><span class="o">=</span><span class="n">alpha</span><span class="p">,</span> <span class="n">random_state</span><span class="o">=</span><span class="n">seed</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Create Visualization and Doc-Topic Probabilities</span>
<span class="n">lda_vis</span><span class="p">,</span> <span class="n">lda_result</span> <span class="o">=</span> <span class="n">get_model_results</span><span class="p">(</span><span class="n">lda_model</span><span class="p">,</span> <span class="n">lda_corpus</span><span class="p">,</span> <span class="n">lda_dic</span><span class="p">)</span>
<span class="n">lda_questions</span> <span class="o">=</span> <span class="n">questions</span><span class="p">[[</span><span class="s1">&#39;questions_id&#39;</span><span class="p">,</span> <span class="s1">&#39;questions_title&#39;</span><span class="p">,</span> <span class="s1">&#39;questions_body&#39;</span><span class="p">]]</span>
<span class="n">lda_questions</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">lda_questions</span><span class="p">,</span> <span class="n">lda_result</span><span class="o">.</span><span class="n">add_prefix</span><span class="p">(</span><span class="s1">&#39;Topic_&#39;</span><span class="p">)],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="topics">
<h4>Topics<a class="headerlink" href="#topics" title="Permalink to this headline">¶</a></h4>
<p>Each wordcloud shows a topic and the top words who define the topic.
Here some examples:<br />
<strong>Topic 3</strong> is for <strong>payment</strong> (<em>loan, finance, money, pay, debt, …</em>)<br />
<strong>Topic 4</strong> is for <strong>veterinary</strong> (<em>veterinary, animal, vet, medicine, …</em>)<br />
<strong>Topic 7</strong> is for <strong>architecture</strong> (<em>architect, construction, …</em>) and <strong>marketing</strong> (<em>marketing, advertising, communication, …</em>)<br />
<strong>Topic 14</strong> is for <strong>sport</strong> (<em>sport, soccer, athletic, basketball, …</em>)<br />
<strong>Topic 16</strong> is for <strong>engieers</strong> (<em>eingineering, mechanical, aerospace, electrical, …</em>)<br />
<strong>Topic 17</strong> is for <strong>computer</strong> science (<em>computer, software, programming, …</em>)<br />
<strong>Topic 18</strong> is for <strong>health</strong> (<em>medicine, doctor, nurse, medical, …</em>)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">get_model_wordcloud</span><span class="p">(</span><span class="n">lda_model</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/T964554_Career_Village_Questions_Recommendation_93_0.png" src="../_images/T964554_Career_Village_Questions_Recommendation_93_0.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">lda_vis</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html">
<link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/gh/bmabey/pyLDAvis@3.3.1/pyLDAvis/js/ldavis.v1.0.0.css">


<div id="ldavis_el12131396386586106402590084917"></div>
<script type="text/javascript">

var ldavis_el12131396386586106402590084917_data = {"mdsDat": {"x": [-0.08069775450860506, -0.02143702378825762, 0.0664558960838248, -0.0021304073309607236, 0.021352865680211178, 0.04068548509171962, 0.0878729558965233, -0.12012399492525766, 0.02542321472299077, 0.028697660105267243, 0.05004737529452065, 0.016778928778111577, 0.030178987164848854, -0.0724932161087727, -0.04538589108869257, -0.042691962151680356, -0.018264625567828072, 0.017178345350232407, -0.03287737679111269, 0.08625636527801724, -0.034825827185100355], "y": [0.010920401181124143, -0.02456617992246413, 0.050015652378157846, -0.006821032084138009, 0.02322588584945039, -0.07142197783062146, -0.042529004330832225, -0.018135213194261757, 0.08768848704189276, 0.07805681503918861, -0.00983919438970787, 0.03543307415789711, -0.0013572735584437257, -0.050062912112019034, -0.05821058770560498, -0.01698268484503159, -0.007950938166894957, 0.047283666858455864, 0.011137906500320352, -0.10226835815872576, 0.06638346729225822], "topics": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21], "cluster": [1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1, 1], "Freq": [3.869342762649138, 3.703164050560436, 9.215193448312911, 3.0125399213668116, 6.744941491618654, 4.09636107506024, 4.925623593099941, 6.283787233791931, 4.596561382988851, 2.958657018615905, 5.604872025787783, 3.0451979040496617, 4.233558633416093, 6.498305080718092, 2.6237532149618343, 4.688656781870211, 3.5410689071266725, 2.753999993263333, 4.300712727225023, 7.808355100918537, 5.4953476525979434]}, "tinfo": {"Term": ["engineering", "nurse", "computer", "scholarship", "music", "nursing", "lawyer", "game", "law", "engineer", "mechanical", "forensic", "software", "psychology", "physical", "fashion", "design", "internship", "medical", "sport", "accounting", "veterinarian", "surgeon", "film", "teacher", "criminal", "doctor", "animal", "pediatrician", "veterinary", "animator", "animation", "cartoon", "gamer", "game", "puc", "mathematician", "stud", "video", "gaming", "disney", "venture", "interviewer", "lecture", "commerce", "radiology", "std", "character", "automobile", "charge", "viable", "instructor", "stanford", "transportation", "lecturer", "textbook", "division", "mid", "designing", "boring", "teacher", "teaching", "educator", "stem", "designer", "group", "design", "professor", "interview", "teach", "tech", "education", "computer", "good", "want", "math", "job", "career", "college", "know", "need", "art", "class", "school", "student", "study", "navy", "fbi", "detective", "criminology", "forensic", "investigator", "investigation", "army", "crime", "justice", "conservation", "ecology", "criminal", "scene", "military", "air", "indian", "equipment", "wildlife", "laboratory", "agent", "heavy", "hardship", "force", "astrophysic", "analyze", "park", "condition", "museum", "enforcement", "scientist", "federal", "analyst", "join", "police", "officer", "law", "phd", "science", "government", "career", "biology", "job", "major", "want", "college", "degree", "sport", "interested", "know", "scholarship", "investing", "grant", "fafsa", "loan", "investment", "aid", "clarity", "tuition", "uc", "taxis", "debt", "banker", "admin", "fund", "sleep", "win", "deadline", "financial", "tax", "funding", "consult", "expense", "optometry", "horse", "date", "reduce", "award", "afford", "rent", "finance", "expensive", "banking", "invest", "money", "cost", "mba", "pay", "website", "apply", "planning", "student", "college", "save", "income", "parent", "way", "good", "school", "find", "graduate", "state", "university", "time", "job", "year", "help", "business", "work", "need", "high", "want", "know", "hygienist", "dental", "dentist", "net", "speech", "hygiene", "dentistry", "pathology", "marriage", "mass", "pathologist", "harvard", "scope", "freelance", "stock", "magazine", "promote", "pls", "communications", "core", "customer", "profit", "clothing", "essay", "sector", "opt", "cosmetic", "fast", "communication", "safety", "shy", "non", "master", "collage", "social", "degree", "job", "bachelor", "work", "college", "field", "career", "business", "marketing", "school", "major", "want", "know", "need", "good", "graduate", "neurosurgeon", "painting", "indecisive", "bar", "happiness", "liberal", "principal", "paint", "sibling", "europe", "radiologist", "honest", "mathematics", "cross", "sustainability", "brain", "visual", "neurology", "fine", "throw", "applied", "assignment", "hang", "sustainable", "unit", "artistic", "equal", "arts", "boss", "history", "united", "art", "hobby", "states", "artist", "workforce", "narrow", "food", "direction", "agriculture", "passion", "career", "passionate", "decision", "country", "life", "choice", "college", "people", "major", "job", "study", "want", "school", "love", "time", "find", "help", "future", "know", "good", "path", "high", "work", "think", "change", "degree", "teacher", "like", "year", "education", "occupational", "veterinarian", "vet", "towson", "veterinary", "accountant", "dominate", "male", "cpa", "physical", "therapist", "nutrition", "gender", "therapy", "accounting", "animal", "pt", "interaction", "clinic", "female", "account", "emotional", "diversity", "gap", "psychiatry", "specialist", "anthropology", "diverse", "stability", "ok", "girl", "woman", "patient", "health", "medicine", "career", "major", "degree", "school", "want", "know", "business", "college", "good", "year", "job", "need", "work", "field", "like", "cosmetologist", "cosmetology", "register", "bsn", "cna", "anxiety", "rn", "practitioner", "anesthetist", "verizon", "dress", "co", "sat", "depression", "genetic", "elementary", "disorder", "nurse", "reward", "maintenance", "aircraft", "nursing", "reality", "classroom", "testing", "confidence", "spectrum", "sit", "certification", "score", "interview", "middle", "test", "stress", "homework", "makeup", "teacher", "education", "act", "healthcare", "college", "school", "pediatric", "good", "job", "want", "work", "study", "know", "career", "high", "program", "like", "need", "hardware", "linkedin", "chef", "geology", "nasa", "publishing", "cook", "culinary", "software", "cyber", "beginner", "homeland", "cooking", "google", "security", "electronic", "reference", "facebook", "machine", "code", "fix", "editor", "computer", "publish", "data", "eye", "profile", "straight", "baking", "wage", "programming", "technology", "sociology", "programmer", "science", "network", "information", "engineer", "engineering", "networking", "development", "tech", "learn", "job", "career", "want", "major", "field", "work", "know", "good", "degree", "college", "interested", "company", "like", "need", "actor", "basketball", "nba", "broadcasting", "actress", "acting", "theater", "fiction", "broadcast", "firefighter", "broadcaster", "writer", "pa", "theatre", "race", "reading", "movie", "ucla", "director", "writing", "television", "drama", "stage", "tv", "physician", "soft", "act", "oncology", "journalism", "enjoyable", "musical", "sport", "assistant", "creative", "write", "author", "travel", "balance", "film", "medium", "play", "entertainment", "career", "life", "want", "love", "major", "college", "work", "job", "know", "school", "lsat", "party", "trauma", "draft", "er", "label", "producer", "coast", "record", "motion", "organized", "camera", "estate", "walk", "film", "involvement", "investor", "production", "east", "crazy", "luck", "produce", "shop", "request", "cut", "visit", "worthwhile", "youtube", "west", "platform", "studio", "con", "real", "editing", "transition", "music", "pro", "campus", "lifestyle", "friend", "industry", "college", "time", "medium", "work", "school", "job", "study", "know", "want", "good", "people", "year", "major", "like", "career", "student", "way", "need", "nagar", "bengaluru", "jb", "ghs", "delivery", "j", "midwife", "collegelife", "philosophy", "motivated", "reputation", "would", "prospective", "labor", "eligible", "b", "undecided", "transfer", "respect", "habit", "critical", "unrelated", "terrible", "guide", "canada", "pick", "round", "perfect", "drop", "selection", "right", "choose", "minor", "bind", "major", "college", "subject", "career", "choice", "change", "path", "university", "study", "professional", "decide", "want", "know", "advice", "school", "good", "job", "go", "high", "class", "year", "student", "zoologist", "marine", "soccer", "dancer", "biologist", "dance", "zoology", "defense", "reliable", "oceanography", "planner", "ocean", "d", "psychotherapy", "mark", "apartment", "tour", "t", "quiet", "event", "ph", "inspire", "dorm", "concentrate", "dancing", "hop", "survive", "adapt", "rich", "rule", "focused", "campus", "biology", "attorney", "mathematic", "animal", "live", "texas", "math", "college", "want", "career", "major", "job", "good", "science", "work", "degree", "study", "school", "time", "know", "help", "lawyer", "dermatologist", "saving", "lawyer", "judge", "cop", "court", "police", "responsible", "m", "attitude", "worker", "construction", "mindset", "law", "speaker", "expertise", "executive", "aspiration", "legal", "officer", "plant", "ethic", "attorney", "grad", "section", "check", "protect", "august", "regret", "device", "enforcement", "social", "volunteer", "paper", "employee", "work", "school", "hour", "home", "time", "day", "graduate", "college", "life", "job", "want", "business", "career", "good", "know", "like", "go", "need", "year", "study", "high", "student", "electrician", "mechanical", "auto", "beauty", "chemical", "electrical", "mechanic", "orthodontist", "aerospace", "civil", "ias", "biomedical", "automotive", "industrial", "buisness", "combination", "entrepreneur", "engineers", "own", "manufacturing", "fighter", "operation", "radio", "opening", "engineering", "corps", "roommate", "backup", "administrative", "florida", "entrepreneurship", "engineer", "business", "football", "degree", "major", "job", "want", "field", "know", "career", "interested", "need", "good", "like", "college", "type", "start", "school", "management", "high", "work", "orthopedic", "cardiologist", "iam", "psych", "cardiology", "robotic", "hr", "boy", "counselling", "plastic", "robot", "aeronautical", "app", "foot", "surgeon", "bank", "mobile", "ba", "discuss", "percentage", "surgery", "heart", "promotion", "intreste", "refer", "aeronautic", "door", "e", "cs", "bs", "web", "gpa", "counselor", "researcher", "manager", "psychology", "technology", "engineer", "computer", "science", "engineering", "want", "job", "college", "career", "doctor", "math", "class", "good", "school", "need", "know", "degree", "major", "pharmacist", "pharmacy", "pharmaceutical", "chemist", "stream", "prior", "learner", "biological", "letter", "resume", "neurologist", "retail", "select", "evaluate", "computerscience", "email", "car", "childhood", "sale", "review", "internship", "early", "usa", "cv", "summer", "freshmen", "intern", "morning", "biochemistry", "applicant", "cover", "chemistry", "programmer", "experience", "programming", "job", "application", "computer", "research", "apply", "find", "college", "study", "look", "work", "high", "career", "good", "science", "school", "year", "want", "know", "major", "pilot", "airline", "flight", "behalf", "attendant", "ivy", "aviation", "political", "economics", "administrator", "league", "fly", "environmental", "massachusetts", "arizona", "persue", "cognitive", "ed", "curiosity", "commercial", "plane", "news", "june", "supply", "tenth", "politic", "economic", "adjust", "newspaper", "secondary", "journalist", "special", "careervillage", "journalism", "science", "boston", "education", "major", "industry", "post", "college", "environment", "school", "career", "degree", "job", "teacher", "university", "want", "study", "good", "high", "business", "student", "geography", "musician", "japanese", "piano", "instrument", "fitness", "restaurant", "trainer", "statement", "model", "kinesiology", "outside", "modeling", "insurance", "band", "enhance", "md", "music", "introvert", "stuck", "dedicate", "lie", "asset", "composition", "athletic", "performance", "september", "describe", "shadow", "incoming", "trade", "training", "strength", "research", "play", "freshman", "physical", "double", "sport", "major", "college", "career", "study", "business", "job", "want", "industry", "know", "good", "school", "time", "graduate", "work", "degree", "photographer", "fashion", "interior", "apparel", "astronomer", "merchandising", "stylist", "behavioral", "photography", "psychologist", "touch", "clothe", "graphic", "light", "mandatory", "peruse", "designer", "clinical", "mental", "astronomy", "commute", "design", "volunteering", "nonprofit", "carolina", "psychology", "discipline", "teenager", "designing", "acceptable", "psychiatrist", "neuroscience", "child", "psychiatry", "counseling", "hair", "career", "major", "want", "art", "work", "organization", "know", "college", "start", "job", "degree", "field", "good", "like", "school", "interested", "pediatrician", "anesthesiologist", "obstetrician", "med", "obgyn", "summit", "cmx", "ib", "highlight", "anesthesiology", "preme", "medschool", "total", "bio", "neonatal", "baby", "honors", "obstetric", "residency", "gyn", "cell", "ob", "series", "hospital", "biotech", "ap", "pre", "pediatric", "medical", "doctor", "care", "healthcare", "medicine", "health", "biology", "school", "credit", "nurse", "nursing", "class", "year", "community", "field", "want", "major", "high", "college", "know", "career", "good", "interested", "science", "need", "architect", "pr", "youtuber", "hotel", "foreign", "architectural", "linguistic", "payment", "singer", "brand", "spanish", "singe", "staff", "french", "architecture", "youth", "relations", "curricular", "singing", "policy", "uncertain", "user", "presentation", "nfl", "advertising", "relation", "speaking", "sing", "fair", "tool", "language", "marketing", "speak", "english", "member", "public", "club", "popular", "international", "building", "moment", "response", "activity", "major", "question", "college", "career", "business", "job", "know", "thing", "want", "good", "people", "study", "school", "learn", "look", "student", "high"], "Freq": [534.0, 315.0, 413.0, 318.0, 196.0, 287.0, 187.0, 160.0, 245.0, 371.0, 174.0, 114.0, 184.0, 276.0, 124.0, 106.0, 175.0, 283.0, 352.0, 199.0, 120.0, 90.0, 93.0, 104.0, 249.0, 96.0, 306.0, 99.0, 116.0, 84.0, 18.32135640958297, 50.92027129704236, 9.360657486837775, 9.716375583696676, 129.89071002432894, 9.199242834838634, 9.209852987438568, 11.4373445345438, 67.43921025162079, 19.685132466791647, 6.522623438838211, 8.220625831635125, 5.372182989589405, 6.849090941415682, 17.55396727821497, 14.247982823540594, 18.650784501408484, 7.072436062466944, 7.144622760381129, 4.373426351240007, 4.0766829447990975, 3.878791812806237, 4.974701548046632, 4.868200053861969, 4.256971696869785, 7.605395731098061, 3.0330814199394074, 2.839363495515891, 7.844472934105259, 4.008110392394535, 89.80262177621277, 46.157136769112086, 15.844390548343888, 23.440158866541342, 20.725892293289995, 12.13750190032779, 31.678222486379767, 22.22554895107929, 21.690504224932262, 19.24581483412575, 15.093481205779982, 22.14593466528376, 25.321323322375996, 25.97839820441817, 27.101272461485582, 17.188553045399566, 25.493568040753942, 23.570479771899898, 23.775200257572518, 21.039874191072105, 17.818742093513723, 15.702753704601337, 16.089292030338356, 17.126162131872935, 15.98421997571635, 16.040262253339215, 27.08928672777628, 29.809848812845786, 23.31349872099653, 22.954362268667925, 100.20401885264133, 12.760771210312626, 14.737834362601104, 26.287704921146023, 19.296686848071452, 62.20273661871166, 14.059186198266849, 9.808380124644298, 75.00898755454718, 13.330672660093239, 41.52104519477976, 16.87882657703637, 5.608194482489669, 9.285009430082093, 20.288341916095547, 8.896053463150649, 23.059467869082404, 7.205556385522306, 4.093320981088922, 18.359886585219748, 9.25919606183432, 2.6485672086423206, 4.70127457294345, 4.4002390816459425, 8.480831619566851, 27.22645202248254, 32.88213620968753, 10.94107837916737, 7.994305501045415, 20.889025776270135, 26.102734218186363, 21.698623821904746, 37.739129908498484, 15.486638430253244, 31.79784188470879, 15.660737092620353, 27.319616136569234, 18.119901909887254, 22.977753269976656, 22.820930168299434, 21.740995183008984, 21.37844518617491, 19.315480416606928, 17.69256691617684, 17.630941585544097, 17.476744084958554, 277.26804294681705, 16.45755481186985, 31.150819736425966, 15.447256071133827, 105.6221336373918, 48.44606338165557, 78.61772264030121, 11.062456718695383, 47.56692833369256, 12.751218519203075, 10.878487278386443, 70.18144492380694, 10.418450335973638, 11.237365374577372, 15.182084096835274, 9.64219758184839, 16.62729721666014, 8.525518914268744, 124.05042706584965, 9.080532877979186, 7.144241936577982, 8.258063740137173, 14.349960051599007, 10.819965347756018, 7.761040597131842, 7.769499893430739, 5.0837367407485745, 7.783280109197124, 20.723277518679982, 6.314445691314844, 97.94534475080077, 32.95404350017545, 17.408940450104417, 21.043567082639296, 132.21224288528393, 38.011283665944276, 20.256164293487206, 95.24274975074744, 34.76389263519666, 82.5782019882165, 35.51791160571499, 84.15059506719892, 144.81330623554018, 23.651264441460867, 22.949002910598146, 25.785499806521717, 51.82216796169947, 65.78115745665892, 69.96750173429226, 47.73670019912585, 46.791704247018956, 31.029641564929843, 42.10415259672213, 44.516193641824245, 54.56978209767181, 42.745428959858586, 40.71156436881919, 41.79400404076668, 42.68404607345173, 37.97759378396372, 36.78218236629986, 37.094134568288275, 36.114132825479864, 23.45643882788162, 57.841897842809836, 35.58802410432597, 10.937197960960285, 31.52023969937599, 7.725024655403088, 36.63215097727345, 23.0873795937344, 7.0905034512520935, 5.981276489840958, 11.336705009968302, 5.46603232374997, 6.808029421474326, 4.871256577570094, 11.329371552152217, 6.389564854307719, 7.209840415422955, 3.731296082162472, 6.318795327713373, 6.525461757148345, 7.703362971492089, 12.736061026764581, 6.439948802119577, 15.101361744022851, 6.358160896946024, 3.548726905001172, 5.098544009794491, 6.462616388605669, 28.58772122111349, 4.16920025164733, 4.480253953285392, 11.133705309441371, 26.715573872277112, 13.166706111017366, 31.885174732965325, 31.389082844893213, 28.599717144376047, 14.10004137619123, 21.74611338054067, 22.997702309055654, 16.38991973239078, 19.43616084731326, 16.2730306428375, 11.364540688461219, 16.145980867166653, 15.853904213178666, 14.533992027523233, 13.83439641752752, 11.972971562097994, 12.254390999335598, 11.305596937778962, 22.11897533420372, 10.990863547984336, 12.010007907333728, 7.923800044449366, 9.48354682307686, 13.751714501562086, 8.229369887195036, 5.765133403091832, 6.0549470359587705, 7.0701518936023104, 9.681628227306733, 4.827713189020498, 13.119136068152878, 6.050360035188905, 4.540492247826629, 15.43100362357516, 9.524869362788472, 12.82549853702075, 17.028966623555355, 4.788340633770405, 6.55095647621951, 8.628817510517921, 4.471287116598009, 4.498083455059893, 5.007535239441464, 5.101183310591252, 3.631537434328073, 11.534032004256186, 7.055893736599713, 33.59549073335079, 15.48956006066867, 104.90557253620345, 13.243476253816679, 13.58072683013756, 29.14378312591515, 10.198394175490971, 13.506818495716857, 18.171995942584598, 10.139231569060938, 9.708063679380023, 20.768942780640725, 78.79762920317668, 13.846286501764828, 19.392704783922643, 16.59177717227357, 37.35640728569792, 27.031929888209856, 61.59020201428131, 33.5569690314036, 49.28979467011708, 44.495694828668135, 36.532639928844794, 41.27521537668916, 41.017490383838314, 26.553322060167208, 30.012574728507275, 28.782091706108552, 29.075020043076208, 25.921458810738052, 31.571210995326553, 30.914777522395188, 23.639523561723674, 27.05946147653398, 27.70479941508809, 22.98746025823824, 20.160698571999937, 24.805975455590318, 22.596830841409734, 22.9229044218615, 22.50094587363223, 21.793222807866954, 33.94248716482421, 79.48500802897148, 54.9561296943999, 11.515932432066156, 71.63196134591595, 45.45943744085327, 6.916075843255553, 12.727868834720976, 13.750814385812513, 92.58965810753467, 73.02832976505788, 15.371319466607932, 10.53609064479343, 69.55125255918038, 83.78257078120687, 65.29339663476463, 7.775076488761744, 4.606724671019221, 6.530504327247603, 13.444756927493113, 28.990713390378964, 6.250093772099391, 4.245773483606574, 11.901901918515643, 11.203175683389029, 7.670282941198124, 12.470439435581623, 2.965737208404085, 2.875571802883524, 3.7800312950590906, 7.799054389752151, 23.72609410602466, 10.373060998468512, 23.26768163084696, 29.439990734178338, 30.04824380967695, 28.26592991327124, 23.026523184092515, 25.42647556494718, 24.522723252422754, 20.98907749486258, 18.926588042307955, 22.208266854248087, 19.68880693275914, 17.871216994619623, 19.300489638969903, 17.676410827262544, 18.07094722769577, 17.335048225166084, 15.215288861686288, 14.856314067896188, 31.999536051915417, 58.10482130849376, 19.076687542469315, 13.664177254658348, 10.979149998203505, 29.952077656432827, 37.801869613431585, 8.841460177229601, 6.69094657763648, 8.775987475939425, 10.024073529400566, 29.93767786136019, 3.9027175820969493, 15.437666863766816, 26.620418241499504, 5.519297978293153, 191.89614129791337, 5.411640263740511, 5.4268558430722775, 9.280325863570102, 166.302564919457, 12.639654580967424, 10.738591185937773, 11.623190893437446, 6.600586551302172, 3.456453410523805, 13.28593330583659, 15.78409128972211, 24.18387143427168, 55.69048832851287, 15.01140843421804, 27.620726338773927, 25.2444224652212, 9.26958375641962, 10.489953266290765, 32.0654986611789, 32.71310101241167, 17.720566282865384, 21.77596849644047, 40.59032781591577, 35.92700229760334, 18.973432438408963, 30.846198200492374, 29.729753918802217, 29.028252942148715, 24.721331975076424, 23.835319407975156, 23.92581765834479, 24.29170717788248, 21.188715808834125, 19.1772918944598, 19.641448205086746, 18.576869430728088, 24.696183096877206, 22.339892432762632, 53.66529659571483, 11.14618422732943, 14.493106869099732, 11.69237404209063, 19.28360354849507, 40.86916582972413, 143.2518278642033, 20.993232400177735, 7.078271990126329, 8.40697744101604, 18.0949036567429, 16.716105620459818, 38.85533307235959, 11.317278137696828, 9.94410391724355, 6.5747730646713265, 9.229765468950609, 26.619208918108274, 8.185723423751456, 17.854515942596745, 263.3301327650727, 12.076907332207167, 10.117887527184244, 9.252139081957193, 7.865689910643099, 4.529256539179696, 7.554183079999463, 8.118443546478929, 48.74131604160375, 84.05413397455037, 21.08404380054286, 21.48482466177477, 94.92738623895468, 19.510915528118094, 35.995843144339986, 70.21451137991224, 72.55544731924283, 18.222248096872455, 25.717684120382643, 21.50154990567743, 30.786075872247682, 47.00397100767908, 40.842858112569886, 36.082531826769944, 35.88997389059606, 29.628005073893664, 30.37446478501608, 30.480003685617394, 28.27166658707656, 25.54437595111341, 27.257183335735807, 24.004791915358762, 22.18801703967829, 22.825237002155802, 22.09219007504661, 47.25619822463094, 31.445998563944734, 11.882259042372224, 11.144737747695036, 16.855805774641755, 19.86015157922435, 26.730549016711628, 8.889687231927093, 22.62994492148059, 13.082892950166354, 9.17690917364457, 34.59129267943049, 16.23934223524678, 35.4944466898604, 6.103782408995297, 7.770636931271041, 22.937353768830928, 6.992737743372041, 20.524623820550254, 47.63782846312077, 14.709869210645339, 6.665474261614325, 9.669372683809783, 9.008235400606996, 44.53416050302824, 6.017960915047653, 47.79706393729388, 7.917558776711979, 42.48605046583146, 5.676237103851588, 12.425702102108518, 96.67206471353512, 33.1736358615302, 24.57682571328357, 39.284320858268686, 12.299678239050806, 34.875305387272334, 28.27045878663642, 31.2243156927696, 21.23663615524829, 21.799706076242305, 15.507509554572497, 33.99564385051457, 24.81119530397723, 29.733457972751587, 22.50365246571235, 25.870551078816366, 25.90346797270228, 23.170869414311177, 23.902648213165115, 21.70939687977257, 21.736630058002884, 9.233236060518918, 8.800473853752054, 8.778810231142872, 7.375214421850604, 8.304990346567747, 6.291212484654996, 17.292618645912302, 6.036691455962637, 11.266383805345294, 5.521120779568154, 5.03334192562927, 6.194304215826639, 13.463776974969772, 4.910204099663732, 55.66361944309812, 3.9932255608975122, 5.152071462406711, 26.548965513260697, 3.463516199451783, 4.327468100719998, 3.770320042380048, 4.4538413345447685, 4.60834900669719, 2.562771715046326, 7.185152470705863, 8.51950729380685, 3.681686840185323, 7.059660474331138, 3.5437201053220058, 2.472354493088389, 7.076023535128387, 12.461200957770851, 18.560336258352706, 9.26178037673031, 12.54545398419643, 38.759036393600454, 12.474306540361281, 11.328289028386518, 5.987309578723141, 10.610672727592494, 12.907533800880852, 26.466216423377773, 17.08221256365335, 9.490498541672155, 17.27164340795402, 17.6762717018777, 16.75535386880959, 13.050205986397978, 13.180391610026021, 12.673937038153541, 12.278313446045, 10.647467149925367, 10.956527685894315, 10.942333299489636, 10.45162854804219, 10.568586676683612, 9.950676849501187, 9.79547291043087, 9.561467320788749, 23.849364343256152, 24.394507119730644, 16.560116950326233, 19.12232085047695, 10.615820864894124, 7.9591955321441725, 17.53455792119071, 9.413845848280364, 15.135208979802174, 12.834441069076307, 5.544758652967322, 5.978369748783623, 6.597638683113231, 9.003564239221426, 4.329160542061801, 12.005469061957157, 38.882407581943, 40.1025510380101, 6.522964017771466, 21.12020810355372, 4.964356600769999, 3.730416090913335, 4.172464097938714, 28.96682770031467, 9.781923240635358, 29.99986738842317, 3.513008528662989, 11.620439702287994, 5.622982191611983, 21.53772085305367, 41.590310400883354, 59.601337164839286, 40.40362291507255, 16.831964627233546, 107.11474000421178, 126.91053646446366, 28.635949269413416, 74.15627698854118, 30.847290550288232, 26.003525460731723, 35.02997769293496, 38.08992874352254, 48.68774641804279, 29.543927259613717, 27.880848578195515, 50.76949459251718, 46.694452292993944, 29.270661028861625, 43.74923985023013, 37.39855845029941, 32.842870289110834, 26.72008727928531, 27.862712989462796, 25.226253519527262, 25.185578354546532, 25.192928952153427, 12.08796135855693, 57.59142574330077, 29.255848437205785, 16.50947301890271, 27.659618994559274, 42.775337017450376, 18.46912018747154, 7.606220094681757, 5.758642932557982, 6.084432841067021, 9.929659260775297, 6.202047692118606, 6.349992605191753, 5.909315917831221, 7.420758239453261, 7.073382270361774, 6.164506411492003, 7.245354122256667, 4.761131229076144, 20.96054672728827, 3.9640530562008434, 9.064265432937722, 15.067544075456093, 5.392057419388251, 4.454605490991942, 4.051772963011393, 5.596996541878783, 3.2385110588896113, 4.06093585658353, 3.330276830904917, 6.679375412912768, 23.4211964589222, 50.37268276465809, 10.417443329675008, 17.9379335932124, 21.982617570829937, 21.52796194729106, 9.570932910400876, 19.971240874603378, 23.957155556966754, 20.86852567175226, 19.001717331353568, 17.724797814458505, 17.60385508310415, 16.65675538470284, 14.925722180895482, 15.253470525058077, 14.652754867830929, 13.036695520516663, 13.377185324808076, 11.320436309615276, 11.614025338945712, 10.937063200684513, 10.611186214533877, 14.244114725173954, 9.013656776353626, 141.55456301588976, 13.923986877022003, 10.42346659082722, 7.162785786497363, 63.85170799965807, 4.571187358522816, 13.181706350996416, 4.977768177758703, 32.76992475696721, 25.673383000793386, 4.274751714133229, 136.1127054031265, 3.9578123768846476, 7.798942022491121, 4.874543285921287, 4.0450187704247025, 11.213421764964426, 44.75736929245334, 4.15752760144946, 4.714497031932854, 14.826059132583529, 24.827885102116575, 3.8027524712173335, 6.229655908342207, 4.07363453730351, 3.7891404884597053, 7.9668259002034745, 3.5263678646781753, 20.830120281336228, 42.615550160288095, 22.691111343884028, 8.305662235511841, 11.11154957472238, 41.439221603838156, 47.63424602039119, 14.677063450577501, 12.627694216441087, 28.05534388610835, 20.88617731821115, 24.3551658971231, 38.208449866411584, 21.445143092627678, 28.311221792114036, 27.328289712115133, 20.393436024234074, 23.346301647796178, 20.600848263741078, 20.25711919397964, 18.422046766224717, 16.97532075523847, 17.49088879464758, 16.73470378952162, 16.87858642491925, 16.568215472765914, 16.04614634497795, 14.936372664448069, 152.08941444391255, 17.502159918832685, 11.237102760753972, 53.39182646331065, 54.7031071894954, 26.230388122175725, 21.601391819023736, 54.36719635868666, 63.53294863844815, 13.200814135965597, 75.73390625781744, 17.983471604719295, 24.86112710264527, 13.002764044452675, 6.116548731939582, 26.710527183290473, 5.152209126863451, 7.980264414314889, 5.9987703460201365, 5.88474297438076, 7.565079070632056, 9.978607461676592, 5.428846430018537, 314.7595607033208, 7.579954439108569, 9.481640773422335, 6.812165096912452, 5.515368479560848, 8.599853490621962, 32.757580008044535, 191.69408668552907, 129.75949024398966, 15.298471345722886, 43.136687303957935, 49.4035772653218, 47.54265868544118, 45.437903402507764, 35.036199996571234, 41.198971034786304, 46.10557471109412, 31.902461859696334, 34.73324500014807, 39.17814613906723, 33.662772465794305, 45.15784459725013, 24.627144602645767, 26.567097630486558, 31.30781183463964, 23.930217690991352, 25.290660941568046, 25.41979509041106, 13.485531619383682, 9.134209073028046, 9.594612083864144, 7.7477775505376885, 6.201728056815362, 26.33367620765213, 9.198582657941262, 5.711187266501254, 7.310414169147763, 6.001273354780476, 8.203972092824841, 11.985816287919471, 16.129971832275768, 8.32601535073176, 53.32198899484246, 13.620411382068504, 7.9325153863617155, 8.96865143397138, 3.86071651569197, 4.600316534463675, 21.271770685997904, 8.030083261129702, 2.972628529322778, 6.087743380086264, 2.7866937660856226, 4.253680111188154, 5.566088069060773, 6.2794111390407705, 7.279520533619881, 6.077290012077192, 12.720071258052444, 27.650604855746575, 16.693298018573515, 6.277019148224501, 11.346743259770676, 19.004133568014154, 14.283538527099088, 17.71291707368525, 17.547963373864484, 16.013243798847782, 16.506977172267728, 16.4844468835506, 15.811088187699438, 16.56961536388272, 15.435305638259178, 12.417331803976575, 10.982717953325642, 11.775306184007814, 12.328062501672282, 12.400478357675928, 11.630526664280165, 11.816912750935508, 11.089087683253908, 11.090049512407381, 53.826781767515484, 53.85841620613947, 26.22378044081094, 9.403600862159056, 32.91563505375313, 6.313657021394467, 6.044780115306392, 6.284359690593957, 19.179225320710565, 80.34128792893955, 8.227668801368388, 7.885053707661154, 29.884315020776558, 3.689353913299287, 7.5474792388089, 8.813191548544738, 20.94808409292434, 9.999214019275568, 12.802406846585935, 4.10675104449446, 136.14605652415057, 16.024282151938273, 5.43522425507623, 2.6402704302702333, 45.596771278208514, 3.188907220485952, 23.9129474885431, 4.226714668325005, 14.897568840764116, 8.023488935691393, 11.08528838553846, 29.759999038478384, 14.660044071660206, 42.96158956400182, 23.03340383612598, 65.82238968070078, 20.097435137553, 34.74884361037856, 19.811211253709416, 22.757850787718002, 24.07952377649806, 37.10438181701857, 27.096234075052728, 23.406408409898106, 27.690351616401927, 24.59074623102021, 28.17183496720343, 25.330784573970007, 23.198446201896424, 24.061548073851505, 20.451306488680483, 21.488031363859456, 20.35061723831449, 20.19915033370147, 49.231723524127126, 27.62259406266986, 20.33114779434594, 7.098430097272686, 10.365664229320021, 21.406046698789776, 28.36142880593786, 36.810465186109425, 16.70296603884005, 10.101516513110806, 18.924223692324894, 6.688144476868476, 46.96762971201532, 3.9558340297101284, 4.418825546479275, 5.672149535788091, 5.780136152088936, 5.886076242766934, 5.443178286884191, 10.041220736224503, 7.5116823622260585, 8.02777285419059, 3.3881480104609096, 4.984251519684947, 4.025413699645499, 11.840987192469772, 23.1376564304659, 5.1933106528905775, 3.843723544783281, 9.72441177740549, 11.722136506221457, 14.90734923719206, 13.752501243265618, 16.35058501818076, 36.05409095096375, 7.248011372022411, 22.86141949621047, 32.70343920183393, 15.7091633851376, 10.10791520754438, 28.428432079986937, 9.627337658364027, 23.47295707532147, 23.540788016155943, 19.94886510982289, 22.068965026912508, 15.258481210559719, 14.868877825898393, 16.51377373865142, 15.40596941915307, 14.967409166780094, 14.42457673582248, 14.151629085220247, 13.977265605294525, 8.186192478843695, 18.105597514956568, 8.05356142812045, 6.615824872897333, 5.90013401957418, 10.430976216172247, 14.987968086397537, 15.28818674637161, 7.681966646773693, 17.91978471651455, 10.73206064600323, 4.815052429523045, 7.360243633133449, 5.260343301977691, 7.604425461403003, 3.9403876433220364, 6.858180269163669, 101.10678347760867, 6.277352391906741, 4.821201841184657, 3.96852002774868, 3.547403944290031, 3.782118554717516, 3.451527025102353, 25.99776770249699, 9.237337847046069, 3.270801480556819, 6.5995660084659, 10.23812964906224, 8.886962253361768, 6.262854415319868, 17.896286646499927, 7.991785569449203, 21.4125918440485, 14.074470342733354, 15.593477741609039, 16.13872394515357, 11.907220453742806, 18.239282163573474, 21.170884552336066, 21.92890763857794, 17.573862212534934, 14.633089511186286, 14.505819385678699, 15.540956326831978, 15.017952093306286, 10.66979663009063, 13.112157853204907, 12.99510772509294, 12.886771056998464, 11.417915700477884, 10.50943355235762, 10.58433682991006, 10.425324744462237, 28.61557016408108, 93.8299012503471, 44.45418166591265, 7.923306775207369, 8.207823294318823, 8.313851201891659, 7.817194080750919, 7.870606762044059, 48.7717069917234, 54.006727225874656, 6.005549683203894, 6.064360462753743, 66.58434657782888, 4.4932449963304695, 4.912799522589055, 6.7193788586474374, 49.61483387313972, 37.08877411257191, 18.89892608357496, 20.135077598982708, 5.6865241386160585, 93.44940827052287, 6.473392249294709, 12.894800208939131, 4.4100694454287925, 129.84080644614698, 5.192139458725312, 4.693338604351594, 8.950469316349688, 2.8327269170961866, 14.901042725911285, 14.742376676684803, 28.953645259033156, 9.454403596410998, 21.14628569293557, 8.34583189777561, 31.585072646554124, 30.338317423774136, 28.175738587260366, 18.505970195705384, 22.46173967912463, 10.726640715022853, 21.860968847981635, 25.29922058150809, 17.341820312938626, 20.932662466211752, 18.43994336489883, 17.436602882668634, 18.65778913119575, 16.761949830529193, 18.091644957782076, 16.01661507128825, 105.52382558547268, 33.02330558936659, 13.528190566556434, 90.7748956380131, 16.085029043145695, 5.865046858602606, 5.437087584892709, 11.686452791226143, 8.699989452008055, 9.561461580465194, 18.235413897453736, 11.547982856838633, 6.1551152015666695, 25.634167900597447, 30.97997885511322, 20.538221633787373, 4.925115229484388, 8.008830377978002, 19.00968391696925, 10.072605995336794, 7.842973918047984, 10.856867468113283, 6.738754339463785, 82.93193836198596, 4.367817636904625, 33.191903128812235, 67.04995306775164, 67.71109062960642, 218.51031053410927, 185.2550928370166, 67.51325028587723, 78.1004989875494, 136.17992575203564, 80.36538371889709, 61.53365015708478, 101.57416368516895, 19.898161191324682, 60.293331438665035, 56.64008611885775, 58.65966746304459, 49.90883802420971, 28.047640915002514, 46.41859575117616, 57.955737718273525, 58.86469715977606, 46.077833732485146, 61.34348178496218, 42.77933527621359, 45.6034834388526, 38.52239510314608, 32.1770893400957, 32.460197851261555, 32.35029117197335, 55.97394129990578, 10.927717290933925, 11.79727939178948, 11.205147191562473, 32.81815404028525, 17.344668110804236, 13.318990375732074, 8.859252383848961, 29.42032024226607, 10.782130644669413, 23.555836013160704, 12.55432643867906, 13.073532088517622, 14.586360279357013, 56.865909980397674, 17.380187570930797, 9.421245943461328, 8.669235179662895, 8.641870398843803, 14.153243837613722, 6.06376829178153, 5.862587814755346, 5.758078108447045, 10.137079407055015, 25.28742921480761, 25.94400241402879, 5.511867794852413, 3.794147308266754, 10.594766273320893, 10.781138028409007, 64.42507028486321, 67.53265215687236, 19.390287227518172, 42.293202322722635, 13.715435649200055, 33.5369838971134, 21.938531300824078, 13.410851788905068, 26.653396072228023, 11.605022212856477, 13.873364117109443, 11.442418590682246, 16.424068746553484, 42.01111190818706, 27.873818252409688, 44.27498362318471, 36.00889314472965, 29.9575237719885, 30.393076369273555, 26.94599631163287, 21.992886069301992, 26.29638606659236, 25.176960882865306, 19.85864398656553, 21.197397346864356, 22.3806056895074, 19.119922763575055, 19.826587459076062, 19.528234535070588, 19.243087213821557], "Total": [534.0, 315.0, 413.0, 318.0, 196.0, 287.0, 187.0, 160.0, 245.0, 371.0, 174.0, 114.0, 184.0, 276.0, 124.0, 106.0, 175.0, 283.0, 352.0, 199.0, 120.0, 90.0, 93.0, 104.0, 249.0, 96.0, 306.0, 99.0, 116.0, 84.0, 20.634854512787694, 58.043925696587344, 11.309005168986053, 11.788873291293068, 160.29625932330273, 11.431846018319781, 11.859233995266086, 15.139792150964693, 89.31326682183828, 26.860112133683863, 9.079567264415404, 11.711523433913834, 7.67420365479844, 9.813479120439704, 25.27806190988874, 21.75798970253302, 30.858640212340557, 12.090430679744484, 13.169664111851429, 8.068547118229029, 7.850159806847174, 8.641241428337619, 11.188166401016032, 10.965718746301313, 10.048546498673286, 18.24037676523244, 7.289897221236386, 7.141655001814964, 20.221049597081766, 10.51534105409485, 249.02058479257443, 137.57454205991456, 50.80577450460086, 87.62291755105383, 79.38314775338581, 40.15401074976673, 175.7990418959597, 117.82766169722598, 128.21556945427076, 114.17422350175369, 79.73908586100886, 283.2290768501101, 413.7238361707645, 521.3554160128871, 600.1227924796283, 174.59678020350117, 631.7502075420609, 675.514595151244, 886.1633277788173, 500.0617344294492, 365.19517493451804, 219.4704226478856, 318.55965050139275, 632.1977085231958, 366.33148336837536, 415.6362141733802, 30.54658008563778, 33.65559797345294, 26.44748546520369, 26.109031248358605, 114.77227614140648, 14.98298976707131, 17.777619678418652, 31.734255891253895, 23.94977041219956, 77.99602736482301, 17.746086530792763, 12.479698093148496, 96.68736991351103, 19.004130267959688, 61.204397261864266, 26.014447930749, 8.724789420359205, 15.025891330775174, 33.39078458005698, 15.116879439528928, 39.942696202549286, 13.049307997445277, 7.454597701151582, 34.62393362517344, 17.49118350999396, 5.188761792226905, 9.260162314469229, 8.814300961179246, 17.218626994841088, 55.39183220779159, 68.20245599177038, 23.235917950697008, 16.66102003171286, 66.59731017329334, 106.58604227631221, 89.30049056715457, 245.7251846368532, 54.89353885866748, 378.2823663041663, 65.69014497540928, 675.514595151244, 200.48869447479757, 631.7502075420609, 639.201545232288, 600.1227924796283, 886.1633277788173, 398.1653948948391, 199.24872301546915, 295.64486888081404, 500.0617344294492, 318.4157833920104, 18.908531351109662, 35.90396079139632, 17.954001544514817, 123.34573135147922, 56.69422503027687, 92.16794026932565, 13.077692025732976, 56.3131403783021, 15.591819491889828, 13.413204756751817, 86.74562862606886, 13.042307680703916, 14.14239828570912, 19.358857817794632, 12.318363562575783, 21.527558869429676, 11.335681182147813, 166.11553767622416, 12.170810349956723, 9.631177650997635, 11.501041762995019, 20.231424493130618, 15.457029297621407, 11.091434621883804, 11.228696643843985, 7.422410670378986, 11.389834885149872, 30.768370505810957, 9.492997520140673, 156.29082736795377, 51.72114105384302, 26.88348754247005, 33.602927033165, 270.00358652830437, 68.17020009981195, 32.87271555730771, 213.4233661356088, 63.63613827581048, 232.31933123758682, 78.46903252797591, 366.33148336837536, 886.1633277788173, 48.424581660167675, 47.2745348697283, 61.169671410124664, 250.65470968864057, 521.3554160128871, 632.1977085231958, 269.9530545274023, 271.2773119450041, 101.79626525679069, 237.90128047339718, 305.23532978364244, 631.7502075420609, 355.39691470700694, 316.074206169701, 409.5818090582847, 461.98544711092865, 365.19517493451804, 382.0649923395243, 600.1227924796283, 500.0617344294492, 27.12050413151399, 67.78057877699423, 41.78470769100906, 12.97826444755247, 38.25546193153839, 10.00614102036365, 47.78159952351125, 30.229084045462727, 10.947638990687757, 10.747087312688267, 20.991711942090653, 10.131552893219677, 13.072762144746257, 9.553618559788532, 22.26174933701875, 12.756481764659059, 14.610397047750409, 7.699911716505384, 13.442984461287498, 14.081167109583996, 18.137697737011607, 30.601405137476313, 15.732585004648977, 37.41673203466009, 16.177822775931794, 9.041572423707528, 13.1317139303393, 17.316488692431474, 77.25838483882727, 11.321950919187488, 12.258060110258375, 37.413856607326686, 119.75149152464722, 49.33489148621602, 172.6140480466384, 398.1653948948391, 631.7502075420609, 117.55923721763509, 461.98544711092865, 886.1633277788173, 341.20847710147115, 675.514595151244, 409.5818090582847, 130.74901301366577, 632.1977085231958, 639.201545232288, 600.1227924796283, 500.0617344294492, 365.19517493451804, 521.3554160128871, 271.2773119450041, 27.24840147025084, 14.238077607663556, 15.592798343588994, 10.448041871367055, 12.63828044270225, 19.23322371038948, 11.626993818783811, 8.219186846383156, 8.667776085538618, 10.176305886300497, 14.148278578628773, 7.3819607658185395, 20.1700381198705, 9.428628797804608, 7.111365133112268, 24.288420490540524, 15.087687123870497, 20.644231267444983, 27.963366748144768, 7.890130705968863, 10.849150841173161, 14.303418913026485, 7.5198102887285, 7.655344416888944, 8.607643408859788, 8.85256960036118, 6.742841996771594, 21.603283814629297, 13.23952552465972, 63.37580882555635, 29.72609900032819, 219.4704226478856, 25.686744468204015, 27.026358219510566, 71.36356608257323, 20.173051637586926, 29.69907787554123, 44.04305134075625, 20.634448265729723, 19.46508101086579, 68.71796961115959, 675.514595151244, 36.64172334576874, 69.31974904000319, 53.05908570078496, 263.6077221214815, 153.3774057726498, 886.1633277788173, 250.8063428868649, 639.201545232288, 631.7502075420609, 415.6362141733802, 600.1227924796283, 632.1977085231958, 213.54866022723232, 305.23532978364244, 269.9530545274023, 316.074206169701, 224.91036509772803, 500.0617344294492, 521.3554160128871, 197.5258807045777, 382.0649923395243, 461.98544711092865, 208.6970548219756, 114.57376654159754, 398.1653948948391, 249.02058479257443, 357.72777499213817, 355.39691470700694, 283.2290768501101, 38.23237643198857, 90.12608534923417, 62.79639216829713, 13.350968628395336, 84.09181769239075, 54.678166006816234, 9.042291957880018, 17.031653928196913, 18.4770271555581, 124.87796369070291, 100.01150793709674, 21.621627551594976, 14.956772680336963, 100.02260132569249, 120.59494993287983, 99.22564166759493, 11.82762561613748, 7.725716398469503, 11.12969983212218, 25.752167295170146, 62.126440648232986, 13.587718249687398, 9.460015192025658, 26.53043848541773, 27.690964287307683, 19.557181758372536, 33.671436052492936, 8.77270381650405, 8.517561989803621, 11.48589232134156, 24.18915428713866, 77.73740089442235, 41.2764456494375, 168.98773295215375, 273.38483862935897, 675.514595151244, 639.201545232288, 398.1653948948391, 632.1977085231958, 600.1227924796283, 500.0617344294492, 409.5818090582847, 886.1633277788173, 521.3554160128871, 355.39691470700694, 631.7502075420609, 365.19517493451804, 461.98544711092865, 341.20847710147115, 357.72777499213817, 16.91554952788853, 37.35253520657499, 73.28411858774061, 24.906277505715774, 18.00807432231799, 14.551053321534813, 40.33391587306214, 52.27959676188554, 12.243480328561082, 9.319308891928877, 12.733964383714932, 15.031355861730423, 45.03089708971648, 6.109191462303165, 24.76673899818016, 43.44560088644448, 9.03749862697103, 315.51804148436867, 9.107939474979156, 9.291029930360352, 15.95815378762719, 287.7188761788508, 22.41506372134188, 19.170498722052976, 21.12599014655506, 12.468092663059222, 6.6560187429063, 26.176286170982443, 32.0110474068393, 51.432085322289716, 128.21556945427076, 32.45184783692191, 67.62117135153557, 62.36341692510885, 20.062600515056157, 25.271873087667828, 249.02058479257443, 283.2290768501101, 85.7119100236678, 143.1506363471582, 886.1633277788173, 632.1977085231958, 108.38079318161678, 521.3554160128871, 631.7502075420609, 600.1227924796283, 461.98544711092865, 415.6362141733802, 500.0617344294492, 675.514595151244, 382.0649923395243, 217.40642177002186, 357.72777499213817, 365.19517493451804, 28.080515611833597, 26.538051973778888, 64.95534153574025, 13.808691280047888, 18.051966845259198, 14.959108594158888, 24.71325691844173, 52.5054817031285, 184.51326519577276, 27.81289752505215, 9.562332304624006, 11.468780537722715, 25.307419489377867, 23.61017790260603, 56.02748858212479, 16.535687252923474, 14.64208976544484, 9.694013750454387, 13.744914653174634, 40.269578944550844, 12.41044756188636, 27.94964565908801, 413.7238361707645, 19.4540101913855, 17.03549359451692, 15.70271342914679, 13.479966444627019, 7.818058857275577, 13.057138952895034, 14.33783584097744, 95.5667688683388, 183.81774697087158, 43.14905093749302, 46.944889339354106, 378.2823663041663, 46.3241079355883, 120.03699649688318, 371.25699932130374, 534.9223687532048, 48.945605026941664, 115.29826634789417, 79.73908586100886, 197.4494034589909, 631.7502075420609, 675.514595151244, 600.1227924796283, 639.201545232288, 341.20847710147115, 461.98544711092865, 500.0617344294492, 521.3554160128871, 398.1653948948391, 886.1633277788173, 295.64486888081404, 134.9896512225589, 357.72777499213817, 365.19517493451804, 53.18159133738354, 35.981133486075095, 14.130710938483617, 13.564128452701695, 20.760046637426168, 24.544141791897662, 33.69618101081357, 11.2205703177033, 28.622790987621006, 16.592816047756315, 11.643474513476729, 44.374477450378606, 21.458446619134648, 49.369757139918285, 9.095014549464711, 11.659504759963118, 35.485117656990674, 10.992356026164542, 32.712530261406194, 79.02880551550258, 24.569342599561907, 11.156234206031366, 16.92065800475627, 15.869598644864848, 79.10175466089122, 10.746619235036196, 85.7119100236678, 14.635716630023744, 79.507019686967, 10.810846416874638, 23.751402964062315, 199.24872301546915, 67.19573439087092, 53.73728753363816, 102.41094468473331, 23.64589439784439, 100.87559694365044, 82.23360148707617, 104.09225662401202, 60.27397178631923, 76.64209663124873, 38.07112520098958, 675.514595151244, 263.6077221214815, 600.1227924796283, 213.54866022723232, 639.201545232288, 886.1633277788173, 461.98544711092865, 631.7502075420609, 500.0617344294492, 632.1977085231958, 11.029947007803582, 10.945966565166655, 11.093970215136919, 9.697814545398913, 11.118828911188903, 8.653211747422217, 23.78793841118131, 8.315845747272252, 15.87142000593318, 8.237228139140997, 7.805766092091534, 9.8246804282644, 22.66072766630232, 8.452267848325704, 104.09225662401202, 7.655993015670036, 9.962667263174684, 53.481132164617776, 7.037048669554302, 9.246351199560856, 8.08221359233919, 9.711057084905134, 10.060248225323006, 5.618832476960947, 15.999491416208658, 19.123296914932915, 8.356372825534935, 16.88239644453496, 8.540305226802932, 6.42681574027992, 18.704460596996107, 35.11512980427952, 57.18961018623916, 25.940857994958193, 41.71442163028878, 196.07888995709033, 42.9596017016805, 62.112464690293805, 17.44231118662741, 74.21428089471877, 125.27015840050272, 886.1633277788173, 305.23532978364244, 60.27397178631923, 461.98544711092865, 632.1977085231958, 631.7502075420609, 415.6362141733802, 500.0617344294492, 600.1227924796283, 521.3554160128871, 250.8063428868649, 355.39691470700694, 639.201545232288, 357.72777499213817, 675.514595151244, 366.33148336837536, 250.65470968864057, 365.19517493451804, 26.085098807639753, 26.699921488137544, 18.393144261241346, 21.334314611390305, 12.387110192688526, 9.502110149282313, 21.663774458275242, 11.772410096164617, 19.32711590349064, 16.727692987502486, 7.308913994662057, 8.501190572832986, 9.77912818881248, 13.548041889568415, 6.759652595311949, 20.174518638961192, 65.83014927840846, 71.96978611434808, 11.751552235482054, 38.08530807282204, 9.349849789261372, 7.08512348830366, 8.262506832154088, 57.7044008131479, 19.65215726176107, 63.052383903718784, 7.385131823243248, 25.16059849730344, 13.832846621165803, 53.22064836187292, 122.23147925046058, 202.42141573816812, 140.61980088551755, 47.93323255569655, 639.201545232288, 886.1633277788173, 119.00564873567075, 675.514595151244, 153.3774057726498, 114.57376654159754, 197.5258807045777, 237.90128047339718, 415.6362141733802, 157.60150695742232, 149.38363976311018, 600.1227924796283, 500.0617344294492, 206.93586811221712, 632.1977085231958, 521.3554160128871, 631.7502075420609, 271.39945984496427, 382.0649923395243, 318.55965050139275, 355.39691470700694, 366.33148336837536, 14.211463412004113, 68.82669726134887, 35.44788957260922, 21.5256837209542, 36.18156752184623, 57.56526772570633, 24.889988907130704, 10.522880417865917, 8.208127595365255, 8.832565166593481, 14.599888275240719, 9.246017082733005, 9.541690829502011, 9.175894181740992, 11.8181194076212, 11.372087239152298, 10.209298695753533, 12.132628331261987, 8.180221509162822, 37.20489336984291, 7.13527917349951, 16.36888604324914, 27.728452659275536, 10.485235918379455, 8.79497225607054, 8.096765963857502, 11.374848197141732, 6.6591351240638605, 8.407673376754458, 6.923123024238633, 14.125079848410781, 62.112464690293805, 200.48869447479757, 30.141932315630036, 67.21979662153493, 99.22564166759493, 102.48975492400294, 31.934704514731315, 174.59678020350117, 886.1633277788173, 600.1227924796283, 675.514595151244, 639.201545232288, 631.7502075420609, 521.3554160128871, 378.2823663041663, 461.98544711092865, 398.1653948948391, 415.6362141733802, 632.1977085231958, 305.23532978364244, 500.0617344294492, 316.074206169701, 187.73942615516617, 17.02895924166692, 11.73916697524077, 187.73942615516617, 19.234931920365824, 16.262308373470955, 11.384437947194844, 106.58604227631221, 7.8464205484405385, 22.8373590410871, 8.693427358810672, 57.634735093184524, 45.504320269307925, 7.598892862775872, 245.7251846368532, 7.226100964244039, 14.740501564731073, 9.507735513374936, 7.984307039540502, 22.183894739948705, 89.30049056715457, 8.358292178965671, 9.526019518345691, 30.141932315630036, 50.964858214834294, 7.810612730648932, 13.529084161459593, 9.054830571425372, 8.512289460174948, 18.29874311968231, 8.443783994643628, 55.39183220779159, 172.6140480466384, 81.26169377669443, 23.275456620950433, 36.77297242962721, 461.98544711092865, 632.1977085231958, 76.81979489738104, 60.46267404761869, 305.23532978364244, 183.58595050728167, 271.2773119450041, 886.1633277788173, 263.6077221214815, 631.7502075420609, 600.1227924796283, 409.5818090582847, 675.514595151244, 521.3554160128871, 500.0617344294492, 357.72777499213817, 271.39945984496427, 365.19517493451804, 355.39691470700694, 415.6362141733802, 382.0649923395243, 366.33148336837536, 16.653945622873998, 174.58426551802725, 21.177918795525216, 13.957857944075984, 67.66151949798333, 71.42557178339592, 34.58757224150572, 28.861792524435863, 73.11891037088041, 85.83901339511763, 18.07280908031185, 105.42446482823999, 25.413291406824595, 35.82307851428046, 19.281485026292465, 9.12303127884803, 41.48819613649647, 8.042467207091086, 12.624594949411298, 9.588523748301945, 9.445317845321984, 12.369700829426781, 16.334550672585966, 9.173968204156251, 534.9223687532048, 12.979741289576584, 16.32701905424764, 11.859153150336542, 9.757554872690935, 15.49920691401181, 59.25629462630416, 371.25699932130374, 409.5818090582847, 33.91406333744515, 398.1653948948391, 639.201545232288, 631.7502075420609, 600.1227924796283, 341.20847710147115, 500.0617344294492, 675.514595151244, 295.64486888081404, 365.19517493451804, 521.3554160128871, 357.72777499213817, 886.1633277788173, 163.57848550299204, 272.5885159242618, 632.1977085231958, 199.72111736542223, 382.0649923395243, 461.98544711092865, 15.850130828820204, 11.290515178809619, 12.016689242356906, 9.815353222303589, 8.208732651544596, 35.174005097549596, 12.732171511285678, 8.320165940688376, 10.71274531279665, 8.895675799258388, 12.619658593126996, 18.45677934592314, 27.103935335375198, 14.461998398821107, 93.629926716078, 24.2960464115533, 15.315192259341847, 18.45724141905609, 8.450772819058418, 10.469368097222878, 48.8195802830325, 18.64514317795327, 7.190781542298334, 14.835078711413548, 6.87161811991784, 10.622820934655177, 14.041821646265035, 15.931424357798, 19.045512175080592, 15.925820437606472, 34.03892573047186, 75.9665893239758, 61.97735843843406, 18.548675356236767, 55.577700553755065, 276.0987458738942, 183.81774697087158, 371.25699932130374, 413.7238361707645, 378.2823663041663, 534.9223687532048, 600.1227924796283, 631.7502075420609, 886.1633277788173, 675.514595151244, 306.28226419593676, 174.59678020350117, 318.55965050139275, 521.3554160128871, 632.1977085231958, 365.19517493451804, 500.0617344294492, 398.1653948948391, 639.201545232288, 59.39367487077232, 61.744010513646934, 31.259178699828652, 11.261778139134169, 42.87098402806037, 8.468488315311006, 8.691807651651564, 9.125165438181371, 29.26834082874341, 129.03923239198107, 14.078955476512819, 13.545133242753161, 51.7376327634646, 6.527007368881534, 13.45705268176465, 15.824466617382658, 38.82673727008754, 18.62436475303256, 23.914085947860308, 8.414718692227808, 283.3558444596291, 33.65699785675299, 11.840448721354097, 6.29577043446325, 110.07805951577822, 7.944352175649819, 59.62332500560552, 11.033128565555325, 38.89822780743887, 21.428239498679314, 31.523418053323216, 101.32697298359754, 46.944889339354106, 232.29174192948196, 95.5667688683388, 631.7502075420609, 126.7974031691719, 413.7238361707645, 144.77820397852582, 232.31933123758682, 269.9530545274023, 886.1633277788173, 415.6362141733802, 278.28792315975784, 461.98544711092865, 382.0649923395243, 675.514595151244, 521.3554160128871, 378.2823663041663, 632.1977085231958, 355.39691470700694, 600.1227924796283, 500.0617344294492, 639.201545232288, 55.35753099112044, 32.777258407217374, 24.280147315901804, 8.819062682573009, 12.936271335961454, 28.316525197405486, 38.366154220368685, 49.79692755260072, 23.29474681136931, 14.424416050630299, 28.688836358402586, 10.20685842741928, 76.01985895410652, 6.449757126095871, 7.404635219541233, 9.579917726298149, 9.804925533905545, 10.258921864013649, 9.528748051449803, 17.893040206648674, 13.7282924238338, 14.876562564989545, 6.280951549339365, 9.344485733626392, 7.716028287959762, 23.549692681818854, 50.33394899466883, 11.357891111736473, 8.502001310014995, 22.032188906201394, 27.146370625222612, 35.49410806706846, 34.29925003697701, 79.507019686967, 378.2823663041663, 21.24473450618016, 283.2290768501101, 639.201545232288, 125.27015840050272, 47.05939232024008, 886.1633277788173, 43.01229148705978, 632.1977085231958, 675.514595151244, 398.1653948948391, 631.7502075420609, 249.02058479257443, 237.90128047339718, 600.1227924796283, 415.6362141733802, 521.3554160128871, 382.0649923395243, 409.5818090582847, 366.33148336837536, 10.487011753100186, 23.517220897393404, 11.15823713229297, 9.365945175445686, 8.529949667199789, 15.542460167158353, 22.588210598864737, 23.09239152649188, 12.679315185989621, 29.614758386411456, 18.881297565252723, 8.653392295953557, 13.588293763227082, 9.831083435604612, 14.224529185649253, 7.4939967493077395, 13.2325722362997, 196.07888995709033, 12.19641891086482, 9.368581538652787, 7.751271412502673, 6.99574435948492, 7.720817534370831, 7.071811753626999, 54.274390224340316, 19.55606992323203, 6.977749376459831, 14.241183129653429, 22.443327577308743, 19.55174101385481, 16.53581630454383, 72.68344998503139, 24.226754119658523, 144.77820397852582, 76.64209663124873, 99.37173941862527, 124.87796369070291, 70.4516544057387, 199.24872301546915, 639.201545232288, 886.1633277788173, 675.514595151244, 415.6362141733802, 409.5818090582847, 631.7502075420609, 600.1227924796283, 125.27015840050272, 500.0617344294492, 521.3554160128871, 632.1977085231958, 305.23532978364244, 271.2773119450041, 461.98544711092865, 398.1653948948391, 32.3546270144278, 106.50955618607222, 51.943924634250116, 9.441660416790013, 9.954166938392653, 10.356398957013727, 10.016932573298522, 10.114548978793646, 63.51141201580228, 71.65556544077386, 7.993132784763037, 8.171800592061118, 90.59355571340436, 6.740828378290814, 7.727098310474863, 10.70763877482482, 79.38314775338581, 60.4175741832504, 30.79073593507266, 33.177212431904955, 9.447676208054402, 175.7990418959597, 12.357344245747974, 25.283748480764146, 9.22169104260625, 276.0987458738942, 11.153239214669146, 10.475467743146668, 20.221049597081766, 6.601904630427384, 35.37884963209844, 37.62054805946608, 92.3050005990204, 27.690964287307683, 104.3543723349782, 23.476220910363296, 675.514595151244, 639.201545232288, 600.1227924796283, 219.4704226478856, 461.98544711092865, 47.85106185639976, 500.0617344294492, 886.1633277788173, 272.5885159242618, 631.7502075420609, 398.1653948948391, 341.20847710147115, 521.3554160128871, 357.72777499213817, 632.1977085231958, 295.64486888081404, 116.64131429770333, 36.86655132885015, 15.80325580070198, 107.35871927533427, 19.068462845284667, 7.125551990330589, 6.659515569819778, 14.590427467612281, 10.922574260096276, 12.120324021729411, 23.395376643029955, 14.877301564794221, 8.026371353980588, 33.66163657128327, 40.903012411645435, 27.40758454823514, 6.602958847812625, 10.805308735619787, 26.039432090703386, 14.341303535508354, 11.288830775035256, 15.929449435141624, 9.943883752905082, 129.80138257537203, 6.870043393831968, 52.51814944810868, 106.698755253223, 108.38079318161678, 352.1067620081915, 306.28226419593676, 116.59937756820986, 143.1506363471582, 273.38483862935897, 168.98773295215375, 200.48869447479757, 632.1977085231958, 50.21352034404207, 315.51804148436867, 287.7188761788508, 318.55965050139275, 355.39691470700694, 110.63611327660117, 341.20847710147115, 600.1227924796283, 639.201545232288, 382.0649923395243, 886.1633277788173, 500.0617344294492, 675.514595151244, 521.3554160128871, 295.64486888081404, 378.2823663041663, 365.19517493451804, 65.17033924406098, 13.22860410140991, 14.291988536673973, 13.64372440900987, 40.14380560390855, 21.327347239021762, 16.479077314162424, 11.285275141942698, 37.7388709107496, 13.86864774558158, 30.377287513406436, 16.307373025209618, 17.38159339944141, 19.431616306055272, 77.62536261668038, 24.037095077626855, 13.094970669713074, 12.278273857160064, 12.488803598942772, 20.679784268509465, 9.108513019857371, 8.944643113132509, 9.015175581508654, 16.022110836174075, 41.64143172441234, 43.09949723006034, 9.214970925495658, 6.422784227815356, 18.00311911383639, 18.85405949675341, 113.62413974090242, 130.74901301366577, 35.57768582637631, 102.8356705534827, 25.97584272042711, 82.98116315291786, 53.17183849275645, 26.943282885454053, 99.99112429843376, 21.106625274663223, 30.925151435305523, 21.04315763676199, 52.32727296837963, 639.201545232288, 214.76335305056284, 886.1633277788173, 675.514595151244, 409.5818090582847, 631.7502075420609, 500.0617344294492, 213.79900860742504, 600.1227924796283, 521.3554160128871, 250.8063428868649, 415.6362141733802, 632.1977085231958, 197.4494034589909, 278.28792315975784, 366.33148336837536, 382.0649923395243], "Category": ["Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Default", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic1", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic2", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic3", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic4", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic5", "Topic6", "Topic6", "Topic6", "Topic6", "Topic6", "Topic6", "Topic6", "Topic6", "Topic6", "Topic6", "Topic6", "Topic6", "Topic6", "Topic6", "Topic6", "Topic6", "Topic6", "Topic6", "Topic6", "Topic6", "Topic6", "Topic6", "Topic6", "Topic6", "Topic6", "Topic6", "Topic6", "Topic6", "Topic6", "Topic6", "Topic6", "Topic6", "Topic6", "Topic6", "Topic6", "Topic6", "Topic6", "Topic6", "Topic6", "Topic6", "Topic6", "Topic6", "Topic6", "Topic6", "Topic6", "Topic6", "Topic6", "Topic6", "Topic6", "Topic6", "Topic7", "Topic7", "Topic7", "Topic7", "Topic7", "Topic7", "Topic7", "Topic7", "Topic7", "Topic7", "Topic7", "Topic7", "Topic7", "Topic7", "Topic7", "Topic7", "Topic7", "Topic7", "Topic7", "Topic7", "Topic7", "Topic7", "Topic7", "Topic7", "Topic7", "Topic7", "Topic7", "Topic7", "Topic7", "Topic7", "Topic7", "Topic7", "Topic7", "Topic7", "Topic7", "Topic7", "Topic7", "Topic7", "Topic7", "Topic7", "Topic7", "Topic7", "Topic7", "Topic7", "Topic7", "Topic7", "Topic7", "Topic7", "Topic7", "Topic7", "Topic7", "Topic7", "Topic7", "Topic7", "Topic8", "Topic8", "Topic8", "Topic8", "Topic8", "Topic8", "Topic8", "Topic8", "Topic8", "Topic8", "Topic8", "Topic8", "Topic8", "Topic8", "Topic8", "Topic8", "Topic8", "Topic8", "Topic8", "Topic8", "Topic8", "Topic8", "Topic8", "Topic8", "Topic8", "Topic8", "Topic8", "Topic8", "Topic8", "Topic8", "Topic8", "Topic8", "Topic8", "Topic8", "Topic8", "Topic8", "Topic8", "Topic8", "Topic8", "Topic8", "Topic8", "Topic8", "Topic8", "Topic8", "Topic8", "Topic8", "Topic8", "Topic8", "Topic8", "Topic8", "Topic8", "Topic8", "Topic8", "Topic8", "Topic8", "Topic8", "Topic8", "Topic9", "Topic9", "Topic9", "Topic9", "Topic9", "Topic9", "Topic9", "Topic9", "Topic9", "Topic9", "Topic9", "Topic9", "Topic9", "Topic9", "Topic9", "Topic9", "Topic9", "Topic9", "Topic9", "Topic9", "Topic9", "Topic9", "Topic9", "Topic9", "Topic9", "Topic9", "Topic9", "Topic9", "Topic9", "Topic9", "Topic9", "Topic9", "Topic9", "Topic9", "Topic9", "Topic9", "Topic9", "Topic9", "Topic9", "Topic9", "Topic9", "Topic9", "Topic9", "Topic9", "Topic9", "Topic9", "Topic9", "Topic9", "Topic9", "Topic9", "Topic9", "Topic9", "Topic10", "Topic10", "Topic10", "Topic10", "Topic10", "Topic10", "Topic10", "Topic10", "Topic10", "Topic10", "Topic10", "Topic10", "Topic10", "Topic10", "Topic10", "Topic10", "Topic10", "Topic10", "Topic10", "Topic10", "Topic10", "Topic10", "Topic10", "Topic10", "Topic10", "Topic10", "Topic10", "Topic10", "Topic10", "Topic10", "Topic10", "Topic10", "Topic10", "Topic10", "Topic10", "Topic10", "Topic10", "Topic10", "Topic10", "Topic10", "Topic10", "Topic10", "Topic10", "Topic10", "Topic10", "Topic10", "Topic10", "Topic10", "Topic10", "Topic10", "Topic10", "Topic10", "Topic10", "Topic10", "Topic10", "Topic10", "Topic10", "Topic10", "Topic10", "Topic11", "Topic11", "Topic11", "Topic11", "Topic11", "Topic11", "Topic11", "Topic11", "Topic11", "Topic11", "Topic11", "Topic11", "Topic11", "Topic11", "Topic11", "Topic11", "Topic11", "Topic11", "Topic11", "Topic11", "Topic11", "Topic11", "Topic11", "Topic11", "Topic11", "Topic11", "Topic11", "Topic11", "Topic11", "Topic11", "Topic11", "Topic11", "Topic11", "Topic11", "Topic11", "Topic11", "Topic11", "Topic11", "Topic11", "Topic11", "Topic11", "Topic11", "Topic11", "Topic11", "Topic11", "Topic11", "Topic11", "Topic11", "Topic11", "Topic11", "Topic11", "Topic11", "Topic11", "Topic11", "Topic11", "Topic11", "Topic12", "Topic12", "Topic12", "Topic12", "Topic12", "Topic12", "Topic12", "Topic12", "Topic12", "Topic12", "Topic12", "Topic12", "Topic12", "Topic12", "Topic12", "Topic12", "Topic12", "Topic12", "Topic12", "Topic12", "Topic12", "Topic12", "Topic12", "Topic12", "Topic12", "Topic12", "Topic12", "Topic12", "Topic12", "Topic12", "Topic12", "Topic12", "Topic12", "Topic12", "Topic12", "Topic12", "Topic12", "Topic12", "Topic12", "Topic12", "Topic12", "Topic12", "Topic12", "Topic12", "Topic12", "Topic12", "Topic12", "Topic12", "Topic12", "Topic12", "Topic12", "Topic12", "Topic12", "Topic12", "Topic13", "Topic13", "Topic13", "Topic13", "Topic13", "Topic13", "Topic13", "Topic13", "Topic13", "Topic13", "Topic13", "Topic13", "Topic13", "Topic13", "Topic13", "Topic13", "Topic13", "Topic13", "Topic13", "Topic13", "Topic13", "Topic13", "Topic13", "Topic13", "Topic13", "Topic13", "Topic13", "Topic13", "Topic13", "Topic13", "Topic13", "Topic13", "Topic13", "Topic13", "Topic13", "Topic13", "Topic13", "Topic13", "Topic13", "Topic13", "Topic13", "Topic13", "Topic13", "Topic13", "Topic13", "Topic13", "Topic13", "Topic13", "Topic13", "Topic13", "Topic13", "Topic13", "Topic13", "Topic13", "Topic13", "Topic13", "Topic13", "Topic14", "Topic14", "Topic14", "Topic14", "Topic14", "Topic14", "Topic14", "Topic14", "Topic14", "Topic14", "Topic14", "Topic14", "Topic14", "Topic14", "Topic14", "Topic14", "Topic14", "Topic14", "Topic14", "Topic14", "Topic14", "Topic14", "Topic14", "Topic14", "Topic14", "Topic14", "Topic14", "Topic14", "Topic14", "Topic14", "Topic14", "Topic14", "Topic14", "Topic14", "Topic14", "Topic14", "Topic14", "Topic14", "Topic14", "Topic14", "Topic14", "Topic14", "Topic14", "Topic14", "Topic14", "Topic14", "Topic14", "Topic14", "Topic14", "Topic14", "Topic14", "Topic14", "Topic15", "Topic15", "Topic15", "Topic15", "Topic15", "Topic15", "Topic15", "Topic15", "Topic15", "Topic15", "Topic15", "Topic15", "Topic15", "Topic15", "Topic15", "Topic15", "Topic15", "Topic15", "Topic15", "Topic15", "Topic15", "Topic15", "Topic15", "Topic15", "Topic15", "Topic15", "Topic15", "Topic15", "Topic15", "Topic15", "Topic15", "Topic15", "Topic15", "Topic15", "Topic15", "Topic15", "Topic15", "Topic15", "Topic15", "Topic15", "Topic15", "Topic15", "Topic15", "Topic15", "Topic15", "Topic15", "Topic15", "Topic15", "Topic15", "Topic15", "Topic15", "Topic15", "Topic15", "Topic15", "Topic16", "Topic16", "Topic16", "Topic16", "Topic16", "Topic16", "Topic16", "Topic16", "Topic16", "Topic16", "Topic16", "Topic16", "Topic16", "Topic16", "Topic16", "Topic16", "Topic16", "Topic16", "Topic16", "Topic16", "Topic16", "Topic16", "Topic16", "Topic16", "Topic16", "Topic16", "Topic16", "Topic16", "Topic16", "Topic16", "Topic16", "Topic16", "Topic16", "Topic16", "Topic16", "Topic16", "Topic16", "Topic16", "Topic16", "Topic16", "Topic16", "Topic16", "Topic16", "Topic16", "Topic16", "Topic16", "Topic16", "Topic16", "Topic16", "Topic16", "Topic16", "Topic16", "Topic16", "Topic16", "Topic17", "Topic17", "Topic17", "Topic17", "Topic17", "Topic17", "Topic17", "Topic17", "Topic17", "Topic17", "Topic17", "Topic17", "Topic17", "Topic17", "Topic17", "Topic17", "Topic17", "Topic17", "Topic17", "Topic17", "Topic17", "Topic17", "Topic17", "Topic17", "Topic17", "Topic17", "Topic17", "Topic17", "Topic17", "Topic17", "Topic17", "Topic17", "Topic17", "Topic17", "Topic17", "Topic17", "Topic17", "Topic17", "Topic17", "Topic17", "Topic17", "Topic17", "Topic17", "Topic17", "Topic17", "Topic17", "Topic17", "Topic17", "Topic17", "Topic17", "Topic17", "Topic17", "Topic17", "Topic17", "Topic18", "Topic18", "Topic18", "Topic18", "Topic18", "Topic18", "Topic18", "Topic18", "Topic18", "Topic18", "Topic18", "Topic18", "Topic18", "Topic18", "Topic18", "Topic18", "Topic18", "Topic18", "Topic18", "Topic18", "Topic18", "Topic18", "Topic18", "Topic18", "Topic18", "Topic18", "Topic18", "Topic18", "Topic18", "Topic18", "Topic18", "Topic18", "Topic18", "Topic18", "Topic18", "Topic18", "Topic18", "Topic18", "Topic18", "Topic18", "Topic18", "Topic18", "Topic18", "Topic18", "Topic18", "Topic18", "Topic18", "Topic18", "Topic18", "Topic18", "Topic18", "Topic18", "Topic18", "Topic18", "Topic19", "Topic19", "Topic19", "Topic19", "Topic19", "Topic19", "Topic19", "Topic19", "Topic19", "Topic19", "Topic19", "Topic19", "Topic19", "Topic19", "Topic19", "Topic19", "Topic19", "Topic19", "Topic19", "Topic19", "Topic19", "Topic19", "Topic19", "Topic19", "Topic19", "Topic19", "Topic19", "Topic19", "Topic19", "Topic19", "Topic19", "Topic19", "Topic19", "Topic19", "Topic19", "Topic19", "Topic19", "Topic19", "Topic19", "Topic19", "Topic19", "Topic19", "Topic19", "Topic19", "Topic19", "Topic19", "Topic19", "Topic19", "Topic19", "Topic19", "Topic19", "Topic19", "Topic20", "Topic20", "Topic20", "Topic20", "Topic20", "Topic20", "Topic20", "Topic20", "Topic20", "Topic20", "Topic20", "Topic20", "Topic20", "Topic20", "Topic20", "Topic20", "Topic20", "Topic20", "Topic20", "Topic20", "Topic20", "Topic20", "Topic20", "Topic20", "Topic20", "Topic20", "Topic20", "Topic20", "Topic20", "Topic20", "Topic20", "Topic20", "Topic20", "Topic20", "Topic20", "Topic20", "Topic20", "Topic20", "Topic20", "Topic20", "Topic20", "Topic20", "Topic20", "Topic20", "Topic20", "Topic20", "Topic20", "Topic20", "Topic20", "Topic20", "Topic20", "Topic20", "Topic20", "Topic21", "Topic21", "Topic21", "Topic21", "Topic21", "Topic21", "Topic21", "Topic21", "Topic21", "Topic21", "Topic21", "Topic21", "Topic21", "Topic21", "Topic21", "Topic21", "Topic21", "Topic21", "Topic21", "Topic21", "Topic21", "Topic21", "Topic21", "Topic21", "Topic21", "Topic21", "Topic21", "Topic21", "Topic21", "Topic21", "Topic21", "Topic21", "Topic21", "Topic21", "Topic21", "Topic21", "Topic21", "Topic21", "Topic21", "Topic21", "Topic21", "Topic21", "Topic21", "Topic21", "Topic21", "Topic21", "Topic21", "Topic21", "Topic21", "Topic21", "Topic21", "Topic21", "Topic21", "Topic21", "Topic21", "Topic21", "Topic21", "Topic21", "Topic21", "Topic21"], "logprob": [30.0, 29.0, 28.0, 27.0, 26.0, 25.0, 24.0, 23.0, 22.0, 21.0, 20.0, 19.0, 18.0, 17.0, 16.0, 15.0, 14.0, 13.0, 12.0, 11.0, 10.0, 9.0, 8.0, 7.0, 6.0, 5.0, 4.0, 3.0, 2.0, 1.0, -5.082, -4.0599, -5.7536, -5.7163, -3.1234, -5.771, -5.7698, -5.5532, -3.7789, -5.0103, -6.1148, -5.8835, -6.3089, -6.066, -5.1248, -5.3335, -5.0642, -6.0339, -6.0238, -6.5146, -6.5848, -6.6346, -6.3857, -6.4074, -6.5416, -5.9613, -6.8805, -6.9465, -5.9303, -6.6018, -3.4925, -4.1581, -5.2273, -4.8357, -4.9587, -5.4938, -4.5345, -4.8889, -4.9132, -5.0328, -5.2759, -4.8925, -4.7585, -4.7328, -4.6905, -5.1459, -4.7517, -4.8301, -4.8215, -4.9437, -5.1099, -5.2363, -5.212, -5.1495, -5.2185, -5.215, -4.6471, -4.5514, -4.7972, -4.8127, -3.339, -5.3998, -5.2558, -4.6771, -4.9863, -3.8158, -5.3029, -5.663, -3.6286, -5.3561, -4.22, -5.1202, -6.222, -5.7178, -4.9362, -5.7606, -4.8081, -5.9714, -6.5369, -5.036, -5.7206, -6.9722, -6.3984, -6.4646, -5.8084, -4.642, -4.4533, -5.5537, -5.8675, -4.907, -4.6842, -4.869, -4.3155, -5.2062, -4.4868, -5.1951, -4.6386, -5.0492, -4.8117, -4.8185, -4.867, -4.8838, -4.9853, -5.0731, -5.0766, -5.0853, -3.2329, -6.0571, -5.419, -6.1205, -4.198, -4.9774, -4.4933, -6.4543, -4.9957, -6.3123, -6.4711, -4.6068, -6.5143, -6.4386, -6.1378, -6.5917, -6.0468, -6.7148, -4.0372, -6.6517, -6.8916, -6.7467, -6.1941, -6.4765, -6.8088, -6.8077, -7.2318, -6.8059, -5.8266, -7.015, -4.2735, -5.3628, -6.0009, -5.8113, -3.9735, -5.22, -5.8494, -4.3015, -5.3093, -4.4441, -5.2878, -4.4253, -3.8824, -5.6945, -5.7246, -5.6081, -4.9101, -4.6715, -4.6099, -4.9922, -5.0122, -5.4229, -5.1177, -5.062, -4.8584, -5.1026, -5.1514, -5.1251, -5.1041, -5.2209, -5.2529, -5.2444, -5.2712, -4.5847, -3.6821, -4.1678, -5.3476, -4.2892, -5.6953, -4.1389, -4.6005, -5.7811, -5.9512, -5.3118, -6.0413, -5.8217, -6.1565, -5.3124, -5.8851, -5.7644, -6.4231, -5.8963, -5.8641, -5.6982, -5.1954, -5.8773, -5.025, -5.8901, -6.4732, -6.1109, -5.8738, -4.3868, -6.3121, -6.2401, -5.3298, -4.4546, -5.1621, -4.2777, -4.2934, -4.3864, -5.0936, -4.6604, -4.6044, -4.9431, -4.7727, -4.9503, -5.3093, -4.9581, -4.9764, -5.0633, -5.1127, -5.2572, -5.2339, -5.3145, -5.4494, -6.1488, -6.0601, -6.476, -6.2963, -5.9247, -6.4381, -6.794, -6.7449, -6.5899, -6.2756, -6.9714, -5.9717, -6.7457, -7.0328, -5.8094, -6.2919, -5.9944, -5.7109, -6.9796, -6.6662, -6.3907, -7.0481, -7.0422, -6.9349, -6.9163, -7.2562, -6.1005, -6.592, -5.0314, -5.8057, -3.8928, -5.9623, -5.9372, -5.1736, -6.2236, -5.9426, -5.6459, -6.2294, -6.2729, -5.5124, -4.1789, -5.9178, -5.5809, -5.7369, -4.9253, -5.2488, -4.4253, -5.0326, -4.6481, -4.7504, -4.9476, -4.8256, -4.8318, -5.2667, -5.1442, -5.1861, -5.1759, -5.2908, -5.0936, -5.1146, -5.3829, -5.2478, -5.2242, -5.4109, -5.5421, -5.3347, -5.428, -5.4137, -5.4323, -5.4642, -4.5225, -3.6716, -4.0406, -5.6034, -3.7756, -4.2303, -6.1133, -5.5033, -5.426, -3.519, -3.7563, -5.3146, -5.6923, -3.8051, -3.6189, -3.8682, -5.9962, -6.5196, -6.1706, -5.4485, -4.6802, -6.2145, -6.6012, -5.5704, -5.6309, -6.0098, -5.5238, -6.96, -6.9909, -6.7174, -5.9931, -4.8806, -5.7079, -4.9001, -4.6648, -4.6443, -4.7055, -4.9105, -4.8113, -4.8475, -5.0031, -5.1066, -4.9467, -5.0671, -5.1639, -5.087, -5.1749, -5.1528, -5.1944, -5.3248, -5.5331, -4.7658, -4.1692, -5.283, -5.6167, -5.8355, -4.8319, -4.5991, -6.052, -6.3307, -6.0595, -5.9265, -4.8324, -6.8698, -5.4947, -4.9498, -6.5232, -2.9745, -6.5429, -6.5401, -6.0036, -3.1177, -5.6946, -5.8576, -5.7785, -6.3443, -6.9912, -5.6448, -5.4725, -5.0458, -4.2117, -5.5227, -4.9129, -5.0029, -6.0047, -5.8811, -4.7637, -4.7437, -5.3568, -5.1507, -4.528, -4.65, -5.2884, -4.8025, -4.8393, -4.8632, -5.0238, -5.0603, -5.0565, -5.0413, -5.178, -5.2778, -5.2538, -5.3096, -5.2684, -5.3686, -4.4922, -6.0639, -5.8013, -6.0161, -5.5157, -4.7646, -3.5104, -5.4308, -6.518, -6.3459, -5.5794, -5.6586, -4.8152, -6.0487, -6.178, -6.5918, -6.2526, -5.1934, -6.3726, -5.5927, -2.9016, -5.9837, -6.1607, -6.2501, -6.4125, -6.9644, -6.4529, -6.3809, -4.5885, -4.0435, -5.4265, -5.4077, -3.9219, -5.504, -4.8916, -4.2234, -4.1907, -5.5724, -5.2278, -5.4069, -5.0479, -4.6248, -4.7653, -4.8892, -4.8945, -5.0863, -5.0614, -5.0579, -5.1331, -5.2346, -5.1697, -5.2967, -5.3754, -5.3471, -5.3798, -4.3068, -4.7141, -5.6873, -5.7514, -5.3376, -5.1736, -4.8765, -5.9774, -5.0431, -5.591, -5.9456, -4.6187, -5.3749, -4.593, -6.3534, -6.112, -5.0296, -6.2175, -5.1407, -4.2987, -5.4738, -6.2654, -5.8934, -5.9642, -4.3661, -6.3676, -4.2954, -6.0933, -4.4132, -6.426, -5.6426, -3.591, -4.6606, -4.9605, -4.4915, -5.6528, -4.6106, -4.8205, -4.7211, -5.1066, -5.0804, -5.421, -4.6361, -4.951, -4.7701, -5.0487, -4.9092, -4.908, -5.0194, -4.9883, -5.0846, -5.0833, -5.499, -5.547, -5.5494, -5.7236, -5.6049, -5.8826, -4.8715, -5.9239, -5.2999, -6.0132, -6.1057, -5.8981, -5.1218, -6.1304, -3.7024, -6.3372, -6.0824, -4.4428, -6.4795, -6.2568, -6.3946, -6.228, -6.1939, -6.7807, -5.7497, -5.5794, -6.4184, -5.7674, -6.4566, -6.8166, -5.7651, -5.1991, -4.8007, -5.4959, -5.1924, -4.0644, -5.1981, -5.2945, -5.9321, -5.3599, -5.164, -4.4459, -4.8837, -5.4715, -4.8727, -4.8495, -4.903, -5.153, -5.143, -5.1822, -5.2139, -5.3564, -5.3278, -5.3291, -5.375, -5.3639, -5.4241, -5.4398, -5.464, -5.1889, -5.1663, -5.5537, -5.4098, -5.9983, -6.2863, -5.4965, -6.1185, -5.6436, -5.8085, -6.6478, -6.5725, -6.474, -6.163, -6.8953, -5.8753, -4.7001, -4.6692, -6.4853, -5.3104, -6.7584, -7.0441, -6.9322, -4.9945, -6.0801, -4.9595, -7.1042, -5.9079, -6.6338, -5.2909, -4.6328, -4.273, -4.6617, -5.5374, -3.6868, -3.5172, -5.006, -4.0545, -4.9316, -5.1024, -4.8045, -4.7207, -4.4752, -4.9748, -5.0327, -4.4334, -4.517, -4.9841, -4.5822, -4.739, -4.8689, -5.0752, -5.0334, -5.1328, -5.1344, -5.1341, -5.2584, -3.6972, -4.3745, -4.9467, -4.4306, -3.9946, -4.8345, -5.7216, -5.9999, -5.9449, -5.4551, -5.9257, -5.9021, -5.9741, -5.7463, -5.7943, -5.9318, -5.7702, -6.1901, -4.708, -6.3733, -5.5463, -5.0381, -6.0657, -6.2567, -6.3514, -6.0284, -6.5755, -6.3492, -6.5475, -5.8516, -4.597, -3.8311, -5.4071, -4.8637, -4.6603, -4.6812, -5.4919, -4.7563, -4.5743, -4.7124, -4.8061, -4.8756, -4.8825, -4.9378, -5.0475, -5.0258, -5.066, -5.1828, -5.157, -5.324, -5.2984, -5.3584, -5.3887, -5.4237, -5.8813, -3.1274, -5.4465, -5.736, -6.1112, -3.9235, -6.5603, -5.5012, -6.4751, -4.5906, -4.8346, -6.6273, -3.1666, -6.7044, -6.0261, -6.496, -6.6826, -5.663, -4.2788, -6.6552, -6.5294, -5.3837, -4.8681, -6.7443, -6.2508, -6.6755, -6.7479, -6.0048, -6.8198, -5.0437, -4.3279, -4.9581, -5.9631, -5.6721, -4.3558, -4.2165, -5.3938, -5.5442, -4.7459, -5.041, -4.8873, -4.437, -5.0146, -4.7368, -4.7721, -5.0649, -4.9296, -5.0547, -5.0716, -5.1665, -5.2483, -5.2184, -5.2626, -5.254, -5.2726, -5.3046, -5.8048, -3.4841, -5.6462, -6.0893, -4.5309, -4.5066, -5.2417, -5.4358, -4.5128, -4.357, -5.9283, -4.1813, -5.6191, -5.2953, -5.9434, -6.6976, -5.2235, -6.8691, -6.4316, -6.717, -6.7362, -6.485, -6.2081, -6.8168, -2.7568, -6.4831, -6.2592, -6.5899, -6.801, -6.3568, -5.0194, -3.2527, -3.6429, -5.7808, -4.7442, -4.6085, -4.6469, -4.6922, -4.9522, -4.7902, -4.6776, -5.0459, -4.9609, -4.8405, -4.9922, -4.6984, -5.3047, -5.2289, -5.0647, -5.3334, -5.2781, -5.273, -5.0, -5.3896, -5.3404, -5.5542, -5.7768, -4.3308, -5.3826, -5.8592, -5.6123, -5.8097, -5.497, -5.1179, -4.821, -5.4822, -3.6253, -4.9901, -5.5307, -5.4079, -6.2508, -6.0755, -4.5443, -5.5184, -6.5122, -5.7954, -6.5768, -6.1539, -5.8849, -5.7644, -5.6166, -5.7971, -5.0585, -4.282, -4.7866, -5.7647, -5.1727, -4.657, -4.9425, -4.7273, -4.7367, -4.8282, -4.7979, -4.7992, -4.8409, -4.7941, -4.865, -5.0825, -5.2053, -5.1356, -5.0898, -5.0839, -5.148, -5.1321, -5.1957, -5.1956, -4.1964, -4.1958, -4.9155, -5.9411, -4.6882, -6.3395, -6.383, -6.3441, -5.2283, -3.7959, -6.0747, -6.1172, -4.7848, -6.8767, -6.161, -6.0059, -5.1401, -5.8797, -5.6325, -6.7695, -3.2684, -5.4081, -6.4893, -7.2113, -4.3623, -7.0225, -5.0078, -6.7408, -5.481, -6.0998, -5.7766, -4.789, -5.497, -4.4219, -5.0452, -3.9952, -5.1816, -4.634, -5.1959, -5.0573, -5.0008, -4.5684, -4.8828, -5.0292, -4.8611, -4.9798, -4.8439, -4.9502, -5.0381, -5.0016, -5.1641, -5.1147, -5.1691, -5.1765, -4.0049, -4.5828, -4.8893, -5.9416, -5.563, -4.8378, -4.5564, -4.2957, -5.0859, -5.5888, -4.961, -6.0011, -4.052, -6.5263, -6.4156, -6.1659, -6.147, -6.1289, -6.2071, -5.5948, -5.885, -5.8186, -6.6812, -6.2952, -6.5088, -5.4299, -4.76, -6.2541, -6.555, -5.6268, -5.44, -5.1996, -5.2802, -5.1072, -4.3164, -5.9207, -4.772, -4.414, -5.1472, -5.5881, -4.5541, -5.6369, -4.7456, -4.7427, -4.9083, -4.8073, -5.1763, -5.2022, -5.0973, -5.1667, -5.1956, -5.2325, -5.2516, -5.264, -5.5476, -4.7539, -5.564, -5.7606, -5.8751, -5.3053, -4.9428, -4.923, -5.6112, -4.7642, -5.2768, -6.0783, -5.654, -5.9899, -5.6214, -6.2788, -5.7246, -3.0339, -5.8131, -6.0771, -6.2717, -6.3839, -6.3198, -6.4113, -4.3921, -5.4268, -6.465, -5.7631, -5.324, -5.4655, -5.8154, -4.7655, -5.5717, -4.5861, -5.0057, -4.9032, -4.8689, -5.1729, -4.7465, -4.5975, -4.5623, -4.7837, -4.9668, -4.9755, -4.9066, -4.9408, -5.2827, -5.0765, -5.0855, -5.0939, -5.2149, -5.2978, -5.2907, -5.3058, -4.7419, -3.5543, -4.3014, -6.026, -5.9907, -5.9779, -6.0395, -6.0327, -4.2087, -4.1067, -6.3031, -6.2934, -3.8973, -6.5932, -6.504, -6.1908, -4.1915, -4.4825, -5.1567, -5.0933, -6.3577, -3.5584, -6.2281, -5.539, -6.6119, -3.2295, -6.4487, -6.5497, -5.9041, -7.0546, -5.3944, -5.4051, -4.7301, -5.8493, -5.0443, -5.974, -4.6431, -4.6834, -4.7573, -5.1777, -4.984, -5.7231, -5.0111, -4.865, -5.2427, -5.0545, -5.1813, -5.2372, -5.1695, -5.2767, -5.2004, -5.3222, -4.0333, -5.195, -6.0874, -4.1838, -5.9143, -6.9232, -6.999, -6.2338, -6.5289, -6.4345, -5.7889, -6.2457, -6.8749, -5.4483, -5.2589, -5.6699, -7.0979, -6.6117, -5.7473, -6.3824, -6.6326, -6.3074, -6.7843, -4.2742, -7.218, -5.1899, -4.4868, -4.477, -3.3054, -3.4705, -4.4799, -4.3342, -3.7782, -4.3056, -4.5726, -4.0714, -5.7016, -4.593, -4.6555, -4.6205, -4.782, -5.3583, -4.8545, -4.6325, -4.617, -4.8619, -4.5757, -4.9362, -4.8722, -5.041, -5.221, -5.2122, -5.2156, -4.316, -5.9496, -5.8731, -5.9246, -4.8499, -5.4876, -5.7517, -6.1595, -4.9592, -5.963, -5.1816, -5.8109, -5.7703, -5.6608, -4.3002, -5.4856, -6.098, -6.1812, -6.1843, -5.691, -6.5386, -6.5723, -6.5903, -6.0247, -5.1106, -5.085, -6.634, -7.0075, -5.9806, -5.9631, -4.1754, -4.1283, -5.3762, -4.5963, -5.7224, -4.8283, -5.2527, -5.7449, -5.058, -5.8895, -5.711, -5.9036, -5.5422, -4.603, -5.0132, -4.5505, -4.7572, -4.9412, -4.9267, -5.0471, -5.2502, -5.0715, -5.115, -5.3523, -5.2871, -5.2327, -5.3902, -5.3539, -5.3691, -5.3838], "loglift": [30.0, 29.0, 28.0, 27.0, 26.0, 25.0, 24.0, 23.0, 22.0, 21.0, 20.0, 19.0, 18.0, 17.0, 16.0, 15.0, 14.0, 13.0, 12.0, 11.0, 10.0, 9.0, 8.0, 7.0, 6.0, 5.0, 4.0, 3.0, 2.0, 1.0, 3.1332, 3.1211, 3.063, 3.0587, 3.0418, 3.0348, 2.9993, 2.9716, 2.9712, 2.9413, 2.9213, 2.8982, 2.8955, 2.8924, 2.8874, 2.8287, 2.7486, 2.7159, 2.6405, 2.6397, 2.5968, 2.4511, 2.4416, 2.44, 2.3932, 2.3773, 2.3752, 2.3297, 2.3052, 2.2876, 2.2322, 2.16, 2.0869, 1.9335, 1.9092, 2.0557, 1.5384, 1.5841, 1.4752, 1.4717, 1.5876, 0.7035, 0.4585, 0.2529, 0.1545, 0.9338, 0.042, -0.1034, -0.3662, 0.0838, 0.2319, 0.6147, 0.2664, -0.3565, 0.1201, -0.0026, 3.1759, 3.1746, 3.1699, 3.1672, 3.1602, 3.1354, 3.1085, 3.1077, 3.08, 3.0697, 3.0631, 3.0551, 3.0421, 2.9414, 2.908, 2.8634, 2.854, 2.8146, 2.7977, 2.7658, 2.7466, 2.7021, 2.6965, 2.6616, 2.6599, 2.6235, 2.6181, 2.6013, 2.5878, 2.5857, 2.5664, 2.5428, 2.5616, 2.1365, 1.8891, 1.8812, 1.4225, 2.0306, 0.8197, 1.8622, 0.0881, 0.8922, -0.018, -0.0366, -0.022, -0.4285, 0.27, 0.8746, 0.4765, -0.0579, 2.2459, 2.2455, 2.2423, 2.2339, 2.2292, 2.2271, 2.2253, 2.217, 2.2155, 2.1832, 2.1749, 2.1724, 2.1597, 2.1544, 2.1413, 2.1394, 2.126, 2.0994, 2.0923, 2.0914, 2.0856, 2.0531, 2.0408, 2.0276, 2.0273, 2.016, 2.0059, 2.0036, 1.9891, 1.9766, 1.917, 1.9336, 1.9498, 1.9163, 1.6703, 1.8002, 1.9001, 1.5775, 1.7797, 1.3499, 1.5916, 0.9134, 0.5729, 1.6677, 1.6616, 1.5205, 0.8081, 0.3142, 0.1831, 0.6518, 0.6269, 1.1963, 0.6526, 0.4591, -0.0647, 0.2663, 0.3349, 0.1019, 0.0026, 0.1209, 0.0437, -0.3994, -0.2437, 3.3572, 3.3438, 3.3419, 3.3313, 3.3087, 3.2437, 3.2367, 3.2329, 3.068, 2.9164, 2.8863, 2.8853, 2.85, 2.8288, 2.8269, 2.811, 2.7961, 2.7779, 2.7475, 2.7333, 2.6461, 2.6258, 2.6092, 2.5951, 2.5685, 2.5671, 2.5563, 2.5168, 2.5082, 2.5034, 2.4959, 2.2903, 2.0022, 2.1814, 1.8135, 0.962, 0.4073, 1.3816, 0.4463, -0.1491, 0.4666, -0.046, 0.2768, 1.0596, -0.1651, -0.1944, -0.2183, -0.0852, 0.0846, -0.2482, 0.3245, 2.4878, 2.4375, 2.4353, 2.4198, 2.4092, 2.3609, 2.3508, 2.3417, 2.3376, 2.3322, 2.317, 2.2717, 2.2663, 2.2527, 2.2477, 2.2428, 2.2364, 2.2204, 2.2004, 2.1969, 2.1919, 2.191, 2.1765, 2.1646, 2.1547, 2.1451, 2.0776, 2.0688, 2.067, 2.0617, 2.0445, 1.9582, 2.0339, 2.0082, 1.8008, 2.0143, 1.9085, 1.8111, 1.9858, 2.0007, 1.4998, 0.5478, 1.7232, 1.4225, 1.5339, 0.7424, 0.9605, 0.03, 0.6849, 0.1339, 0.0433, 0.2648, 0.0195, -0.0388, 0.6117, 0.3769, 0.4579, 0.3103, 0.5357, -0.0661, -0.1288, 0.5734, 0.0488, -0.1176, 0.4904, 0.9589, -0.0794, 0.2967, -0.0513, -0.0633, 0.1317, 3.0761, 3.0694, 3.0617, 3.0472, 3.0347, 3.0104, 2.927, 2.9038, 2.8996, 2.8959, 2.8806, 2.8539, 2.8447, 2.8317, 2.8309, 2.7766, 2.7756, 2.678, 2.6619, 2.5451, 2.4329, 2.4185, 2.3939, 2.3935, 2.2902, 2.2591, 2.2018, 2.1106, 2.1092, 2.0837, 2.0632, 2.0083, 1.814, 1.2123, 0.9665, 0.0824, 0.0765, 0.3449, -0.0183, -0.0025, 0.0243, 0.1205, -0.4914, -0.0813, 0.205, -0.2933, 0.1669, -0.0462, 0.2153, 0.0376, 2.8809, 2.856, 2.7786, 2.7441, 2.7347, 2.7291, 2.7131, 2.6865, 2.6852, 2.6794, 2.6385, 2.6056, 2.6025, 2.5626, 2.538, 2.5209, 2.5176, 2.5135, 2.4901, 2.473, 2.4686, 2.4625, 2.4378, 2.4312, 2.4132, 2.3747, 2.3554, 2.3326, 2.3036, 2.2561, 2.1768, 2.2398, 2.1154, 2.1063, 2.2386, 2.1314, 0.961, 0.8522, 1.4345, 1.1276, -0.0727, 0.143, 1.2681, 0.1833, -0.0456, -0.0181, 0.0829, 0.1521, -0.0291, -0.3146, 0.1186, 0.5827, 0.1086, 0.0322, 2.6388, 2.595, 2.5763, 2.553, 2.5476, 2.5208, 2.5191, 2.5167, 2.5141, 2.4859, 2.4664, 2.4566, 2.4317, 2.4219, 2.4012, 2.388, 2.3803, 2.3789, 2.369, 2.3532, 2.3511, 2.319, 2.3154, 2.2904, 2.2462, 2.2382, 2.2285, 2.2213, 2.22, 2.1984, 2.0939, 1.9847, 2.0511, 1.9856, 1.3847, 1.9025, 1.5628, 1.1019, 0.7694, 1.7791, 1.2669, 1.4566, 0.9088, 0.1689, -0.0385, -0.0441, -0.1126, 0.3234, 0.0453, -0.0305, -0.1474, 0.0207, -0.7144, 0.2563, 0.9616, 0.0153, -0.038, 2.9617, 2.9451, 2.9066, 2.8834, 2.8715, 2.8681, 2.8483, 2.847, 2.8449, 2.8422, 2.8418, 2.8308, 2.8012, 2.7499, 2.681, 2.6741, 2.6435, 2.6275, 2.6137, 2.5737, 2.5669, 2.5648, 2.5203, 2.5136, 2.5054, 2.5, 2.4958, 2.4655, 2.4532, 2.4356, 2.432, 2.3566, 2.374, 2.2976, 2.1217, 2.4262, 2.0178, 2.0121, 1.8758, 2.0367, 1.8226, 2.1817, 0.0906, 0.7167, 0.075, 0.8297, -0.1273, -0.4527, 0.0872, -0.1946, -0.0571, -0.2903, 3.3426, 3.3023, 3.2864, 3.2467, 3.2287, 3.2017, 3.2015, 3.2001, 3.1777, 3.1204, 3.0817, 3.0592, 2.9998, 2.9773, 2.8945, 2.8695, 2.861, 2.8201, 2.8115, 2.7612, 2.7579, 2.7409, 2.7397, 2.7354, 2.7199, 2.7119, 2.7008, 2.6486, 2.6408, 2.5651, 2.5484, 2.4844, 2.3951, 2.4905, 2.3189, 1.8993, 2.2838, 1.8188, 2.4512, 1.5753, 1.2478, 0.0094, 0.6374, 1.6718, 0.234, -0.0565, -0.1093, 0.0594, -0.1156, -0.3372, -0.2282, 0.3611, 0.0411, -0.5471, -0.0126, -0.6372, -0.0855, 0.2783, -0.1223, 2.7919, 2.7912, 2.7766, 2.7721, 2.7272, 2.7043, 2.6701, 2.658, 2.637, 2.6166, 2.6053, 2.5295, 2.488, 2.4729, 2.4359, 2.3625, 2.355, 2.2967, 2.2929, 2.2919, 2.2485, 2.2401, 2.1983, 2.1924, 2.1839, 2.1388, 2.1385, 2.109, 1.9814, 1.9769, 1.8035, 1.6589, 1.6344, 1.835, 1.0952, 0.9381, 1.457, 0.6722, 1.2777, 1.3985, 1.1519, 1.0496, 0.7372, 1.2073, 1.203, 0.4117, 0.5104, 0.9257, 0.2108, 0.2467, -0.0752, 0.5634, 0.2632, 0.3456, 0.2346, 0.2046, 3.3298, 3.3134, 3.2996, 3.2263, 3.223, 3.1946, 3.1932, 3.167, 3.1372, 3.1189, 3.1061, 3.0923, 3.0844, 3.0516, 3.0263, 3.0168, 2.9871, 2.9761, 2.9504, 2.9178, 2.9038, 2.9006, 2.8817, 2.8266, 2.8114, 2.7993, 2.7824, 2.7707, 2.7639, 2.7598, 2.7427, 2.5163, 2.1103, 2.4292, 2.1706, 1.9845, 1.9312, 2.2866, 1.3234, -0.119, 0.1327, -0.0793, -0.0937, -0.0888, 0.048, 0.259, 0.0809, 0.1894, 0.0296, -0.364, 0.1971, -0.2709, 0.1278, 0.6185, 2.9836, 2.8979, 2.8798, 2.839, 2.7173, 2.6988, 2.6497, 2.6218, 2.6126, 2.6045, 2.5975, 2.5898, 2.5869, 2.5714, 2.5601, 2.5255, 2.494, 2.4821, 2.4799, 2.4714, 2.4638, 2.4587, 2.4526, 2.443, 2.4424, 2.3866, 2.3634, 2.3528, 2.3306, 2.289, 2.1841, 1.7633, 1.8864, 2.1317, 1.9653, 0.7508, 0.5765, 1.507, 1.596, 0.7752, 0.9885, 0.7517, 0.0183, 0.6532, 0.0569, 0.0729, 0.1622, -0.2029, -0.069, -0.0441, 0.1959, 0.3903, 0.1234, 0.1064, -0.0416, 0.024, 0.0341, 2.6248, 2.5957, 2.543, 2.5168, 2.4968, 2.4669, 2.4571, 2.4439, 2.4373, 2.4327, 2.4195, 2.4029, 2.3878, 2.3683, 2.3396, 2.3338, 2.2933, 2.2883, 2.275, 2.2646, 2.2605, 2.2419, 2.2408, 2.209, 2.2033, 2.1957, 2.1902, 2.1792, 2.1631, 2.1446, 2.1409, 2.0726, 1.5842, 1.9376, 0.5111, 0.1734, 0.1468, 0.1528, 0.4575, 0.2373, 0.0491, 0.5072, 0.3809, 0.1453, 0.3702, -0.2431, 0.8402, 0.4053, -0.2717, 0.6118, 0.0185, -0.1664, 3.479, 3.4286, 3.4155, 3.404, 3.3602, 3.3511, 3.3155, 3.2643, 3.2584, 3.247, 3.2099, 3.2089, 3.1216, 3.0884, 3.0776, 3.0618, 2.9827, 2.9188, 2.8572, 2.8182, 2.8098, 2.7982, 2.7572, 2.7498, 2.738, 2.7253, 2.7152, 2.7095, 2.6788, 2.6772, 2.6562, 2.6299, 2.3288, 2.5571, 2.0517, 0.9645, 1.0857, 0.598, 0.4803, 0.4783, 0.1622, 0.0458, -0.0472, -0.3388, -0.1383, 0.4352, 0.8744, 0.3428, -0.104, -0.2909, 0.1938, -0.1046, 0.0597, -0.4136, 2.9616, 2.9234, 2.8844, 2.8797, 2.7958, 2.7664, 2.6968, 2.6871, 2.6373, 2.5862, 2.5228, 2.519, 2.5112, 2.4895, 2.4817, 2.4747, 2.443, 2.4381, 2.4352, 2.3427, 2.327, 2.3179, 2.2814, 2.191, 2.1787, 2.1472, 2.1464, 2.1005, 2.1003, 2.0777, 2.0149, 1.8348, 1.8962, 1.3723, 1.6371, 0.7985, 1.218, 0.583, 1.0711, 0.7368, 0.6431, -0.1131, 0.3296, 0.5844, 0.2456, 0.3168, -0.1171, 0.0356, 0.2685, -0.2086, 0.2048, -0.2696, -0.1416, -0.3946, 3.2235, 3.1696, 3.1632, 3.1237, 3.1192, 3.061, 3.0386, 3.0386, 3.0081, 2.9845, 2.9247, 2.918, 2.8592, 2.8519, 2.8245, 2.8166, 2.8123, 2.7852, 2.7808, 2.763, 2.7377, 2.7239, 2.7235, 2.7122, 2.6901, 2.6532, 2.5635, 2.5582, 2.5469, 2.5229, 2.501, 2.4732, 2.4268, 1.7592, 0.9901, 2.2654, 0.8239, 0.368, 1.2645, 1.8026, -0.0988, 1.8439, 0.0474, -0.016, 0.347, -0.0136, 0.5483, 0.5682, -0.2522, 0.0457, -0.2098, 0.0641, -0.0246, 0.0746, 3.3444, 3.3306, 3.2661, 3.2445, 3.2235, 3.1933, 3.1819, 3.1797, 3.091, 3.0897, 3.0272, 3.0059, 2.979, 2.9668, 2.9659, 2.9493, 2.9349, 2.9298, 2.9279, 2.9278, 2.9227, 2.913, 2.8785, 2.8748, 2.8561, 2.8421, 2.8344, 2.823, 2.8072, 2.8036, 2.6212, 2.1906, 2.4831, 1.6809, 1.8973, 1.7401, 1.546, 1.8143, 1.2011, 0.1845, -0.107, -0.0569, 0.2456, 0.2515, -0.1129, -0.0958, 1.1291, -0.0491, -0.0997, -0.3009, 0.3062, 0.3412, -0.184, -0.0505, 3.0236, 3.0196, 2.9907, 2.9711, 2.9535, 2.9267, 2.8984, 2.8955, 2.8823, 2.8636, 2.8605, 2.8481, 2.8385, 2.7408, 2.6935, 2.6804, 2.6764, 2.6584, 2.6583, 2.647, 2.6387, 2.5145, 2.4998, 2.4731, 2.4087, 2.3919, 2.3818, 2.3435, 2.3314, 2.3003, 2.2817, 2.2096, 1.987, 2.0718, 1.5501, 2.1122, 0.0836, 0.0986, 0.0877, 0.6733, 0.1227, 1.651, 0.0164, -0.4097, 0.3915, -0.2608, 0.074, 0.1725, -0.1838, 0.0857, -0.4074, 0.2309, 2.4498, 2.4399, 2.3945, 2.3822, 2.3798, 2.3553, 2.3472, 2.328, 2.3225, 2.3128, 2.3008, 2.2966, 2.2845, 2.2775, 2.2721, 2.2614, 2.2568, 2.2505, 2.2353, 2.1967, 2.1858, 2.1666, 2.1609, 2.102, 2.0971, 2.0911, 2.0854, 2.0796, 2.0729, 2.0472, 2.0036, 1.9441, 1.8531, 1.8067, 1.3688, 0.7216, 1.6243, 0.895, 0.9247, 0.8579, 0.5869, 1.1776, 0.5552, 0.2125, 0.165, 0.4347, -0.1204, 0.0913, -0.1455, -0.0552, 0.3321, 0.0943, 0.1262, 2.7492, 2.7102, 2.7094, 2.7044, 2.6998, 2.6946, 2.6884, 2.6592, 2.6523, 2.6495, 2.6469, 2.6397, 2.6164, 2.6145, 2.5901, 2.577, 2.572, 2.5532, 2.5331, 2.5221, 2.4944, 2.4788, 2.453, 2.4435, 2.4025, 2.3937, 2.3873, 2.3749, 2.3711, 2.3423, 2.3339, 2.2406, 2.2943, 2.0128, 2.2626, 1.9953, 2.016, 2.2036, 1.5791, 2.3031, 2.0997, 2.292, 1.7425, 0.179, 0.8594, -0.0952, -0.0304, 0.2859, -0.133, -0.0196, 0.627, -0.2264, -0.1292, 0.3652, -0.0747, -0.4397, 0.5665, 0.2596, -0.0304, -0.0872]}, "token.table": {"Topic": [5, 16, 19, 1, 2, 3, 4, 5, 6, 8, 9, 11, 14, 15, 16, 18, 21, 1, 3, 6, 8, 11, 21, 2, 3, 4, 6, 7, 8, 9, 11, 12, 13, 14, 15, 16, 18, 20, 21, 3, 5, 7, 9, 10, 11, 12, 14, 15, 17, 19, 20, 21, 9, 10, 21, 1, 3, 4, 5, 7, 8, 9, 10, 11, 13, 14, 15, 16, 17, 18, 19, 20, 21, 9, 10, 11, 21, 5, 9, 16, 21, 12, 14, 10, 12, 16, 17, 3, 13, 14, 8, 13, 14, 15, 2, 17, 21, 1, 3, 4, 5, 7, 9, 14, 16, 19, 21, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 14, 15, 1, 14, 15, 17, 20, 2, 4, 7, 8, 10, 11, 14, 15, 16, 17, 19, 20, 3, 5, 6, 8, 11, 12, 13, 19, 20, 2, 3, 9, 10, 11, 17, 21, 3, 4, 5, 6, 11, 13, 14, 19, 1, 3, 5, 7, 10, 11, 13, 14, 16, 19, 20, 21, 2, 7, 8, 17, 7, 14, 15, 17, 2, 7, 17, 2, 3, 8, 9, 10, 17, 21, 2, 11, 7, 20, 7, 20, 7, 12, 1, 2, 3, 5, 6, 8, 9, 12, 14, 15, 19, 21, 1, 5, 14, 19, 21, 1, 2, 4, 5, 6, 7, 8, 10, 16, 17, 19, 20, 21, 3, 7, 13, 3, 5, 7, 8, 9, 10, 11, 13, 15, 16, 17, 20, 21, 3, 12, 3, 5, 7, 8, 15, 16, 18, 20, 21, 19, 2, 3, 6, 8, 11, 14, 16, 17, 20, 21, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 5, 8, 19, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 1, 5, 6, 10, 17, 19, 21, 14, 19, 21, 3, 5, 6, 7, 8, 9, 10, 11, 14, 17, 19, 20, 21, 3, 17, 2, 4, 8, 10, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 1, 5, 7, 8, 9, 10, 12, 14, 15, 18, 19, 21, 1, 5, 5, 8, 9, 10, 11, 12, 17, 18, 21, 9, 11, 13, 19, 3, 9, 18, 3, 5, 16, 17, 3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 14, 16, 17, 18, 19, 20, 19, 2, 5, 8, 15, 19, 2, 5, 8, 17, 19, 20, 1, 2, 3, 5, 6, 9, 11, 12, 14, 17, 18, 21, 3, 17, 2, 10, 13, 2, 11, 12, 13, 21, 5, 11, 13, 8, 9, 1, 14, 1, 14, 16, 1, 14, 16, 19, 7, 11, 14, 15, 17, 19, 21, 3, 5, 16, 3, 6, 7, 8, 9, 11, 20, 3, 5, 12, 13, 15, 17, 19, 1, 7, 11, 20, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 5, 9, 14, 3, 8, 1, 2, 3, 5, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 3, 18, 20, 21, 1, 3, 6, 11, 13, 15, 20, 3, 15, 3, 13, 15, 5, 12, 3, 9, 14, 15, 8, 16, 17, 17, 19, 11, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 2, 8, 14, 16, 19, 20, 4, 11, 12, 14, 16, 17, 18, 19, 20, 12, 16, 17, 2, 12, 16, 17, 20, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 1, 2, 3, 4, 5, 6, 8, 10, 13, 14, 16, 17, 18, 19, 20, 17, 20, 1, 6, 12, 16, 5, 8, 13, 2, 3, 8, 9, 13, 14, 17, 20, 21, 15, 5, 12, 15, 17, 19, 20, 21, 14, 21, 4, 9, 14, 17, 9, 21, 9, 14, 2, 3, 5, 6, 7, 8, 12, 14, 15, 17, 7, 10, 13, 16, 20, 3, 8, 10, 12, 13, 14, 19, 20, 21, 3, 4, 10, 14, 17, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 10, 19, 1, 3, 5, 9, 10, 11, 12, 13, 16, 17, 18, 19, 20, 21, 1, 3, 4, 8, 10, 11, 16, 18, 21, 3, 5, 8, 12, 13, 14, 16, 17, 19, 15, 15, 1, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 2, 3, 5, 11, 13, 16, 17, 18, 19, 21, 3, 12, 14, 19, 1, 12, 20, 1, 3, 4, 5, 6, 7, 8, 13, 16, 17, 20, 21, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 1, 2, 5, 6, 9, 1, 3, 5, 21, 9, 10, 11, 13, 16, 20, 3, 5, 8, 18, 2, 3, 12, 13, 14, 16, 17, 20, 16, 1, 2, 3, 4, 5, 6, 7, 8, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 1, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 1, 2, 3, 5, 7, 8, 9, 13, 16, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 5, 8, 9, 10, 11, 12, 13, 14, 15, 17, 19, 20, 21, 3, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 1, 5, 6, 7, 9, 10, 17, 18, 21, 6, 9, 16, 2, 3, 4, 5, 6, 7, 9, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 19, 4, 16, 18, 19, 2, 3, 4, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 20, 1, 7, 3, 7, 13, 10, 17, 1, 7, 8, 12, 13, 14, 15, 16, 21, 17, 19, 1, 2, 3, 4, 5, 6, 8, 9, 10, 12, 13, 14, 15, 16, 17, 18, 21, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 11, 17, 9, 14, 1, 4, 15, 17, 18, 3, 9, 10, 15, 16, 17, 19, 21, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 16, 17, 18, 19, 21, 4, 14, 21, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 3, 19, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 7, 9, 18, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 6, 8, 16, 1, 3, 4, 6, 7, 8, 9, 10, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 7, 12, 14, 21, 1, 2, 9, 12, 17, 3, 5, 7, 16, 2, 12, 17, 2, 4, 5, 12, 13, 14, 15, 19, 21, 3, 5, 6, 3, 5, 8, 3, 5, 8, 18, 2, 8, 13, 3, 4, 7, 11, 15, 20, 21, 2, 11, 14, 21, 4, 7, 14, 7, 4, 7, 11, 14, 19, 1, 3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 14, 16, 17, 18, 19, 20, 21, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 5, 15, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 15, 16, 17, 19, 20, 21, 2, 3, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 19, 20, 21, 2, 12, 13, 21, 3, 5, 6, 8, 9, 10, 13, 16, 19, 20, 3, 6, 9, 1, 5, 7, 9, 10, 1, 3, 5, 8, 9, 10, 11, 12, 14, 16, 17, 18, 19, 20, 21, 1, 2, 3, 5, 6, 8, 10, 11, 12, 13, 14, 16, 17, 20, 21, 2, 8, 13, 21, 1, 2, 5, 8, 10, 11, 12, 13, 17, 19, 21, 2, 5, 8, 11, 20, 5, 11, 20, 8, 15, 16, 3, 5, 8, 12, 18, 7, 17, 3, 7, 17, 21, 1, 3, 4, 5, 7, 16, 17, 21, 3, 4, 5, 8, 10, 19, 20, 15, 16, 21, 2, 3, 8, 9, 21, 9, 12, 5, 7, 9, 10, 12, 16, 18, 21, 12, 16, 21, 12, 20, 21, 2, 6, 8, 14, 15, 17, 20, 3, 4, 19, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 3, 20, 3, 5, 6, 7, 8, 10, 11, 12, 13, 16, 17, 18, 19, 20, 21, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 1, 2, 3, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 16, 17, 19, 20, 21, 9, 10, 18, 2, 12, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 11, 3, 4, 14, 20, 21, 3, 4, 14, 20, 3, 4, 14, 20, 21, 7, 11, 4, 13, 2, 11, 14, 17, 18, 19, 1, 3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 14, 15, 16, 17, 18, 19, 20, 21, 1, 3, 5, 8, 15, 19, 21, 1, 19, 21, 2, 8, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 1, 13, 15, 16, 3, 5, 6, 8, 9, 10, 11, 14, 19, 20, 3, 5, 9, 10, 14, 21, 11, 14, 19, 9, 15, 1, 17, 21, 4, 7, 6, 9, 12, 17, 20, 6, 9, 12, 14, 1, 9, 12, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 6, 5, 8, 10, 12, 15, 16, 3, 5, 10, 12, 19, 1, 2, 3, 5, 6, 7, 8, 9, 10, 11, 12, 14, 15, 16, 17, 18, 19, 20, 21, 10, 16, 9, 11, 21, 7, 18, 3, 7, 11, 18, 20, 1, 2, 3, 5, 12, 14, 15, 18, 21, 2, 3, 5, 7, 8, 9, 11, 13, 15, 16, 17, 18, 20, 21, 10, 17, 2, 8, 1, 3, 4, 5, 6, 8, 10, 11, 13, 14, 16, 17, 18, 21, 3, 8, 17, 19, 21, 3, 5, 7, 17, 4, 8, 9, 10, 19, 21, 4, 8, 9, 10, 19, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 1, 2, 3, 4, 5, 7, 8, 9, 11, 12, 13, 14, 15, 16, 17, 19, 20, 21, 1, 3, 8, 14, 15, 16, 17, 14, 8, 14, 1, 3, 5, 7, 10, 12, 16, 17, 20, 21, 10, 11, 3, 8, 16, 2, 6, 13, 19, 21, 1, 2, 3, 4, 8, 11, 13, 14, 16, 17, 19, 21, 2, 5, 8, 10, 11, 13, 17, 21, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 8, 14, 17, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 16, 17, 18, 19, 20, 21, 14, 18, 20, 1, 8, 9, 20, 1, 4, 5, 8, 9, 10, 12, 14, 16, 19, 20, 21, 1, 3, 4, 5, 6, 7, 13, 14, 16, 18, 19, 21, 1, 3, 4, 5, 6, 7, 9, 10, 11, 13, 14, 16, 18, 19, 21, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 1, 2, 3, 4, 5, 8, 11, 12, 13, 14, 15, 16, 17, 19, 20, 21, 5, 6, 1, 2, 3, 13, 19, 10, 15, 3, 4, 8, 13, 16, 18, 20, 3, 7, 10, 12, 13, 21, 9, 13, 15, 2, 5, 8, 16, 20, 21, 3, 4, 5, 6, 8, 9, 10, 12, 13, 15, 17, 18, 19, 21, 7, 9, 13, 17, 3, 5, 10, 12, 16, 21, 1, 3, 5, 8, 9, 10, 11, 12, 14, 17, 19, 20, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 3, 6, 9, 13, 14, 15, 19, 3, 8, 10, 15, 19, 20, 21, 3, 4, 8, 3, 19, 3, 4, 8, 10, 14, 16, 20, 21, 2, 3, 5, 9, 10, 14, 16, 17, 18, 19, 1, 3, 4, 8, 10, 16, 20, 21, 2, 6, 2, 3, 4, 11, 17, 21, 3, 5, 6, 8, 9, 13, 14, 17, 20, 8, 9, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 12, 14, 17, 1, 3, 5, 8, 9, 10, 11, 14, 16, 17, 19, 21, 1, 2, 3, 4, 5, 6, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 1, 2, 5, 8, 9, 15, 16, 19, 20, 4, 9, 14, 5, 6, 13, 18, 8, 14, 3, 17, 2, 5, 8, 11, 14, 3, 7, 17, 2, 5, 10, 12, 14, 16, 18, 20, 3, 4, 5, 6, 8, 11, 14, 16, 18, 19, 20, 21, 5, 7, 8, 10, 11, 14, 15, 2, 9, 12, 14, 21, 2, 3, 5, 7, 8, 9, 10, 11, 13, 14, 17, 21, 2, 3, 5, 8, 9, 18, 21, 2, 4, 5, 6, 8, 9, 10, 12, 16, 17, 19, 20, 4, 19, 2, 11, 18, 21, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 11, 16, 20, 1, 2, 3, 4, 5, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 3, 5, 10, 3, 16, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 1, 2, 3, 4, 5, 6, 8, 9, 10, 11, 13, 14, 15, 16, 17, 18, 19, 20, 21, 1, 4, 1, 5, 8, 9, 21, 3, 5, 6, 10, 12, 16, 5, 6, 9, 2, 5, 7, 8, 14, 19, 20, 18, 5, 8, 11, 1, 2, 3, 4, 6, 7, 8, 9, 11, 12, 13, 15, 19, 20, 21, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 4, 6, 8, 17, 18, 1, 2, 3, 4, 5, 6, 7, 8, 10, 11, 12, 13, 14, 15, 17, 19, 21, 1, 2, 3, 4, 5, 6, 7, 8, 9, 11, 12, 14, 15, 16, 17, 19, 20, 21, 2, 3, 4, 6, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 3, 7, 9, 1, 3, 5, 8, 17, 18, 19, 21, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 19, 21, 1, 2, 6, 7, 8, 10, 11, 12, 13, 14, 15, 17, 18, 19, 20, 21, 6, 16, 20, 2, 3, 5, 7, 9, 11, 13, 16, 18, 20, 5, 7, 10, 14, 19, 21, 1, 5, 12, 2, 5, 2, 10, 8, 15, 16, 1, 4, 17, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 5, 7, 9, 11, 15, 16, 20, 2, 3, 9, 13, 20, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 20, 2, 3, 4, 5, 7, 8, 9, 11, 12, 13, 14, 15, 16, 17, 18, 20, 21, 1, 5, 9, 10, 12, 15, 17, 18, 19, 21, 1, 2, 3, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 16, 17, 19, 20, 21, 2, 8, 3, 5, 7, 8, 9, 10, 11, 13, 20, 5, 20, 10, 12, 16, 18, 2, 3, 6, 1, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 18, 19, 20, 14, 21, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 14, 15, 3, 4, 3, 4, 8, 15, 12, 14, 7, 20, 3, 5, 6, 7, 8, 9, 10, 12, 14, 16, 17, 19, 20, 21, 3, 4, 7, 10, 15, 16, 18, 20, 5, 17, 20, 2, 7, 13, 8, 14, 17, 19, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 3, 5, 11, 12, 18, 21, 1, 3, 7, 10, 12, 18, 5, 8, 9, 18, 4, 5, 6, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 3, 5, 11, 19, 21, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 14, 15, 16, 17, 18, 19, 20, 21, 1, 2, 3, 4, 5, 6, 8, 9, 10, 11, 12, 13, 14, 16, 17, 18, 19, 20, 21, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 1, 2, 3, 4, 5, 6, 7, 8, 9, 11, 12, 13, 14, 16, 17, 18, 19, 20, 21, 1, 7, 5, 8, 14, 15, 17, 18, 21, 5, 12, 14, 18, 1, 2, 3, 4, 5, 7, 9, 10, 12, 13, 17, 2, 11, 2, 3, 1, 3, 13, 14, 15, 17, 18, 3, 10, 10, 21, 3, 4, 8, 14, 17, 11, 18, 19, 11, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 4, 5, 8, 9, 11, 14, 15, 16, 17, 19, 21, 4, 5, 9, 11, 16, 17, 2, 4, 9, 11, 13, 5, 16, 17, 2, 5, 8, 10, 11, 12, 13, 17, 21, 4, 5, 6, 18, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 7, 10, 11, 11, 12, 20, 2, 16, 19, 20, 21, 1, 2, 3, 4, 5, 6, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 20, 21, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 1, 2, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 15, 17, 18, 19, 20, 21, 1, 3, 4, 12, 14, 17, 21, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 7, 16, 1, 15, 1, 13, 14, 1, 2, 8, 10, 13, 17, 18, 3, 8, 13, 16, 20, 5, 8, 17, 21, 5, 18, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 2, 3, 5, 8, 10, 16, 17, 19, 20, 19, 20, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 14, 17, 21, 8, 16, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 3, 4, 5, 6, 8, 10, 11, 12, 13, 14, 16, 17, 18, 19, 20, 21, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 10, 10, 13, 16, 1, 2, 8, 11, 12, 13, 21, 8, 14, 18, 19, 4, 8, 19, 7, 13, 17, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 4, 5, 7, 14, 19, 21, 1, 6, 18, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 1, 2, 3, 4, 5, 7, 8, 9, 11, 12, 13, 14, 15, 16, 18, 19, 20, 21, 18, 19, 21, 8, 14, 16, 18, 1, 2, 4, 12, 14, 17, 21, 4, 5, 12, 15, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 19, 20, 21, 4, 6, 4, 14, 17, 21, 16, 17, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 1, 2, 3, 5, 6, 7, 8, 9, 11, 12, 13, 14, 15, 16, 17, 18, 20, 21, 1, 12, 5, 8, 12, 14, 17, 20, 21, 3, 4, 7, 8, 13, 14, 17, 18, 20, 3, 7, 14, 17, 20, 1, 3, 4, 5, 6, 8, 10, 11, 12, 13, 14, 15, 16, 17, 19, 20, 21, 2, 3, 5, 6, 7, 9, 10, 11, 14, 15, 16, 17, 19, 20, 21, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 1, 3, 4, 5, 6, 8, 9, 10, 11, 14, 15, 16, 19, 20, 21, 5, 11, 20, 2, 3, 5, 7, 10, 11, 12, 13, 14, 18, 20, 21, 3, 5, 6, 7, 9, 13, 15, 19, 21, 19, 1, 3, 7, 11, 20, 1, 3, 4, 5, 6, 7, 8, 11, 15, 16, 17, 20, 21, 7, 11, 20, 2, 3, 4, 5, 6, 8, 10, 12, 13, 14, 15, 17, 20, 10, 13, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 14, 15, 16, 17, 18, 19, 20, 21, 1, 14, 15, 1, 2, 3, 9, 10, 12, 14, 16, 17, 18, 21, 3, 8, 16, 18, 3, 5, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 20, 21, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 3, 8, 9, 10, 14, 16, 10, 19, 3, 11, 1, 3, 5, 9, 10, 12, 16, 2, 5, 1, 2, 3, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 5, 7, 9, 10, 18, 19, 21, 10, 11, 18, 21, 11, 3, 5, 7, 8, 9, 11, 12, 14, 16, 19, 20, 21, 8, 14, 15, 2, 16, 9, 21, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 7, 20, 4, 17, 2, 3, 6, 8, 9, 10, 11, 14, 15, 16, 17, 19, 21, 4, 6, 7, 8, 9, 10, 12, 14, 15, 16, 17, 19, 21, 5, 16, 19, 5, 16, 17, 19, 5, 8, 11, 14, 16, 17, 19, 20, 21, 5, 15, 3, 8, 9, 17, 4, 8, 16, 17, 9, 14, 21, 3, 4, 5, 8, 9, 11, 12, 14, 16, 17, 19, 20, 21, 4, 5, 12, 19, 1, 2, 3, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 5, 6, 16, 18, 6, 16, 20, 7, 20, 16, 20, 20, 5, 6, 12, 17, 12, 17, 1, 2, 3, 4, 7, 8, 11, 12, 13, 14, 16, 17, 18, 20, 21, 3, 5, 6, 8, 11, 20, 21, 9, 20, 14, 20, 2, 8, 14, 15, 4, 6, 8, 9, 3, 5, 8, 11, 14, 17, 1, 2, 3, 4, 5, 6, 8, 9, 10, 11, 13, 14, 17, 18, 19, 20, 21, 3, 10, 4, 14, 15, 20, 5, 18, 20, 21, 3, 14, 19, 3, 7, 9, 17, 20, 3, 5, 19, 3, 5, 13, 1, 2, 3, 4, 5, 7, 9, 13, 16, 17, 1, 3, 5, 7, 8, 9, 10, 11, 12, 13, 14, 15, 18, 19, 20, 1, 2, 20, 10, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 1, 5, 6, 7, 8, 9, 11, 13, 14, 15, 16, 17, 19, 20, 21, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 2, 4, 9, 20, 2, 4, 9, 20, 1, 4, 5, 6, 7, 9, 10, 11, 13, 15, 19, 20, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 21, 4, 5, 6, 7, 8, 9, 11, 14, 15, 17, 18, 19, 20, 1, 2, 3, 5, 6, 7, 9, 10, 11, 14, 19, 20, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 9, 10, 13, 14, 15, 1, 2, 3, 4, 5, 7, 8, 9, 11, 14, 15, 19, 5, 9, 12, 16, 18, 21, 14, 17, 18, 18, 19, 21, 9, 12, 20, 14, 16, 10, 16, 20, 3, 7, 10, 11, 14, 16, 20, 1, 2, 3, 4, 5, 6, 8, 9, 11, 12, 14, 15, 16, 17, 18, 19, 20, 21, 5, 8, 11, 15, 19, 5, 6, 9, 10, 11, 12, 15, 18, 19, 1, 2, 3, 4, 5, 6, 8, 9, 10, 11, 12, 13, 14, 17, 18, 20, 21, 2, 3, 4, 5, 6, 7, 9, 10, 11, 15, 17, 20, 18, 21, 2, 3, 4, 5, 6, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 4, 7, 10, 16, 17, 4, 7, 17, 19, 3, 12, 19, 21, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 2, 13, 16, 17, 19, 15, 17, 20, 4, 5, 10, 15, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 1, 4, 8, 1, 2, 4, 7, 8, 13, 14, 15, 17, 18, 5, 17, 21, 2, 4, 5, 8, 13, 17, 21, 2, 4, 5, 8, 11, 13, 17, 19, 21, 1, 3, 5, 8, 11, 12, 14, 16, 17, 19, 21, 1, 3, 4, 5, 8, 10, 11, 12, 13, 14, 16, 17, 18, 19, 20, 21, 21, 6, 7, 9, 11, 18, 20, 2, 3, 4, 5, 6, 7, 9, 10, 11, 12, 13, 14, 16, 17, 18, 19, 20, 21, 19, 20, 7, 9, 21, 5, 17, 16, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 4, 9, 10, 18, 9, 10, 18, 21, 1, 3, 8, 9, 10, 17, 18, 19, 21, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 2, 3, 8, 3, 4, 5, 11, 14, 17, 19, 21, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 1, 8, 9, 15, 16, 1, 5, 6, 7, 8, 11, 12, 14, 15, 16, 17, 18, 20, 21, 1, 4, 8, 10, 15, 19, 21, 3, 4, 15, 5, 11, 14, 1, 6, 8, 12, 13, 21, 15, 3, 4, 5, 6, 9, 13, 15, 19, 3, 5, 6, 9, 19, 2, 4, 5, 6, 9, 10, 12, 13, 14, 15, 16, 17, 18, 19, 21, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 4, 12, 6, 18, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 16, 17, 18, 19, 20, 21, 8, 9, 8, 9, 1, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 4, 11, 12, 16, 9, 10, 16, 9, 10, 14, 1, 5, 6, 20, 1, 5, 6, 9, 5, 9, 17, 21, 1, 2, 3, 5, 7, 8, 9, 10, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 1, 2, 5, 7, 8, 11, 12, 14, 19, 9, 10, 18, 20, 3, 15, 19, 20, 8, 11, 12, 14, 15, 20, 3, 6, 7, 10, 11, 13, 14, 18, 20, 3, 5, 8, 11, 13, 19, 2, 4, 5, 6, 8, 9, 11, 13, 17, 19, 21, 8, 21, 5, 12, 1, 3, 12, 11, 8, 10, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 5, 10, 14, 15, 16, 18, 20, 3, 5, 6, 14, 20, 5, 8, 11, 14, 2, 3, 5, 11, 16, 20, 21, 3, 13, 3, 8, 13, 16, 18, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 13, 14, 15, 16, 17, 19, 20, 21, 1, 3, 4, 7, 13, 16, 19, 3, 10, 13, 16, 3, 7, 5, 7, 12, 14, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 6, 7, 10, 11, 13, 18, 20, 5, 6, 15, 1, 6, 8, 11, 14, 15, 3, 5, 12, 14, 11, 20, 21, 7, 12, 2, 3, 4, 5, 8, 14, 16, 21, 3, 4, 5, 7, 10, 11, 14, 17, 20, 21, 1, 3, 5, 7, 8, 10, 11, 12, 13, 14, 15, 17, 18, 19, 20, 21, 5, 13, 2, 9, 10, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 16, 17, 18, 19, 20, 21, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 1, 2, 5, 6, 7, 8, 9, 11, 12, 14, 15, 16, 17, 19, 20, 4, 8, 14, 3, 4, 5, 7, 11, 12, 13, 14, 15, 16, 17, 20, 1, 3, 5, 7, 8, 11, 13, 17, 20, 21, 3, 8, 13, 20, 2, 4, 8, 14, 15, 17, 18, 19, 20, 21, 1, 2, 3, 7, 8, 9, 11, 13, 14, 16, 18, 20, 21, 1, 3, 4, 5, 6, 7, 8, 11, 14, 15, 16, 20, 1, 2, 3, 4, 5, 6, 7, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 3, 17, 18, 21, 8, 9, 20, 4, 5, 6, 9, 13, 14, 17, 18, 10, 14, 16, 4, 5, 7, 18, 5, 7, 10, 13, 21, 5, 21, 5, 9, 10, 12, 13, 18, 21, 5, 18, 21, 1, 3, 4, 5, 6, 7, 15, 17, 21, 3, 9, 3, 9, 12, 21, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 2, 5, 6, 8, 11, 13, 15, 19, 20, 21, 8, 9, 1, 2, 3, 5, 6, 8, 9, 10, 11, 12, 14, 15, 16, 17, 18, 19, 20, 21, 11, 13, 21, 2, 3, 4, 5, 6, 8, 9, 10, 11, 12, 13, 14, 16, 17, 20, 21, 6, 13, 6, 12, 21, 2, 3, 5, 6, 7, 9, 10, 12, 17, 19, 3, 6, 8, 9, 14, 20, 21, 7, 8, 4, 6, 7, 11, 20, 21, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 3, 5, 6, 9, 7, 10, 21, 5, 8, 9, 11, 19, 20, 21, 1, 3, 14, 17, 19, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 3, 15, 18, 2, 3, 5, 6, 8, 20, 21, 1, 2, 4, 8, 11, 14, 15, 1, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 14, 15, 16, 17, 18, 19, 20, 21, 3, 4, 12, 3, 8, 19, 1, 3, 4, 5, 7, 8, 13, 14, 16, 17, 18, 21, 2, 5, 6, 7, 9, 11, 16, 18, 1, 2, 3, 5, 7, 9, 10, 11, 12, 13, 14, 15, 16, 17, 19, 20, 21, 4, 9, 11, 18, 1, 5, 11, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 1, 5, 9, 10, 12, 21, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 7, 19, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 20, 1, 8, 11, 17, 4, 5, 6, 11, 12, 15, 17, 18, 20, 5, 6, 10, 15, 16, 17, 20, 5, 6, 7, 8, 10, 12, 18, 5, 17, 2, 5, 7, 4, 9, 12, 3, 5, 10, 3, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 21, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 9, 10, 12, 17, 19, 1, 3, 9, 10, 19, 8, 14, 17, 5, 9, 11, 17, 1, 2, 3, 4, 5, 6, 7, 9, 10, 11, 13, 14, 15, 16, 17, 18, 19, 20, 21, 1, 3, 4, 7, 16, 17, 21, 3, 4, 5, 6, 9, 10, 12, 13, 17, 18, 20, 21, 1, 3, 20, 5, 7, 9, 15, 18, 21, 5, 7, 9, 10, 11, 12, 13, 21, 1, 4, 5, 6, 9, 11, 12, 13, 15, 17, 18, 19, 21, 3, 4, 5, 6, 7, 8, 9, 10, 12, 13, 18, 19, 21, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 5, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 1, 2, 3, 8, 10, 21, 20, 19, 5, 10, 11, 12, 6, 1, 2, 3, 8, 14, 18, 3, 6, 9, 12, 18, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 1, 2, 3, 4, 6, 7, 8, 10, 11, 12, 13, 14, 15, 16, 17, 20, 21, 1, 3, 4, 5, 6, 7, 8, 10, 11, 13, 14, 17, 18, 19, 20, 1, 3, 12, 18, 10, 2, 3, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 3, 5, 9, 11, 13, 1, 2, 9, 10, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 3, 3, 9, 11, 20, 16, 21, 2, 5, 6, 8, 9, 10, 11, 13, 14, 16, 17, 18, 19, 20, 5, 8, 19, 2, 3, 4, 5, 6, 8, 9, 10, 12, 19, 20, 21, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 9, 11, 16, 2, 3, 8, 16, 17, 1, 7, 21, 1, 5, 19, 7, 2, 3, 6, 8, 9, 12, 2, 6, 9, 12, 14, 15, 20, 21, 2, 3, 6, 8, 9, 12, 14, 15, 18, 20, 21, 1, 1, 4, 5, 6, 8, 9, 10, 13, 15, 19, 21, 3, 5, 6, 10, 11, 14, 17, 21, 1, 5, 8, 19, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 16, 17, 18, 19, 20, 21, 1, 2, 4, 16, 19, 20, 21, 1, 3, 5, 7, 8, 3, 10, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 1, 3, 8, 15, 16, 18, 19, 21, 1, 3, 5, 7, 8, 9, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 2, 3, 10, 2, 3, 6, 12, 19, 3, 9, 13, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 16, 17, 18, 19, 20, 21, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 1, 2, 3, 4, 5, 7, 8, 9, 10, 11, 12, 13, 14, 16, 18, 19, 20, 21, 1, 3, 4, 5, 7, 8, 16, 21, 3, 9, 10, 20, 11, 21, 1, 2, 3, 4, 5, 7, 8, 9, 10, 11, 12, 13, 15, 16, 17, 18, 19, 20, 21, 1, 4, 8, 9, 13, 16, 3, 4, 5, 8, 9, 10, 11, 13, 15, 16, 17, 18, 19, 20, 21, 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 2, 16, 18, 21, 1, 10, 13, 15, 21, 10, 21, 12, 2, 4, 6, 12], "Freq": [0.15147143983133599, 0.15147143983133599, 0.45441431949400796, 0.04828861864123753, 0.016096206213745842, 0.2575392994199335, 0.016096206213745842, 0.016096206213745842, 0.4667899801986294, 0.032192412427491685, 0.016096206213745842, 0.016096206213745842, 0.032192412427491685, 0.016096206213745842, 0.016096206213745842, 0.016096206213745842, 0.032192412427491685, 0.018288835801027765, 0.05486650740308329, 0.8229976110462494, 0.018288835801027765, 0.018288835801027765, 0.018288835801027765, 0.008292221196298645, 0.09950665435558374, 0.008292221196298645, 0.6965465804890862, 0.008292221196298645, 0.008292221196298645, 0.008292221196298645, 0.024876663588895936, 0.008292221196298645, 0.008292221196298645, 0.041461105981493225, 0.008292221196298645, 0.008292221196298645, 0.01658444239259729, 0.008292221196298645, 0.024876663588895936, 0.04666796013407556, 0.02333398006703778, 0.21000582060334, 0.5600155216089067, 0.02333398006703778, 0.02333398006703778, 0.01166699003351889, 0.01166699003351889, 0.01166699003351889, 0.02333398006703778, 0.01166699003351889, 0.01166699003351889, 0.02333398006703778, 0.8148583955215847, 0.04074291977607923, 0.04074291977607923, 0.05733147993041492, 0.03822098662027661, 0.019110493310138307, 0.05733147993041492, 0.03822098662027661, 0.05733147993041492, 0.019110493310138307, 0.019110493310138307, 0.05733147993041492, 0.11466295986082985, 0.019110493310138307, 0.019110493310138307, 0.05733147993041492, 0.019110493310138307, 0.03822098662027661, 0.019110493310138307, 0.05733147993041492, 0.3057678929622129, 0.8837644534145739, 0.01880349900882072, 0.01880349900882072, 0.01880349900882072, 0.048169448627210794, 0.8188806266625835, 0.048169448627210794, 0.048169448627210794, 0.4505089541071205, 0.15016965136904017, 0.17608902747212782, 0.08804451373606391, 0.08804451373606391, 0.4402225686803195, 0.7778030131647112, 0.07070936483315557, 0.07070936483315557, 0.10248469140550376, 0.10248469140550376, 0.6149081484330225, 0.10248469140550376, 0.06932689659601876, 0.6932689659601876, 0.06932689659601876, 0.024014544135228393, 0.024014544135228393, 0.07204363240568518, 0.024014544135228393, 0.024014544135228393, 0.024014544135228393, 0.048029088270456786, 0.024014544135228393, 0.09605817654091357, 0.6003636033807098, 0.019329660133307006, 0.014497245099980256, 0.1401400359664758, 0.03382690523328726, 0.10148071569986179, 0.019329660133307006, 0.05798898039992102, 0.03382690523328726, 0.02899449019996051, 0.03865932026661401, 0.1401400359664758, 0.024162075166633757, 0.05798898039992102, 0.048324150333267514, 0.014497245099980256, 0.05315656536659427, 0.024162075166633757, 0.03865932026661401, 0.024162075166633757, 0.048324150333267514, 0.04349173529994076, 0.37654781386276304, 0.37654781386276304, 0.05418063364456306, 0.10836126728912612, 0.6501676037347568, 0.05418063364456306, 0.05418063364456306, 0.013676352600547639, 0.013676352600547639, 0.027352705201095277, 0.027352705201095277, 0.013676352600547639, 0.013676352600547639, 0.7385230404295724, 0.06838176300273818, 0.013676352600547639, 0.027352705201095277, 0.027352705201095277, 0.013676352600547639, 0.682519082251493, 0.032500908678642526, 0.032500908678642526, 0.032500908678642526, 0.032500908678642526, 0.032500908678642526, 0.032500908678642526, 0.032500908678642526, 0.032500908678642526, 0.5758249238701132, 0.050071732510444625, 0.15021519753133386, 0.07510759876566693, 0.025035866255222312, 0.025035866255222312, 0.050071732510444625, 0.05137404768270835, 0.05137404768270835, 0.5137404768270835, 0.05137404768270835, 0.05137404768270835, 0.05137404768270835, 0.15412214304812505, 0.05137404768270835, 0.01084975965696837, 0.8571310129005013, 0.01084975965696837, 0.01084975965696837, 0.01084975965696837, 0.02169951931393674, 0.01084975965696837, 0.01084975965696837, 0.01084975965696837, 0.01084975965696837, 0.01084975965696837, 0.01084975965696837, 0.6534830200992292, 0.038440177652895834, 0.038440177652895834, 0.19220088826447917, 0.563975013637101, 0.06266389040412233, 0.06266389040412233, 0.12532778080824467, 0.030508957996920372, 0.030508957996920372, 0.8542508239137704, 0.48016267820173486, 0.06002033477521686, 0.12004066955043372, 0.06002033477521686, 0.06002033477521686, 0.06002033477521686, 0.06002033477521686, 0.5781726200062202, 0.19272420666874004, 0.0271248588206688, 0.8951203410820704, 0.08250604507001563, 0.8250604507001564, 0.73508510313078, 0.16335224514017335, 0.010078040143595056, 0.020156080287190112, 0.010078040143595056, 0.010078040143595056, 0.6550726093336786, 0.010078040143595056, 0.010078040143595056, 0.22171688315909124, 0.010078040143595056, 0.010078040143595056, 0.010078040143595056, 0.010078040143595056, 0.8786449122444265, 0.017228331612635813, 0.017228331612635813, 0.017228331612635813, 0.017228331612635813, 0.8723104875222242, 0.11879505209590999, 0.029698763023977497, 0.1484938151198875, 0.35638515628772993, 0.029698763023977497, 0.05939752604795499, 0.029698763023977497, 0.029698763023977497, 0.029698763023977497, 0.029698763023977497, 0.029698763023977497, 0.05939752604795499, 0.0687235472170287, 0.7559590193873157, 0.0687235472170287, 0.01904103648945332, 0.01904103648945332, 0.07616414595781328, 0.01904103648945332, 0.01904103648945332, 0.01904103648945332, 0.01904103648945332, 0.03808207297890664, 0.01904103648945332, 0.01904103648945332, 0.01904103648945332, 0.6283542041519595, 0.03808207297890664, 0.17586921010545153, 0.6155422353690804, 0.0737900225650872, 0.0368950112825436, 0.0368950112825436, 0.0368950112825436, 0.5903201805206976, 0.0737900225650872, 0.0368950112825436, 0.0368950112825436, 0.0368950112825436, 0.8473085926468694, 0.046667389547406964, 0.14000216864222087, 0.046667389547406964, 0.046667389547406964, 0.09333477909481393, 0.046667389547406964, 0.3733391163792557, 0.046667389547406964, 0.09333477909481393, 0.046667389547406964, 0.023659790540011518, 0.015773193693341014, 0.20505151801343316, 0.07097937162003456, 0.023659790540011518, 0.015773193693341014, 0.05520617792669354, 0.06309277477336406, 0.015773193693341014, 0.007886596846670507, 0.05520617792669354, 0.007886596846670507, 0.05520617792669354, 0.007886596846670507, 0.047319581080023036, 0.15773193693341014, 0.023659790540011518, 0.023659790540011518, 0.015773193693341014, 0.07886596846670507, 0.039432984233352536, 0.6452117868464499, 0.0921731124066357, 0.0921731124066357, 0.017217680417258546, 0.017217680417258546, 0.3572668686581148, 0.025826520625887816, 0.03443536083451709, 0.025826520625887816, 0.03873978093883173, 0.03873978093883173, 0.012913260312943908, 0.017217680417258546, 0.05595746135609027, 0.012913260312943908, 0.03443536083451709, 0.03443536083451709, 0.012913260312943908, 0.09900166239923663, 0.030130940730202452, 0.017217680417258546, 0.021522100521573183, 0.06456630156471954, 0.03873978093883173, 0.015344403782448173, 0.015344403782448173, 0.015344403782448173, 0.015344403782448173, 0.015344403782448173, 0.015344403782448173, 0.8592866118170978, 0.04688815673101348, 0.04688815673101348, 0.7970986644272292, 0.012882387486395032, 0.012882387486395032, 0.012882387486395032, 0.012882387486395032, 0.012882387486395032, 0.012882387486395032, 0.012882387486395032, 0.025764774972790064, 0.025764774972790064, 0.012882387486395032, 0.09017671240476523, 0.012882387486395032, 0.7342960867245168, 0.1350505420389847, 0.5402021681559388, 0.8193039121224746, 0.03151168892778748, 0.03151168892778748, 0.03151168892778748, 0.07290276205313602, 0.004556422628321001, 0.013669267884963004, 0.013669267884963004, 0.47842437597370513, 0.004556422628321001, 0.013669267884963004, 0.05923349416817302, 0.05923349416817302, 0.018225690513284005, 0.013669267884963004, 0.02733853576992601, 0.009112845256642002, 0.013669267884963004, 0.009112845256642002, 0.009112845256642002, 0.009112845256642002, 0.02733853576992601, 0.08657202993809902, 0.009112845256642002, 0.05467707153985202, 0.12611477388316464, 0.40636982695686386, 0.02802550530736992, 0.01401275265368496, 0.01401275265368496, 0.0700637632684248, 0.01401275265368496, 0.04203825796105488, 0.01401275265368496, 0.04203825796105488, 0.09808926857579472, 0.08407651592210975, 0.11296155185938335, 0.5648077592969167, 0.5554711081411544, 0.04628925901176287, 0.04628925901176287, 0.04628925901176287, 0.04628925901176287, 0.04628925901176287, 0.04628925901176287, 0.04628925901176287, 0.09257851802352574, 0.12524568444671813, 0.12524568444671813, 0.5009827377868725, 0.12524568444671813, 0.12951996282107317, 0.12951996282107317, 0.5180798512842927, 0.06991335470775276, 0.6292201923697748, 0.06991335470775276, 0.06991335470775276, 0.014881897029104543, 0.05952758811641817, 0.014881897029104543, 0.04464569108731363, 0.05952758811641817, 0.014881897029104543, 0.4911026019604499, 0.014881897029104543, 0.029763794058209087, 0.014881897029104543, 0.04464569108731363, 0.014881897029104543, 0.029763794058209087, 0.014881897029104543, 0.014881897029104543, 0.13393707326194088, 0.8036835276636216, 0.15070584999455036, 0.030141169998910075, 0.15070584999455036, 0.030141169998910075, 0.6028233999782014, 0.5145449417335115, 0.0571716601926124, 0.1143433203852248, 0.0571716601926124, 0.1143433203852248, 0.0571716601926124, 0.018424896085733125, 0.018424896085733125, 0.05527468825719937, 0.018424896085733125, 0.05527468825719937, 0.1658240647715981, 0.018424896085733125, 0.05527468825719937, 0.018424896085733125, 0.018424896085733125, 0.4790472982290612, 0.05527468825719937, 0.07730202730211036, 0.7730202730211037, 0.11502943070968592, 0.11502943070968592, 0.5751471535484296, 0.033176373350206616, 0.033176373350206616, 0.33176373350206617, 0.4976456002530993, 0.033176373350206616, 0.23495441612471848, 0.11747720806235924, 0.46990883224943697, 0.3383251174770237, 0.5074876762155356, 0.047218993030197796, 0.8499418745435603, 0.5315245658923582, 0.22779624252529637, 0.07593208084176546, 0.07869897558656694, 0.7082907802791024, 0.07869897558656694, 0.03934948779328347, 0.07819392016120533, 0.02606464005373511, 0.02606464005373511, 0.02606464005373511, 0.7298099215045831, 0.02606464005373511, 0.02606464005373511, 0.7023806824829781, 0.08779758531037227, 0.08779758531037227, 0.04956747756394009, 0.04956747756394009, 0.04956747756394009, 0.04956747756394009, 0.04956747756394009, 0.594809730767281, 0.04956747756394009, 0.05417927724386564, 0.16253783173159694, 0.05417927724386564, 0.05417927724386564, 0.4876134951947908, 0.05417927724386564, 0.05417927724386564, 0.03648625066685759, 0.07297250133371518, 0.03648625066685759, 0.7662112640040093, 0.025519049553257643, 0.03402539940434352, 0.03402539940434352, 0.11908889791520234, 0.05954444895760117, 0.06805079880868704, 0.07655714865977294, 0.05954444895760117, 0.01701269970217176, 0.01701269970217176, 0.04253174925542941, 0.03402539940434352, 0.025519049553257643, 0.08506349851085881, 0.025519049553257643, 0.051038099106515286, 0.04253174925542941, 0.01701269970217176, 0.07655714865977294, 0.05954444895760117, 0.025519049553257643, 0.08432305303111982, 0.08432305303111982, 0.5902613712178387, 0.30634582464278043, 0.6126916492855609, 0.012160479194835701, 0.012160479194835701, 0.09728383355868561, 0.07296287516901422, 0.048641916779342806, 0.024320958389671403, 0.3404934174553996, 0.03648143758450711, 0.012160479194835701, 0.03648143758450711, 0.13376527114319273, 0.012160479194835701, 0.012160479194835701, 0.012160479194835701, 0.012160479194835701, 0.03648143758450711, 0.012160479194835701, 0.03648143758450711, 0.03648143758450711, 0.07030109657399931, 0.5624087725919945, 0.07030109657399931, 0.21090328972199796, 0.04115895990075481, 0.16463583960301925, 0.04115895990075481, 0.04115895990075481, 0.08231791980150963, 0.5762254386105673, 0.04115895990075481, 0.7667354769428567, 0.07667354769428567, 0.6323584309194894, 0.03719755475996996, 0.18598777379984982, 0.7656937154821389, 0.09571171443526737, 0.027792342906234616, 0.8615626300932732, 0.7880865419373778, 0.07164423108521617, 0.7320389813910826, 0.10457699734158322, 0.793735145326999, 0.09886748307775452, 0.7909398646220361, 0.898879047665474, 0.020862352624310052, 0.020862352624310052, 0.16689882099448042, 0.020862352624310052, 0.06258705787293016, 0.020862352624310052, 0.041724705248620104, 0.020862352624310052, 0.020862352624310052, 0.020862352624310052, 0.3546599946132709, 0.041724705248620104, 0.020862352624310052, 0.020862352624310052, 0.020862352624310052, 0.020862352624310052, 0.041724705248620104, 0.020862352624310052, 0.020862352624310052, 0.041724705248620104, 0.020862352624310052, 0.029707408844556884, 0.029707408844556884, 0.08912222653367065, 0.029707408844556884, 0.029707408844556884, 0.772392629958479, 0.025708112075192295, 0.025708112075192295, 0.07712433622557689, 0.10283244830076918, 0.3856216811278844, 0.07712433622557689, 0.025708112075192295, 0.025708112075192295, 0.23137300867673066, 0.10958705425940181, 0.6575223255564109, 0.10958705425940181, 0.08291514728289802, 0.7738747079737148, 0.027638382427632675, 0.027638382427632675, 0.027638382427632675, 0.004987812418149618, 0.08978062352669312, 0.01995124967259847, 0.014963437254448854, 0.029926874508897708, 0.029926874508897708, 0.009975624836299235, 0.014963437254448854, 0.009975624836299235, 0.004987812418149618, 0.01995124967259847, 0.2493906209074809, 0.014963437254448854, 0.029926874508897708, 0.01995124967259847, 0.04489031176334656, 0.03990249934519694, 0.014963437254448854, 0.009975624836299235, 0.3092443699252763, 0.009975624836299235, 0.009485464323951974, 0.009485464323951974, 0.018970928647903947, 0.009485464323951974, 0.018970928647903947, 0.009485464323951974, 0.009485464323951974, 0.009485464323951974, 0.009485464323951974, 0.7208952886203499, 0.018970928647903947, 0.009485464323951974, 0.018970928647903947, 0.009485464323951974, 0.1043401075634717, 0.1455594881537161, 0.5822379526148644, 0.38039660144378606, 0.19019830072189303, 0.09509915036094652, 0.19019830072189303, 0.528719853816658, 0.15106281537618801, 0.15106281537618801, 0.09414097405727494, 0.04707048702863747, 0.04707048702863747, 0.04707048702863747, 0.04707048702863747, 0.09414097405727494, 0.3294934092004623, 0.04707048702863747, 0.09414097405727494, 0.7211394631756088, 0.6175782408675758, 0.04117188272450505, 0.04117188272450505, 0.04117188272450505, 0.04117188272450505, 0.04117188272450505, 0.04117188272450505, 0.07210508323124658, 0.7931559155437123, 0.03493719394563889, 0.8035554607496945, 0.03493719394563889, 0.03493719394563889, 0.7729651479532985, 0.08588501643925539, 0.8109625353635623, 0.07372386685123293, 0.06279111358298677, 0.06279111358298677, 0.06279111358298677, 0.06279111358298677, 0.06279111358298677, 0.06279111358298677, 0.06279111358298677, 0.06279111358298677, 0.3767466814979206, 0.06279111358298677, 0.7628598852493981, 0.04015052027628411, 0.04015052027628411, 0.04015052027628411, 0.04015052027628411, 0.0473784883649978, 0.0473784883649978, 0.0473784883649978, 0.0473784883649978, 0.0473784883649978, 0.0473784883649978, 0.0473784883649978, 0.0473784883649978, 0.5685418603799736, 0.10372645038869029, 0.05186322519434514, 0.05186322519434514, 0.6742219275264869, 0.05186322519434514, 0.017090602768942503, 0.017090602768942503, 0.10254361661365502, 0.039064234900440004, 0.039064234900440004, 0.046388778944272506, 0.009766058725110001, 0.03418120553788501, 0.029298176175330006, 0.017090602768942503, 0.039064234900440004, 0.012207573406387501, 0.048830293625550004, 0.31739690856607505, 0.019532117450220002, 0.026856661494052504, 0.03418120553788501, 0.036622720219162505, 0.03173969085660751, 0.012207573406387501, 0.07324544043832501, 0.6107068869882766, 0.20356896232942553, 0.0321996560589317, 0.17709810832412434, 0.01609982802946585, 0.01609982802946585, 0.17709810832412434, 0.01609982802946585, 0.3702960446777145, 0.0321996560589317, 0.01609982802946585, 0.01609982802946585, 0.01609982802946585, 0.01609982802946585, 0.01609982802946585, 0.04829948408839754, 0.050884998867060154, 0.10176999773412031, 0.050884998867060154, 0.10176999773412031, 0.050884998867060154, 0.5088499886706016, 0.050884998867060154, 0.050884998867060154, 0.050884998867060154, 0.025755447671118346, 0.025755447671118346, 0.025755447671118346, 0.025755447671118346, 0.025755447671118346, 0.2317990290400651, 0.5408644010934852, 0.025755447671118346, 0.05151089534223669, 0.7971292591582954, 0.7309289088457535, 0.008576375113280571, 0.034305500453122285, 0.008576375113280571, 0.025729125339841716, 0.06861100090624457, 0.06861100090624457, 0.008576375113280571, 0.025729125339841716, 0.008576375113280571, 0.025729125339841716, 0.017152750226561143, 0.025729125339841716, 0.017152750226561143, 0.008576375113280571, 0.008576375113280571, 0.008576375113280571, 0.017152750226561143, 0.025729125339841716, 0.5831935077030789, 0.008576375113280571, 0.03552846995796817, 0.03996952870271419, 0.03848917578779885, 0.028126705383391466, 0.11694788027831189, 0.04441058744746021, 0.03552846995796817, 0.06069446951152895, 0.05033199910712157, 0.016283882064068743, 0.10954611570373518, 0.028126705383391466, 0.03404811704305283, 0.06809623408610566, 0.022205293723730105, 0.04144988161762953, 0.03552846995796817, 0.026646352468476124, 0.04737129327729089, 0.06809623408610566, 0.05329270493695225, 0.029155156422427008, 0.029155156422427008, 0.029155156422427008, 0.029155156422427008, 0.029155156422427008, 0.029155156422427008, 0.40817218991397813, 0.029155156422427008, 0.029155156422427008, 0.3207067206466971, 0.10843998084296892, 0.10843998084296892, 0.10843998084296892, 0.4337599233718757, 0.7958259692622394, 0.0885831331807591, 0.7086650654460728, 0.031239215239996974, 0.031239215239996974, 0.06247843047999395, 0.031239215239996974, 0.031239215239996974, 0.4998274438399516, 0.06247843047999395, 0.031239215239996974, 0.031239215239996974, 0.06247843047999395, 0.031239215239996974, 0.06247843047999395, 0.017456002891149375, 0.017456002891149375, 0.03491200578229875, 0.026184004336724062, 0.17456002891149375, 0.03491200578229875, 0.052368008673448124, 0.04364000722787344, 0.017456002891149375, 0.026184004336724062, 0.22692803758494187, 0.008728001445574687, 0.03491200578229875, 0.04364000722787344, 0.017456002891149375, 0.03491200578229875, 0.026184004336724062, 0.017456002891149375, 0.04364000722787344, 0.0698240115645975, 0.03491200578229875, 0.5789702770247335, 0.08271003957496191, 0.08271003957496191, 0.08271003957496191, 0.08271003957496191, 0.4957522019005031, 0.12393805047512578, 0.12393805047512578, 0.12393805047512578, 0.07391483326334149, 0.07391483326334149, 0.07391483326334149, 0.4434889995800489, 0.07391483326334149, 0.07391483326334149, 0.030790385405017755, 0.030790385405017755, 0.8313404059354794, 0.06158077081003551, 0.014779449344613156, 0.014779449344613156, 0.014779449344613156, 0.014779449344613156, 0.7833108152644972, 0.044338348033839466, 0.05911779737845262, 0.014779449344613156, 0.7991633193985067, 0.009869040498840092, 0.07895232399072073, 0.009869040498840092, 0.029607121496520276, 0.019738080997680183, 0.019738080997680183, 0.009869040498840092, 0.009869040498840092, 0.019738080997680183, 0.019738080997680183, 0.009869040498840092, 0.16777368848028157, 0.009869040498840092, 0.2960712149652028, 0.029607121496520276, 0.019738080997680183, 0.009869040498840092, 0.2368569719721622, 0.009869040498840092, 0.02166729848893176, 0.02166729848893176, 0.02166729848893176, 0.11917014168912468, 0.02166729848893176, 0.1083364924446588, 0.01083364924446588, 0.02166729848893176, 0.02166729848893176, 0.01083364924446588, 0.01083364924446588, 0.0541682462223294, 0.01083364924446588, 0.01083364924446588, 0.032500947733397643, 0.032500947733397643, 0.01083364924446588, 0.3141758280895105, 0.15167108942252233, 0.01083364924446588, 0.0536931064903662, 0.0536931064903662, 0.0536931064903662, 0.0536931064903662, 0.0536931064903662, 0.0536931064903662, 0.0536931064903662, 0.0536931064903662, 0.536931064903662, 0.032599325662160845, 0.026079460529728676, 0.05215892105945735, 0.019559595397296507, 0.17603635857566857, 0.045639055927025184, 0.026079460529728676, 0.032599325662160845, 0.039119190794593015, 0.006519865132432169, 0.20211581910539725, 0.019559595397296507, 0.032599325662160845, 0.05867878619188952, 0.013039730264864338, 0.039119190794593015, 0.032599325662160845, 0.026079460529728676, 0.045639055927025184, 0.045639055927025184, 0.026079460529728676, 0.02964113247661993, 0.02964113247661993, 0.03952150996882658, 0.01976075498441329, 0.09386358617596312, 0.02964113247661993, 0.01976075498441329, 0.04940188746103322, 0.02470094373051661, 0.009880377492206644, 0.2964113247661993, 0.01976075498441329, 0.02470094373051661, 0.05434207620713654, 0.02470094373051661, 0.014820566238309966, 0.02964113247661993, 0.01976075498441329, 0.04940188746103322, 0.08398320868375647, 0.034581321222723255, 0.011649714511477343, 0.023299429022954687, 0.011649714511477343, 0.011649714511477343, 0.011649714511477343, 0.011649714511477343, 0.023299429022954687, 0.74558172873455, 0.011649714511477343, 0.023299429022954687, 0.011649714511477343, 0.09319771609181875, 0.023299429022954687, 0.8411270106648252, 0.05022607218088358, 0.028252165601747016, 0.05022607218088358, 0.02511303609044179, 0.04708694266957836, 0.034530424624357466, 0.05650433120349403, 0.05336520169218881, 0.034530424624357466, 0.018834777067831345, 0.0784782377826306, 0.02511303609044179, 0.034530424624357466, 0.06278259022610448, 0.03766955413566269, 0.04708694266957836, 0.028252165601747016, 0.02511303609044179, 0.03139129511305224, 0.18520864116700822, 0.04394781315827314, 0.052163483824739516, 0.052163483824739516, 0.052163483824739516, 0.5737983220721347, 0.052163483824739516, 0.052163483824739516, 0.052163483824739516, 0.052163483824739516, 0.052163483824739516, 0.6289477798670569, 0.08984968283815098, 0.08984968283815098, 0.03310295103762145, 0.016551475518810727, 0.03310295103762145, 0.016551475518810727, 0.04965442655643218, 0.016551475518810727, 0.016551475518810727, 0.016551475518810727, 0.016551475518810727, 0.03310295103762145, 0.016551475518810727, 0.03310295103762145, 0.04965442655643218, 0.016551475518810727, 0.016551475518810727, 0.6124045941959969, 0.016551475518810727, 0.016551475518810727, 0.7342323068711422, 0.38137407159897757, 0.06356234526649626, 0.06356234526649626, 0.31781172633248134, 0.018806947969952723, 0.037613895939905446, 0.018806947969952723, 0.018806947969952723, 0.07522779187981089, 0.018806947969952723, 0.037613895939905446, 0.05642084390985817, 0.05642084390985817, 0.037613895939905446, 0.037613895939905446, 0.018806947969952723, 0.018806947969952723, 0.037613895939905446, 0.018806947969952723, 0.05642084390985817, 0.018806947969952723, 0.4137528553389599, 0.7508053622788229, 0.05553064598143442, 0.7774290437400819, 0.13305519597815962, 0.6652759798907981, 0.06652759798907981, 0.7215141048002374, 0.12025235080003956, 0.07449792321223042, 0.024832641070743476, 0.6704813089100738, 0.024832641070743476, 0.024832641070743476, 0.024832641070743476, 0.04966528214148695, 0.07449792321223042, 0.024832641070743476, 0.6119373348886671, 0.30596866744433354, 0.08107852028249793, 0.020269630070624482, 0.020269630070624482, 0.26350519091811825, 0.08107852028249793, 0.08107852028249793, 0.06080889021187345, 0.040539260141248964, 0.020269630070624482, 0.020269630070624482, 0.040539260141248964, 0.1013481503531224, 0.020269630070624482, 0.020269630070624482, 0.020269630070624482, 0.040539260141248964, 0.06080889021187345, 0.027083043551527217, 0.023697663107586316, 0.1636267214571436, 0.025954583403546918, 0.06996452917477865, 0.02482612325556662, 0.04626686606719233, 0.03046842399546812, 0.02933996384748782, 0.02933996384748782, 0.1433144387934982, 0.027083043551527217, 0.04288148562325143, 0.050780706659113536, 0.019183822515665114, 0.04175302547527113, 0.03159688414344842, 0.02482612325556662, 0.02821150369950752, 0.06883606902679834, 0.04965224651113324, 0.7644993613442118, 0.0849443734826902, 0.10961269006262472, 0.6576761403757484, 0.712079908031178, 0.039559994890621, 0.039559994890621, 0.079119989781242, 0.039559994890621, 0.055887651760175516, 0.055887651760175516, 0.055887651760175516, 0.055887651760175516, 0.055887651760175516, 0.5588765176017552, 0.055887651760175516, 0.055887651760175516, 0.0129435789019684, 0.0129435789019684, 0.0129435789019684, 0.3753637881570836, 0.0517743156078736, 0.0129435789019684, 0.0388307367059052, 0.0388307367059052, 0.0776614734118104, 0.0258871578039368, 0.0129435789019684, 0.0129435789019684, 0.0129435789019684, 0.0258871578039368, 0.0258871578039368, 0.0517743156078736, 0.0129435789019684, 0.0129435789019684, 0.1553229468236208, 0.44632946034256976, 0.0743882433904283, 0.2975529735617132, 0.018077280019768983, 0.009038640009884491, 0.09038640009884491, 0.036154560039537965, 0.045193200049422455, 0.009038640009884491, 0.045193200049422455, 0.018077280019768983, 0.018077280019768983, 0.06327048006919143, 0.18981144020757432, 0.009038640009884491, 0.018077280019768983, 0.027115920029653472, 0.018077280019768983, 0.036154560039537965, 0.027115920029653472, 0.009038640009884491, 0.027115920029653472, 0.25308192027676574, 0.027115920029653472, 0.21169226759644297, 0.6350768027893289, 0.10371165399129781, 0.0222239258552781, 0.0666717775658343, 0.0444478517105562, 0.0222239258552781, 0.0222239258552781, 0.0222239258552781, 0.1629754562720394, 0.0148159505701854, 0.037039876425463504, 0.0148159505701854, 0.0148159505701854, 0.0296319011403708, 0.1185276045614832, 0.0222239258552781, 0.10371165399129781, 0.0148159505701854, 0.0222239258552781, 0.051855826995648904, 0.0074079752850927, 0.07407975285092701, 0.1414064789673055, 0.282812957934611, 0.42421943690191644, 0.06042678186344876, 0.014502427647227702, 0.004834142549075901, 0.0024170712745379503, 0.007251213823613851, 0.012085356372689753, 0.004834142549075901, 0.635689745203481, 0.004834142549075901, 0.009668285098151801, 0.012085356372689753, 0.014502427647227702, 0.004834142549075901, 0.03625606911806926, 0.04350728294168311, 0.08459749460882826, 0.009668285098151801, 0.009668285098151801, 0.009668285098151801, 0.007251213823613851, 0.014502427647227702, 0.07431047671791295, 0.22293143015373884, 0.5944838137433036, 0.02847775319566465, 0.02847775319566465, 0.02847775319566465, 0.02847775319566465, 0.08543325958699395, 0.0569555063913293, 0.02847775319566465, 0.3417330383479758, 0.02847775319566465, 0.02847775319566465, 0.02847775319566465, 0.02847775319566465, 0.02847775319566465, 0.0569555063913293, 0.02847775319566465, 0.0569555063913293, 0.02847775319566465, 0.02847775319566465, 0.09537219837343965, 0.4768609918671982, 0.09537219837343965, 0.09537219837343965, 0.11345199175797285, 0.4538079670318914, 0.11345199175797285, 0.11345199175797285, 0.11345199175797285, 0.08020472954639045, 0.1604094590927809, 0.5614331068247331, 0.08020472954639045, 0.7889063301763685, 0.05635045215545489, 0.05635045215545489, 0.08790374136624447, 0.043951870683122236, 0.021975935341561118, 0.021975935341561118, 0.5713743188805891, 0.021975935341561118, 0.021975935341561118, 0.021975935341561118, 0.13185561204936672, 0.6955891618218676, 0.08694864522773345, 0.08694864522773345, 0.0809282243372602, 0.0404641121686301, 0.7688181312039719, 0.11854231132728377, 0.039514103775761256, 0.7112538679637026, 0.039514103775761256, 0.12298377045061094, 0.12298377045061094, 0.6149188522530546, 0.07101684059408506, 0.49711788415859537, 0.07101684059408506, 0.07101684059408506, 0.07101684059408506, 0.07101684059408506, 0.07101684059408506, 0.15408627609597314, 0.07704313804798657, 0.6163451043838926, 0.07704313804798657, 0.38075760913798773, 0.22845456548279264, 0.22845456548279264, 0.8867580669058147, 0.026771944513795002, 0.8567022244414401, 0.026771944513795002, 0.026771944513795002, 0.026771944513795002, 0.029338332542249896, 0.557428318302748, 0.014669166271124948, 0.05867666508449979, 0.014669166271124948, 0.014669166271124948, 0.029338332542249896, 0.014669166271124948, 0.029338332542249896, 0.05867666508449979, 0.014669166271124948, 0.014669166271124948, 0.029338332542249896, 0.014669166271124948, 0.014669166271124948, 0.014669166271124948, 0.05867666508449979, 0.029338332542249896, 0.057496392970866256, 0.03833092864724417, 0.03833092864724417, 0.03833092864724417, 0.08624458945629938, 0.04791366080905521, 0.04791366080905521, 0.019165464323622084, 0.009582732161811042, 0.019165464323622084, 0.06707912513267729, 0.03833092864724417, 0.019165464323622084, 0.028748196485433128, 0.04791366080905521, 0.04791366080905521, 0.028748196485433128, 0.028748196485433128, 0.20123737539803188, 0.04791366080905521, 0.03833092864724417, 0.09334675387134185, 0.653427277099393, 0.016134924514302457, 0.06453969805720983, 0.04840477354290737, 0.20975401868593196, 0.03226984902860491, 0.03226984902860491, 0.016134924514302457, 0.016134924514302457, 0.016134924514302457, 0.04840477354290737, 0.016134924514302457, 0.016134924514302457, 0.2742937167431418, 0.016134924514302457, 0.016134924514302457, 0.09680954708581474, 0.03226984902860491, 0.016134924514302457, 0.05654074057962174, 0.09423456763270291, 0.32039752995118986, 0.018846913526540582, 0.018846913526540582, 0.05654074057962174, 0.05654074057962174, 0.018846913526540582, 0.037693827053081164, 0.05654074057962174, 0.018846913526540582, 0.037693827053081164, 0.018846913526540582, 0.018846913526540582, 0.018846913526540582, 0.037693827053081164, 0.018846913526540582, 0.11308148115924348, 0.08783920687506604, 0.08783920687506604, 0.6148744481254622, 0.08783920687506604, 0.3172244831789678, 0.03172244831789678, 0.03172244831789678, 0.03172244831789678, 0.03172244831789678, 0.03172244831789678, 0.03172244831789678, 0.34894693149686457, 0.03172244831789678, 0.06344489663579356, 0.10824252100524608, 0.7576976470367226, 0.05412126050262304, 0.10815076979203361, 0.10815076979203361, 0.10815076979203361, 0.10815076979203361, 0.43260307916813445, 0.037218104816847175, 0.018609052408423588, 0.1302633668589651, 0.05582715722527076, 0.4652263102105897, 0.018609052408423588, 0.018609052408423588, 0.018609052408423588, 0.018609052408423588, 0.018609052408423588, 0.018609052408423588, 0.018609052408423588, 0.07443620963369435, 0.018609052408423588, 0.07443620963369435, 0.019914955038969936, 0.019914955038969936, 0.21906450542866931, 0.019914955038969936, 0.019914955038969936, 0.019914955038969936, 0.019914955038969936, 0.05974486511690981, 0.019914955038969936, 0.019914955038969936, 0.019914955038969936, 0.019914955038969936, 0.019914955038969936, 0.39829910077939873, 0.05974486511690981, 0.7933270203843691, 0.04175405370444048, 0.04175405370444048, 0.04175405370444048, 0.01034261249317798, 0.7756959369883485, 0.01034261249317798, 0.02068522498635596, 0.01034261249317798, 0.01034261249317798, 0.04137044997271192, 0.06205567495906788, 0.01034261249317798, 0.01034261249317798, 0.01034261249317798, 0.8809212330099739, 0.10695358990136236, 0.10695358990136236, 0.5347679495068118, 0.10695358990136236, 0.6363597643590613, 0.10605996072651022, 0.10605996072651022, 0.4200464616786368, 0.3675406539688072, 0.1050116154196592, 0.01904563042872561, 0.09522815214362805, 0.78087084757775, 0.01904563042872561, 0.03809126085745122, 0.20989116190302662, 0.5247279047575666, 0.08144467305694203, 0.08144467305694203, 0.08144467305694203, 0.7330020575124783, 0.05513378900120327, 0.11026757800240654, 0.44107031200962615, 0.05513378900120327, 0.05513378900120327, 0.11026757800240654, 0.05513378900120327, 0.05513378900120327, 0.1875059601557572, 0.06250198671858574, 0.06250198671858574, 0.06250198671858574, 0.4375139070301001, 0.06250198671858574, 0.06250198671858574, 0.15883679533897357, 0.4765103860169207, 0.15883679533897357, 0.0359545422802231, 0.0359545422802231, 0.7550453878846851, 0.0359545422802231, 0.0719090845604462, 0.10480322805137367, 0.6288193683082419, 0.03474317203786548, 0.01737158601893274, 0.0868579300946637, 0.03474317203786548, 0.7469781988141078, 0.01737158601893274, 0.01737158601893274, 0.03474317203786548, 0.7897542405796538, 0.04645613179880317, 0.09291226359760633, 0.45480530052145257, 0.11370132513036314, 0.22740265026072629, 0.05870097009234074, 0.05870097009234074, 0.5870097009234073, 0.05870097009234074, 0.05870097009234074, 0.05870097009234074, 0.05870097009234074, 0.7124602483927568, 0.0890575310490946, 0.0890575310490946, 0.027235199568289854, 0.04902335922292174, 0.032682239481947824, 0.027235199568289854, 0.06536447896389565, 0.05991743905023768, 0.05447039913657971, 0.07081151887755362, 0.03812927939560579, 0.027235199568289854, 0.016341119740973912, 0.027235199568289854, 0.11438783818681739, 0.09804671844584348, 0.02178815965463188, 0.04357631930926376, 0.032682239481947824, 0.027235199568289854, 0.04902335922292174, 0.07625855879121159, 0.03812927939560579, 0.7939531692346642, 0.08821701880385158, 0.806957089466103, 0.02305591684188866, 0.01152795842094433, 0.01152795842094433, 0.01152795842094433, 0.01152795842094433, 0.01152795842094433, 0.01152795842094433, 0.01152795842094433, 0.01152795842094433, 0.01152795842094433, 0.01152795842094433, 0.01152795842094433, 0.01152795842094433, 0.01152795842094433, 0.0267766939294231, 0.020082520447067327, 0.0535533878588462, 0.01338834696471155, 0.1338834696471155, 0.040165040894134654, 0.033470867411778876, 0.04685921437649043, 0.040165040894134654, 0.020082520447067327, 0.18743685750596173, 0.033470867411778876, 0.0267766939294231, 0.06024756134120198, 0.020082520447067327, 0.033470867411778876, 0.040165040894134654, 0.01338834696471155, 0.04685921437649043, 0.08702425527062509, 0.033470867411778876, 0.014425903351480945, 0.014425903351480945, 0.11540722681184756, 0.27409216367813793, 0.014425903351480945, 0.014425903351480945, 0.043277710054442836, 0.014425903351480945, 0.014425903351480945, 0.20196264692073324, 0.014425903351480945, 0.02885180670296189, 0.043277710054442836, 0.043277710054442836, 0.043277710054442836, 0.014425903351480945, 0.02885180670296189, 0.02885180670296189, 0.12901109337843808, 0.12901109337843808, 0.5160443735137523, 0.09503101435061295, 0.7602481148049036, 0.035161267602619235, 0.04771886317498325, 0.050230382289456046, 0.07785709254865687, 0.06278797786182007, 0.057764939632874455, 0.04520734406051045, 0.06529949697629286, 0.03013822937367363, 0.02009215291578242, 0.05274190140392885, 0.03767278671709204, 0.025115191144728023, 0.10799532192233051, 0.027626710259200826, 0.03264974848814643, 0.050230382289456046, 0.025115191144728023, 0.04520734406051045, 0.06027645874734726, 0.042695824946037644, 0.8880198713734486, 0.04426046596430431, 0.8557023419765499, 0.029506977309536202, 0.014753488654768101, 0.014753488654768101, 0.02393220044507271, 0.8615592160226174, 0.02393220044507271, 0.04786440089014542, 0.020928558482181902, 0.7743566638407303, 0.10464279241090951, 0.041857116964363804, 0.020928558482181902, 0.6547511278181484, 0.1636877819545371, 0.05872349483068658, 0.8221289276296122, 0.14043776993749477, 0.07021888496874738, 0.07021888496874738, 0.07021888496874738, 0.4915321947812317, 0.07021888496874738, 0.18202602047705152, 0.01137662627981572, 0.00568831313990786, 0.03412987883944716, 0.00568831313990786, 0.00568831313990786, 0.03981819197935502, 0.01706493941972358, 0.00568831313990786, 0.01137662627981572, 0.00568831313990786, 0.0284415656995393, 0.02275325255963144, 0.00568831313990786, 0.01137662627981572, 0.01137662627981572, 0.529013122011431, 0.00568831313990786, 0.0568831313990786, 0.2645397744271777, 0.01259713211557989, 0.01259713211557989, 0.01259713211557989, 0.01259713211557989, 0.6298566057789945, 0.01259713211557989, 0.39562733682996026, 0.4450807539337053, 0.04945341710374503, 0.8696478926233095, 0.0378107779401439, 0.10407788755289615, 0.00867315729607468, 0.02601947188822404, 0.02601947188822404, 0.07805841566467212, 0.00867315729607468, 0.02601947188822404, 0.22550208969794167, 0.01734631459214936, 0.01734631459214936, 0.0433657864803734, 0.00867315729607468, 0.02601947188822404, 0.06938525836859744, 0.060712101072522756, 0.06938525836859744, 0.02601947188822404, 0.02601947188822404, 0.060712101072522756, 0.01734631459214936, 0.060712101072522756, 0.118430315203984, 0.473721260815936, 0.118430315203984, 0.118430315203984, 0.04846264785576207, 0.4846264785576207, 0.04846264785576207, 0.04846264785576207, 0.04846264785576207, 0.04846264785576207, 0.04846264785576207, 0.04846264785576207, 0.04846264785576207, 0.04846264785576207, 0.03056932594357541, 0.03056932594357541, 0.6419558448150836, 0.15284662971787705, 0.03056932594357541, 0.03056932594357541, 0.0896600512866938, 0.1793201025733876, 0.44830025643346894, 0.23666474567740647, 0.47332949135481295, 0.7709618527123386, 0.11013740753033409, 0.11013740753033409, 0.22130017193378118, 0.6639005158013435, 0.3419698262645221, 0.11398994208817403, 0.11398994208817403, 0.11398994208817403, 0.11398994208817403, 0.4228323019366617, 0.21141615096833086, 0.10570807548416543, 0.10570807548416543, 0.41152843571794445, 0.13717614523931482, 0.13717614523931482, 0.03264962150600643, 0.016324810753003214, 0.006529924301201286, 0.009794886451801928, 0.052239394409610285, 0.0228547350542045, 0.039179545807207714, 0.006529924301201286, 0.026119697204805142, 0.009794886451801928, 0.029384659355405785, 0.013059848602402571, 0.013059848602402571, 0.009794886451801928, 0.039179545807207714, 0.0228547350542045, 0.013059848602402571, 0.013059848602402571, 0.009794886451801928, 0.604017997861119, 0.003264962150600643, 0.7741400114712911, 0.07121583119281312, 0.14243166238562624, 0.07121583119281312, 0.07121583119281312, 0.42729498715687875, 0.07121583119281312, 0.2524482734761764, 0.036064039068025196, 0.036064039068025196, 0.5409605860203779, 0.036064039068025196, 0.01419413083248396, 0.04258239249745188, 0.02838826166496792, 0.04258239249745188, 0.02838826166496792, 0.02838826166496792, 0.0709706541624198, 0.05677652332993584, 0.04258239249745188, 0.09935891582738772, 0.04258239249745188, 0.0709706541624198, 0.01419413083248396, 0.01419413083248396, 0.08516478499490376, 0.17032956998980753, 0.02838826166496792, 0.04258239249745188, 0.08516478499490376, 0.7218121121238723, 0.10311601601769604, 0.6274518686794517, 0.08963598123992168, 0.17927196247984337, 0.7067712558949684, 0.07853013954388538, 0.2168751004156776, 0.07229170013855919, 0.4337502008313552, 0.07229170013855919, 0.07229170013855919, 0.06276902664453396, 0.06276902664453396, 0.06276902664453396, 0.06276902664453396, 0.06276902664453396, 0.06276902664453396, 0.37661415986720376, 0.06276902664453396, 0.06276902664453396, 0.02971150321416319, 0.08913450964248958, 0.02971150321416319, 0.05942300642832638, 0.02971150321416319, 0.02971150321416319, 0.02971150321416319, 0.02971150321416319, 0.02971150321416319, 0.47538405142661105, 0.02971150321416319, 0.02971150321416319, 0.05942300642832638, 0.02971150321416319, 0.42631508475697494, 0.28421005650465, 0.8013014357687163, 0.08013014357687162, 0.01986730665829371, 0.15893845326634967, 0.01986730665829371, 0.03973461331658742, 0.03973461331658742, 0.03973461331658742, 0.01986730665829371, 0.01986730665829371, 0.01986730665829371, 0.03973461331658742, 0.01986730665829371, 0.4569480531407553, 0.01986730665829371, 0.03973461331658742, 0.04292813345848158, 0.04292813345848158, 0.7297782687941868, 0.04292813345848158, 0.04292813345848158, 0.09747612987557788, 0.09747612987557788, 0.09747612987557788, 0.5848567792534674, 0.07709845219416858, 0.23129535658250572, 0.15419690438833716, 0.3469430348737586, 0.07709845219416858, 0.03854922609708429, 0.10733588670826424, 0.6440153202495854, 0.10733588670826424, 0.035778628902754746, 0.035778628902754746, 0.07767564066751095, 0.031776398454890845, 0.10592132818296948, 0.028245687515458532, 0.07767564066751095, 0.01765355469716158, 0.11651346100126644, 0.01765355469716158, 0.024714976576026212, 0.024714976576026212, 0.049429953152052425, 0.03530710939432316, 0.024714976576026212, 0.03883782033375548, 0.028245687515458532, 0.03883782033375548, 0.08120635160694327, 0.031776398454890845, 0.01765355469716158, 0.07414492972807864, 0.049429953152052425, 0.31492483199032967, 0.05904840599818681, 0.019682801999395604, 0.019682801999395604, 0.03936560399879121, 0.09841400999697801, 0.07873120799758242, 0.019682801999395604, 0.019682801999395604, 0.05904840599818681, 0.019682801999395604, 0.07873120799758242, 0.05904840599818681, 0.019682801999395604, 0.03936560399879121, 0.019682801999395604, 0.019682801999395604, 0.019682801999395604, 0.02800117591029119, 0.014000587955145595, 0.07000293977572797, 0.7700323375330077, 0.014000587955145595, 0.05600235182058238, 0.014000587955145595, 0.900687461078153, 0.6652278693802233, 0.12095052170549514, 0.02301729011905579, 0.02301729011905579, 0.02301729011905579, 0.6214668332145064, 0.02301729011905579, 0.02301729011905579, 0.02301729011905579, 0.13810374071433473, 0.02301729011905579, 0.04603458023811158, 0.1479365967259226, 0.5917463869036904, 0.1263865663442372, 0.1895798495163558, 0.5687395485490674, 0.07359587398149106, 0.4415752438889463, 0.14719174796298212, 0.14719174796298212, 0.07359587398149106, 0.05438777090504226, 0.02719388545252113, 0.05438777090504226, 0.1631633127151268, 0.13596942726260566, 0.0815816563575634, 0.29913273997773243, 0.02719388545252113, 0.02719388545252113, 0.02719388545252113, 0.02719388545252113, 0.02719388545252113, 0.4874364851972182, 0.018053203155452526, 0.03610640631090505, 0.018053203155452526, 0.018053203155452526, 0.37911726626450304, 0.018053203155452526, 0.018053203155452526, 0.03501617484320928, 0.008080655733048295, 0.0053871038220321965, 0.0053871038220321965, 0.010774207644064393, 0.008080655733048295, 0.008080655733048295, 0.18854863377112688, 0.008080655733048295, 0.010774207644064393, 0.008080655733048295, 0.010774207644064393, 0.01616131146609659, 0.5171619669150909, 0.04848393439828977, 0.026935519110160983, 0.021548415288128786, 0.008080655733048295, 0.008080655733048295, 0.026935519110160983, 0.021548415288128786, 0.018694301424163597, 0.009347150712081798, 0.011216580854498158, 0.005608290427249079, 0.013086010996914517, 0.009347150712081798, 0.007477720569665438, 0.13646840039639424, 0.007477720569665438, 0.009347150712081798, 0.011216580854498158, 0.009347150712081798, 0.011216580854498158, 0.5888704948611533, 0.031780312421078115, 0.024302591851412675, 0.024302591851412675, 0.007477720569665438, 0.013086010996914517, 0.03364974256349448, 0.018694301424163597, 0.12433995367967365, 0.6216997683983683, 0.12433995367967365, 0.03889700897043972, 0.00972425224260993, 0.01944850448521986, 0.01944850448521986, 0.058345513455659574, 0.00972425224260993, 0.01944850448521986, 0.03889700897043972, 0.14586378363914893, 0.00972425224260993, 0.00972425224260993, 0.01944850448521986, 0.00972425224260993, 0.01944850448521986, 0.01944850448521986, 0.03889700897043972, 0.01944850448521986, 0.00972425224260993, 0.058345513455659574, 0.408418594189617, 0.13344014328433962, 0.5337605731373585, 0.13344014328433962, 0.18499939069323956, 0.09249969534661978, 0.5549981720797187, 0.09249969534661978, 0.026266625814726566, 0.026266625814726566, 0.026266625814726566, 0.026266625814726566, 0.42026601303562505, 0.1575997548883594, 0.05253325162945313, 0.026266625814726566, 0.026266625814726566, 0.026266625814726566, 0.026266625814726566, 0.10506650325890626, 0.024103241237820816, 0.024103241237820816, 0.04820648247564163, 0.024103241237820816, 0.024103241237820816, 0.024103241237820816, 0.024103241237820816, 0.650787513421162, 0.024103241237820816, 0.04820648247564163, 0.024103241237820816, 0.024103241237820816, 0.05062753280338061, 0.05062753280338061, 0.03375168853558707, 0.03375168853558707, 0.016875844267793535, 0.016875844267793535, 0.016875844267793535, 0.016875844267793535, 0.016875844267793535, 0.05062753280338061, 0.5569028608371867, 0.016875844267793535, 0.03375168853558707, 0.016875844267793535, 0.05062753280338061, 0.04649833642557032, 0.09299667285114065, 0.04649833642557032, 0.02324916821278516, 0.11624584106392581, 0.04649833642557032, 0.02324916821278516, 0.06974750463835548, 0.02324916821278516, 0.02324916821278516, 0.02324916821278516, 0.04649833642557032, 0.04649833642557032, 0.02324916821278516, 0.02324916821278516, 0.02324916821278516, 0.23249168212785162, 0.02324916821278516, 0.04649833642557032, 0.02324916821278516, 0.02324916821278516, 0.026308914900873566, 0.0789267447026207, 0.013154457450436783, 0.013154457450436783, 0.026308914900873566, 0.05261782980174713, 0.013154457450436783, 0.026308914900873566, 0.013154457450436783, 0.013154457450436783, 0.013154457450436783, 0.013154457450436783, 0.6182595001705288, 0.03946337235131035, 0.013154457450436783, 0.026308914900873566, 0.5932216715021886, 0.14830541787554716, 0.06655179236867347, 0.5989661313180612, 0.06655179236867347, 0.06655179236867347, 0.06655179236867347, 0.7195002336936386, 0.08993752921170482, 0.3741641570148733, 0.40089016823022144, 0.05345202243069619, 0.026726011215348094, 0.026726011215348094, 0.026726011215348094, 0.026726011215348094, 0.17651683824558767, 0.04412920956139692, 0.5736797242981599, 0.04412920956139692, 0.04412920956139692, 0.04412920956139692, 0.10497564046285537, 0.5248782023142768, 0.10497564046285537, 0.0982674863720651, 0.6878724046044558, 0.15320957116850317, 0.6128382846740127, 0.15320957116850317, 0.15320957116850317, 0.026878184814542915, 0.026878184814542915, 0.026878184814542915, 0.026878184814542915, 0.026878184814542915, 0.026878184814542915, 0.05375636962908583, 0.5644418811054012, 0.026878184814542915, 0.026878184814542915, 0.026878184814542915, 0.026878184814542915, 0.05375636962908583, 0.08063455444362874, 0.10517751557069056, 0.10517751557069056, 0.5258875778534529, 0.10517751557069056, 0.6919927958979637, 0.04942805684985455, 0.04942805684985455, 0.04942805684985455, 0.04942805684985455, 0.04942805684985455, 0.03866890712867199, 0.6380369676230879, 0.05800336069300799, 0.019334453564335996, 0.019334453564335996, 0.03866890712867199, 0.03866890712867199, 0.019334453564335996, 0.019334453564335996, 0.019334453564335996, 0.019334453564335996, 0.05800336069300799, 0.034439450724979295, 0.025829588043734468, 0.055964107428091346, 0.034439450724979295, 0.051659176087468936, 0.038744382065601705, 0.043049313406224116, 0.06887890144995859, 0.038744382065601705, 0.034439450724979295, 0.034439450724979295, 0.025829588043734468, 0.038744382065601705, 0.038744382065601705, 0.021524656703112058, 0.1851120476467637, 0.03013451938435688, 0.034439450724979295, 0.043049313406224116, 0.06457397010933617, 0.055964107428091346, 0.06784029672318984, 0.06784029672318984, 0.06784029672318984, 0.5427223737855187, 0.06784029672318984, 0.06784029672318984, 0.06784029672318984, 0.0636832611454169, 0.5731493503087521, 0.0636832611454169, 0.0636832611454169, 0.0636832611454169, 0.0636832611454169, 0.0636832611454169, 0.10315644538394915, 0.10315644538394915, 0.722095117687644, 0.835468347421564, 0.05569788982810426, 0.05554593032889755, 0.05554593032889755, 0.05554593032889755, 0.05554593032889755, 0.05554593032889755, 0.05554593032889755, 0.05554593032889755, 0.6110052336178731, 0.009388828907079472, 0.009388828907079472, 0.009388828907079472, 0.009388828907079472, 0.009388828907079472, 0.009388828907079472, 0.009388828907079472, 0.009388828907079472, 0.018777657814158945, 0.8825499172654704, 0.057748427972991456, 0.17324528391897437, 0.34649056783794874, 0.057748427972991456, 0.057748427972991456, 0.11549685594598291, 0.057748427972991456, 0.057748427972991456, 0.8913821713601278, 0.029712739045337593, 0.47340501129932905, 0.3012577344632094, 0.043036819209029915, 0.043036819209029915, 0.043036819209029915, 0.043036819209029915, 0.03883168311769827, 0.03883168311769827, 0.5048118805300774, 0.03883168311769827, 0.03883168311769827, 0.07766336623539653, 0.07766336623539653, 0.03883168311769827, 0.03883168311769827, 0.08912202960149414, 0.8020982664134472, 0.029307595417760166, 0.04103063358486423, 0.026376835875984148, 0.046892152668416266, 0.06154595037729635, 0.049822912210192284, 0.03809987404308821, 0.0879227862532805, 0.04103063358486423, 0.014653797708880083, 0.03809987404308821, 0.026376835875984148, 0.029307595417760166, 0.10257658396216057, 0.026376835875984148, 0.046892152668416266, 0.03809987404308821, 0.023446076334208133, 0.049822912210192284, 0.13481493892169677, 0.046892152668416266, 0.10587256208590942, 0.6352353725154566, 0.10587256208590942, 0.009606862531687297, 0.009606862531687297, 0.019213725063374595, 0.009606862531687297, 0.2978127384823062, 0.5379843017744886, 0.009606862531687297, 0.009606862531687297, 0.028820587595061894, 0.019213725063374595, 0.019213725063374595, 0.009606862531687297, 0.019194984443566435, 0.019194984443566435, 0.627036158489837, 0.019194984443566435, 0.025593312591421915, 0.03838996888713287, 0.012796656295710957, 0.006398328147855479, 0.012796656295710957, 0.019194984443566435, 0.012796656295710957, 0.012796656295710957, 0.03838996888713287, 0.012796656295710957, 0.012796656295710957, 0.05118662518284383, 0.019194984443566435, 0.006398328147855479, 0.006398328147855479, 0.025593312591421915, 0.012039812939703453, 0.006019906469851726, 0.746468402261614, 0.012039812939703453, 0.024079625879406905, 0.03009953234925863, 0.012039812939703453, 0.006019906469851726, 0.006019906469851726, 0.006019906469851726, 0.024079625879406905, 0.006019906469851726, 0.012039812939703453, 0.012039812939703453, 0.006019906469851726, 0.012039812939703453, 0.006019906469851726, 0.012039812939703453, 0.012039812939703453, 0.018059719409555176, 0.018059719409555176, 0.02593043450556492, 0.02593043450556492, 0.17780869375244515, 0.02593043450556492, 0.10742608580876895, 0.029634782292074193, 0.029634782292074193, 0.05186086901112984, 0.029634782292074193, 0.029634782292074193, 0.08149565130320403, 0.02593043450556492, 0.029634782292074193, 0.06667826015716694, 0.014817391146037097, 0.08890434687622258, 0.022226086719055644, 0.022226086719055644, 0.04074782565160202, 0.04074782565160202, 0.03333913007858347, 0.03576107301408351, 0.03576107301408351, 0.6079382412394196, 0.03576107301408351, 0.03576107301408351, 0.03576107301408351, 0.03576107301408351, 0.03576107301408351, 0.03576107301408351, 0.0602670455166783, 0.7834715917168179, 0.0602670455166783, 0.06433987858067847, 0.12867975716135693, 0.06433987858067847, 0.6433987858067847, 0.644618170304248, 0.080577271288031, 0.041185911559320304, 0.8237182311864061, 0.06451943028749207, 0.06451943028749207, 0.06451943028749207, 0.12903886057498415, 0.5806748725874286, 0.09797333891823576, 0.09797333891823576, 0.6858133724276503, 0.07079605996793784, 0.07079605996793784, 0.07079605996793784, 0.4955724197755649, 0.07079605996793784, 0.07079605996793784, 0.14159211993587567, 0.07079605996793784, 0.09082022880414073, 0.06811517160310555, 0.4086910296186333, 0.022705057201035182, 0.18164045760828146, 0.022705057201035182, 0.022705057201035182, 0.06811517160310555, 0.045410114402070365, 0.022705057201035182, 0.022705057201035182, 0.022705057201035182, 0.06914673701537102, 0.06914673701537102, 0.13829347403074205, 0.06914673701537102, 0.06914673701537102, 0.06914673701537102, 0.5531738961229682, 0.029486292752655248, 0.32434922027920776, 0.029486292752655248, 0.4422943912898287, 0.11794517101062099, 0.519871606584673, 0.05776351184274145, 0.05776351184274145, 0.028881755921370725, 0.028881755921370725, 0.028881755921370725, 0.028881755921370725, 0.028881755921370725, 0.028881755921370725, 0.05776351184274145, 0.05776351184274145, 0.028881755921370725, 0.024910443465844114, 0.024910443465844114, 0.024910443465844114, 0.024910443465844114, 0.024910443465844114, 0.024910443465844114, 0.8220446343728558, 0.8712905534503287, 0.017425811069006574, 0.008712905534503287, 0.008712905534503287, 0.008712905534503287, 0.008712905534503287, 0.008712905534503287, 0.008712905534503287, 0.008712905534503287, 0.008712905534503287, 0.008712905534503287, 0.017425811069006574, 0.5233619040480798, 0.2093447616192319, 0.10292504588909368, 0.05146252294454684, 0.05146252294454684, 0.7719378441682027, 0.010063223264989662, 0.010063223264989662, 0.10063223264989661, 0.020126446529979324, 0.06037933958993797, 0.020126446529979324, 0.020126446529979324, 0.030189669794968985, 0.030189669794968985, 0.07044256285492763, 0.0805057861199173, 0.030189669794968985, 0.030189669794968985, 0.030189669794968985, 0.020126446529979324, 0.06037933958993797, 0.030189669794968985, 0.1610115722398346, 0.020126446529979324, 0.12075867917987594, 0.050316116324948305, 0.12587558782515876, 0.3776267634754763, 0.2517511756503175, 0.06737247790749408, 0.02694899116299763, 0.0943214690704917, 0.02694899116299763, 0.12127046023348934, 0.05389798232599526, 0.02694899116299763, 0.013474495581498816, 0.14821945139648696, 0.08084697348899289, 0.08084697348899289, 0.040423486744496445, 0.05389798232599526, 0.02694899116299763, 0.013474495581498816, 0.013474495581498816, 0.013474495581498816, 0.013474495581498816, 0.02694899116299763, 0.02694899116299763, 0.7748391016236518, 0.051655940108243446, 0.051655940108243446, 0.7268062384120713, 0.1038294626302959, 0.044462157160497257, 0.031123510012348077, 0.06669323574074588, 0.017784862864198902, 0.11560160861729286, 0.031123510012348077, 0.044462157160497257, 0.05780080430864643, 0.04001594144444753, 0.013338647148149176, 0.09781674575309396, 0.02667729429629835, 0.04001594144444753, 0.08892431432099451, 0.031123510012348077, 0.044462157160497257, 0.02667729429629835, 0.013338647148149176, 0.02667729429629835, 0.08892431432099451, 0.0533545885925967, 0.8109983386312342, 0.018715346276105403, 0.006238448758701802, 0.006238448758701802, 0.012476897517403603, 0.006238448758701802, 0.024953795034807207, 0.024953795034807207, 0.006238448758701802, 0.006238448758701802, 0.006238448758701802, 0.006238448758701802, 0.012476897517403603, 0.012476897517403603, 0.006238448758701802, 0.006238448758701802, 0.012476897517403603, 0.006238448758701802, 0.012476897517403603, 0.8482574842318239, 0.08482574842318238, 0.744598529613696, 0.0372299264806848, 0.0744598529613696, 0.0372299264806848, 0.0372299264806848, 0.1884627727788297, 0.037692554555765936, 0.45231065466919124, 0.15077021822306375, 0.037692554555765936, 0.037692554555765936, 0.06685934334715522, 0.7354527768187074, 0.06685934334715522, 0.08075346536929866, 0.04037673268464933, 0.6056509902697399, 0.04037673268464933, 0.04037673268464933, 0.04037673268464933, 0.08075346536929866, 0.762848386971153, 0.07241815894927676, 0.7965997484420444, 0.8905840354419436, 0.04134084177269887, 0.04134084177269887, 0.04134084177269887, 0.04134084177269887, 0.330726734181591, 0.04134084177269887, 0.08268168354539775, 0.04134084177269887, 0.04134084177269887, 0.08268168354539775, 0.04134084177269887, 0.04134084177269887, 0.08268168354539775, 0.04134084177269887, 0.04134084177269887, 0.025792239984555307, 0.025792239984555307, 0.12159198849861788, 0.025792239984555307, 0.07737671995366592, 0.04053066283287263, 0.0626382971053486, 0.04053066283287263, 0.04053066283287263, 0.03316145140871397, 0.0994843542261419, 0.025792239984555307, 0.0626382971053486, 0.06632290281742793, 0.014738422848317318, 0.04053066283287263, 0.029476845696634637, 0.022107634272475977, 0.03316145140871397, 0.08106132566574525, 0.04053066283287263, 0.049870010364210585, 0.0268530825038057, 0.12659310323222686, 0.023016927860404886, 0.059460396972712624, 0.038361546434008145, 0.059460396972712624, 0.0537061650076114, 0.038361546434008145, 0.023016927860404886, 0.07096886090291507, 0.03260731446890692, 0.04027962375570855, 0.07480501554631588, 0.023016927860404886, 0.04795193304251018, 0.028771159825506105, 0.024935005182105292, 0.03644346911230774, 0.07480501554631588, 0.04795193304251018, 0.04235461520557296, 0.04235461520557296, 0.7200284584947403, 0.04235461520557296, 0.04235461520557296, 0.015222983605445597, 0.24356773768712955, 0.06089193442178239, 0.06089193442178239, 0.04566895081633679, 0.030445967210891194, 0.015222983605445597, 0.04566895081633679, 0.030445967210891194, 0.09133790163267358, 0.030445967210891194, 0.09133790163267358, 0.030445967210891194, 0.015222983605445597, 0.09133790163267358, 0.015222983605445597, 0.09133790163267358, 0.013163681677681826, 0.013163681677681826, 0.13163681677681827, 0.02632736335536365, 0.06581840838840913, 0.013163681677681826, 0.09214577174377278, 0.0526547267107273, 0.013163681677681826, 0.0526547267107273, 0.013163681677681826, 0.013163681677681826, 0.3685830869750911, 0.013163681677681826, 0.0526547267107273, 0.013163681677681826, 0.0526547267107273, 0.02632736335536365, 0.01962136332813207, 0.11772817996879241, 0.01962136332813207, 0.03924272665626414, 0.01962136332813207, 0.07848545331252828, 0.01962136332813207, 0.4905340832033017, 0.01962136332813207, 0.03924272665626414, 0.03924272665626414, 0.01962136332813207, 0.03924272665626414, 0.03924272665626414, 0.01962136332813207, 0.01962136332813207, 0.01843132388827875, 0.03317638299890175, 0.17325444454982022, 0.040548912554213244, 0.05898023644249199, 0.0368626477765575, 0.0368626477765575, 0.040548912554213244, 0.014745059110622998, 0.02580385344359025, 0.0663527659978035, 0.01843132388827875, 0.088470354663738, 0.05898023644249199, 0.02580385344359025, 0.06266650122014775, 0.0368626477765575, 0.040548912554213244, 0.040548912554213244, 0.047921442109524745, 0.03317638299890175, 0.8634144901202249, 0.027852080326458865, 0.027852080326458865, 0.1324597528544126, 0.011038312737867716, 0.022076625475735433, 0.011038312737867716, 0.011038312737867716, 0.011038312737867716, 0.7395669534371371, 0.03311493821360315, 0.29884934968967486, 0.02490411247413957, 0.04980822494827914, 0.02490411247413957, 0.02490411247413957, 0.02490411247413957, 0.02490411247413957, 0.07471233742241871, 0.02490411247413957, 0.07471233742241871, 0.04980822494827914, 0.02490411247413957, 0.07471233742241871, 0.02490411247413957, 0.04980822494827914, 0.02490411247413957, 0.02490411247413957, 0.04980822494827914, 0.03465940156758896, 0.03465940156758896, 0.01732970078379448, 0.01732970078379448, 0.0866485039189724, 0.01732970078379448, 0.50256132273004, 0.06931880313517792, 0.06931880313517792, 0.01732970078379448, 0.01732970078379448, 0.03465940156758896, 0.01732970078379448, 0.03465940156758896, 0.01732970078379448, 0.01732970078379448, 0.06972866849404935, 0.1394573369880987, 0.6972866849404935, 0.026256844190098792, 0.026256844190098792, 0.052513688380197585, 0.10502737676039517, 0.052513688380197585, 0.5513937279920746, 0.026256844190098792, 0.052513688380197585, 0.026256844190098792, 0.026256844190098792, 0.04259629366320037, 0.3833666429688033, 0.08519258732640074, 0.04259629366320037, 0.34077034930560296, 0.04259629366320037, 0.13298207821797145, 0.5319283128718858, 0.13298207821797145, 0.07912468824644829, 0.7121221942180346, 0.5365816051189566, 0.13414540127973915, 0.8902970424611641, 0.03561188169844657, 0.03561188169844657, 0.09870155252007108, 0.4935077626003554, 0.19740310504014216, 0.00591758929793522, 0.00591758929793522, 0.01183517859587044, 0.01183517859587044, 0.029587946489676102, 0.13610455385251008, 0.07101107157522264, 0.00591758929793522, 0.02367035719174088, 0.01183517859587044, 0.02367035719174088, 0.01775276789380566, 0.01775276789380566, 0.00591758929793522, 0.00591758929793522, 0.02367035719174088, 0.01183517859587044, 0.02367035719174088, 0.07692866087315786, 0.47340714383481763, 0.01183517859587044, 0.006985648303894891, 0.006985648303894891, 0.013971296607789781, 0.006985648303894891, 0.02095694491168467, 0.04889953812726423, 0.15368426268568758, 0.006985648303894891, 0.02095694491168467, 0.013971296607789781, 0.03492824151947445, 0.006985648303894891, 0.013971296607789781, 0.013971296607789781, 0.02095694491168467, 0.027942593215579563, 0.006985648303894891, 0.02095694491168467, 0.013971296607789781, 0.5448805677038014, 0.006985648303894891, 0.16089981028128092, 0.0536332700937603, 0.0536332700937603, 0.0536332700937603, 0.4290661607500824, 0.0536332700937603, 0.1072665401875206, 0.5364269125512573, 0.07663241607875104, 0.07663241607875104, 0.07663241607875104, 0.07663241607875104, 0.03796576805624301, 0.028474326042182255, 0.1297163741921636, 0.018982884028121504, 0.0917506061359206, 0.03480195405155609, 0.05062102407499068, 0.05062102407499068, 0.044293396065616844, 0.022146698032808422, 0.06644009409842526, 0.03480195405155609, 0.04745721007030376, 0.04745721007030376, 0.02531051203749534, 0.044293396065616844, 0.02531051203749534, 0.022146698032808422, 0.041129582060929926, 0.0917506061359206, 0.044293396065616844, 0.03664298033241114, 0.026173557380293668, 0.09684216230708657, 0.026173557380293668, 0.0706686049267929, 0.0314082688563524, 0.054964470498616705, 0.047112403284528606, 0.03926033607044051, 0.023556201642264303, 0.07328596066482228, 0.023556201642264303, 0.04449504754649924, 0.06543389345073418, 0.023556201642264303, 0.06543389345073418, 0.03664298033241114, 0.01832149016620557, 0.026173557380293668, 0.12039836394935088, 0.049729759022557975, 0.8239815803203036, 0.03155778264708313, 0.03155778264708313, 0.015778891323541565, 0.5364823050004132, 0.015778891323541565, 0.015778891323541565, 0.03155778264708313, 0.03155778264708313, 0.015778891323541565, 0.03155778264708313, 0.015778891323541565, 0.015778891323541565, 0.015778891323541565, 0.06311556529416626, 0.03155778264708313, 0.06311556529416626, 0.047336673970624694, 0.07786117086482768, 0.5060976106213799, 0.03893058543241384, 0.03893058543241384, 0.03893058543241384, 0.03893058543241384, 0.03893058543241384, 0.03893058543241384, 0.03893058543241384, 0.03893058543241384, 0.03307825913264863, 0.016539129566324313, 0.1323130365305945, 0.08269564783162156, 0.016539129566324313, 0.04961738869897294, 0.016539129566324313, 0.016539129566324313, 0.06615651826529725, 0.04961738869897294, 0.11577390696427019, 0.21500868436221607, 0.03307825913264863, 0.03307825913264863, 0.03307825913264863, 0.04961738869897294, 0.03307825913264863, 0.016539129566324313, 0.08719322832195059, 0.6975458265756047, 0.14953196111085515, 0.09968797407390344, 0.44859588333256545, 0.04984398703695172, 0.04984398703695172, 0.04984398703695172, 0.04984398703695172, 0.04984398703695172, 0.04984398703695172, 0.6773268185265925, 0.7572362807707578, 0.12350610162919604, 0.49402440651678414, 0.12350610162919604, 0.12350610162919604, 0.09015966230616944, 0.7212772984493555, 0.09015966230616944, 0.007704078185910909, 0.007704078185910909, 0.007704078185910909, 0.015408156371821817, 0.06933670367319818, 0.10785709460275272, 0.007704078185910909, 0.023112234557732727, 0.007704078185910909, 0.015408156371821817, 0.007704078185910909, 0.007704078185910909, 0.015408156371821817, 0.015408156371821817, 0.015408156371821817, 0.023112234557732727, 0.007704078185910909, 0.6394384894306054, 0.07329377008961224, 0.8062314709857346, 0.013017478129638852, 0.07810486877783311, 0.10413982503711082, 0.013017478129638852, 0.05206991251855541, 0.05206991251855541, 0.05206991251855541, 0.026034956259277705, 0.026034956259277705, 0.026034956259277705, 0.026034956259277705, 0.05206991251855541, 0.19526217194458279, 0.05206991251855541, 0.026034956259277705, 0.026034956259277705, 0.039052434388916556, 0.013017478129638852, 0.026034956259277705, 0.13017478129638851, 0.013017478129638852, 0.07854119771427909, 0.7068707794285117, 0.09993862748534972, 0.7995090198827978, 0.036872470922765826, 0.8480668312236139, 0.08321759677991507, 0.8321759677991506, 0.16599522446503012, 0.7193126393484639, 0.0685380878812353, 0.8224570545748237, 0.4865198581726879, 0.08461214924742398, 0.021153037311855995, 0.021153037311855995, 0.06345911193556798, 0.021153037311855995, 0.021153037311855995, 0.021153037311855995, 0.08461214924742398, 0.021153037311855995, 0.021153037311855995, 0.06345911193556798, 0.04230607462371199, 0.021153037311855995, 0.10229268066627696, 0.05114634033313848, 0.05114634033313848, 0.10229268066627696, 0.05114634033313848, 0.05114634033313848, 0.4603170629982463, 0.05114634033313848, 0.7695860445045658, 0.06413217037538049, 0.06413217037538049, 0.6876956807689895, 0.11461594679483157, 0.11461594679483157, 0.05582993095366505, 0.6978741369208131, 0.027914965476832525, 0.13957482738416263, 0.07982747150385873, 0.007982747150385872, 0.03193098860154349, 0.007982747150385872, 0.039913735751929365, 0.007982747150385872, 0.015965494300771745, 0.06386197720308698, 0.07184472435347286, 0.10377571295501635, 0.007982747150385872, 0.015965494300771745, 0.007982747150385872, 0.10377571295501635, 0.015965494300771745, 0.05587923005270111, 0.12772395440617396, 0.0878102186542446, 0.06386197720308698, 0.015965494300771745, 0.07184472435347286, 0.03332305969604848, 0.04998458954407271, 0.058315354468084835, 0.00833076492401212, 0.0416538246200606, 0.03332305969604848, 0.04998458954407271, 0.2999075372644363, 0.01666152984802424, 0.01666152984802424, 0.01666152984802424, 0.01666152984802424, 0.03332305969604848, 0.058315354468084835, 0.058315354468084835, 0.04998458954407271, 0.024992294772036357, 0.01666152984802424, 0.01666152984802424, 0.0416538246200606, 0.058315354468084835, 0.06109151211376538, 0.06109151211376538, 0.06109151211376538, 0.5498236090238885, 0.06109151211376538, 0.06109151211376538, 0.4628964522253269, 0.11572411305633172, 0.11572411305633172, 0.11572411305633172, 0.1172339860158026, 0.7034039160948156, 0.101718188697124, 0.101718188697124, 0.101718188697124, 0.5085909434856201, 0.1294378344250514, 0.1294378344250514, 0.6471891721252571, 0.04058923818102071, 0.06088385727153107, 0.027059492120680477, 0.023677055605595416, 0.05750142075644601, 0.050736547726275893, 0.03720680166593565, 0.08117847636204142, 0.054118984241360954, 0.0169121825754253, 0.04058923818102071, 0.027059492120680477, 0.04058923818102071, 0.10823796848272191, 0.027059492120680477, 0.0338243651508506, 0.04058923818102071, 0.023677055605595416, 0.054118984241360954, 0.10823796848272191, 0.04735411121119083, 0.019251529549244587, 0.019251529549244587, 0.019251529549244587, 0.8470673001667619, 0.038503059098489174, 0.016771959629993536, 0.03354391925998707, 0.016771959629993536, 0.016771959629993536, 0.05031587888998061, 0.016771959629993536, 0.016771959629993536, 0.10063175777996122, 0.016771959629993536, 0.016771959629993536, 0.016771959629993536, 0.03354391925998707, 0.05031587888998061, 0.016771959629993536, 0.4025270311198449, 0.06708783851997414, 0.03354391925998707, 0.03354391925998707, 0.016771959629993536, 0.06708783851997414, 0.010000887648941695, 0.010000887648941695, 0.06000532589365017, 0.02000177529788339, 0.13001153943624202, 0.010000887648941695, 0.15001331473412544, 0.04000355059576678, 0.010000887648941695, 0.04000355059576678, 0.010000887648941695, 0.07000621354259186, 0.06000532589365017, 0.02000177529788339, 0.04000355059576678, 0.02000177529788339, 0.030002662946825086, 0.02000177529788339, 0.27002396652142574, 0.024703919600985395, 0.01764565685784671, 0.031762182344124076, 0.01764565685784671, 0.021174788229416052, 0.028233050972554734, 0.014116525486277367, 0.05999523331667881, 0.021174788229416052, 0.014116525486277367, 0.014116525486277367, 0.0070582627431386834, 0.01764565685784671, 0.05293697057354013, 0.010587394114708026, 0.4799618665334305, 0.028233050972554734, 0.01764565685784671, 0.03882044508726276, 0.028233050972554734, 0.05293697057354013, 0.17158602573493617, 0.015598729612266925, 0.05459555364293424, 0.02339809441840039, 0.0077993648061334625, 0.0077993648061334625, 0.4367644291434739, 0.03119745922453385, 0.015598729612266925, 0.015598729612266925, 0.0077993648061334625, 0.038996824030667315, 0.015598729612266925, 0.09359237767360155, 0.0077993648061334625, 0.015598729612266925, 0.015598729612266925, 0.015598729612266925, 0.02339809441840039, 0.6515334000647294, 0.13030668001294587, 0.06740779873521249, 0.06740779873521249, 0.06740779873521249, 0.404446792411275, 0.06740779873521249, 0.06740779873521249, 0.13481559747042499, 0.16398256034140965, 0.08199128017070482, 0.08199128017070482, 0.4919476810242289, 0.029759312306723528, 0.029759312306723528, 0.6249455584411941, 0.059518624613447056, 0.029759312306723528, 0.029759312306723528, 0.029759312306723528, 0.029759312306723528, 0.029759312306723528, 0.029759312306723528, 0.029759312306723528, 0.8437575036105325, 0.05625050024070217, 0.8676505959158164, 0.8461788862867463, 0.017638480805866243, 0.8466470786815796, 0.017638480805866243, 0.017638480805866243, 0.017638480805866243, 0.017638480805866243, 0.017638480805866243, 0.30112417897253213, 0.5018736316208868, 0.522466516337323, 0.2612332581686615, 0.03531506754549197, 0.03531506754549197, 0.03531506754549197, 0.07063013509098394, 0.7416164184553313, 0.8419182554523675, 0.7169591311917239, 0.08961989139896549, 0.924257416706233, 0.03957260274953774, 0.036406794529574724, 0.08705972604898303, 0.04590421918946378, 0.06964778083918642, 0.030075178089648685, 0.047487123299445294, 0.07439649316913095, 0.03798969863955623, 0.026909369869685666, 0.05223583562938982, 0.028492273979667176, 0.044321315079482275, 0.07597939727911246, 0.025326465759704157, 0.10447167125877964, 0.03482389041959321, 0.025326465759704157, 0.033240986309611704, 0.03482389041959321, 0.047487123299445294, 0.04504686438827152, 0.3153280507179006, 0.030031242925514345, 0.015015621462757173, 0.015015621462757173, 0.015015621462757173, 0.015015621462757173, 0.07507810731378586, 0.015015621462757173, 0.030031242925514345, 0.030031242925514345, 0.04504686438827152, 0.06006248585102869, 0.04504686438827152, 0.030031242925514345, 0.015015621462757173, 0.015015621462757173, 0.015015621462757173, 0.04504686438827152, 0.030031242925514345, 0.09009372877654304, 0.025155011568467146, 0.03773251735270072, 0.012577505784233573, 0.5282552429378101, 0.025155011568467146, 0.012577505784233573, 0.012577505784233573, 0.03773251735270072, 0.20124009254773717, 0.012577505784233573, 0.05031002313693429, 0.03683733688771147, 0.03683733688771147, 0.33153603198940323, 0.07367467377542294, 0.03683733688771147, 0.4420480426525376, 0.0519887465232568, 0.0519887465232568, 0.0519887465232568, 0.0519887465232568, 0.7278424513255952, 0.15921154496171536, 0.15921154496171536, 0.47763463488514607, 0.7949122807242183, 0.012821165818132554, 0.025642331636265107, 0.012821165818132554, 0.012821165818132554, 0.025642331636265107, 0.051284663272530215, 0.012821165818132554, 0.012821165818132554, 0.05296246174522991, 0.05296246174522991, 0.21184984698091963, 0.5825870791975291, 0.04199481494811871, 0.03399580257704848, 0.07199111133963207, 0.027996543298745805, 0.06399209896856184, 0.04199481494811871, 0.04799407422642138, 0.059992592783026724, 0.043994568040886264, 0.025996790205978247, 0.09398839536007521, 0.02399703711321069, 0.03999506185535115, 0.08198987680346986, 0.02399703711321069, 0.03999506185535115, 0.025996790205978247, 0.025996790205978247, 0.043994568040886264, 0.08598938298900498, 0.05399333350472405, 0.11556402746042808, 0.6933841647625685, 0.11556402746042808, 0.6643026404376362, 0.07381140449307069, 0.07381140449307069, 0.5953609695706125, 0.06615121884117917, 0.06615121884117917, 0.13230243768235833, 0.06615121884117917, 0.017601893440606968, 0.008800946720303484, 0.017601893440606968, 0.05280568032182091, 0.008800946720303484, 0.008800946720303484, 0.13201420080455226, 0.017601893440606968, 0.008800946720303484, 0.017601893440606968, 0.008800946720303484, 0.008800946720303484, 0.008800946720303484, 0.017601893440606968, 0.05280568032182091, 0.008800946720303484, 0.008800946720303484, 0.008800946720303484, 0.563260590099423, 0.004069586930936109, 0.15464430337557214, 0.008139173861872217, 0.008139173861872217, 0.04069586930936109, 0.008139173861872217, 0.008139173861872217, 0.012208760792808327, 0.008139173861872217, 0.016278347723744434, 0.036626282378424975, 0.036626282378424975, 0.5534638226073108, 0.008139173861872217, 0.004069586930936109, 0.004069586930936109, 0.05290463010216941, 0.008139173861872217, 0.008139173861872217, 0.004069586930936109, 0.016278347723744434, 0.005326531674670735, 0.03728572172269514, 0.01065306334934147, 0.026632658373353674, 0.005326531674670735, 0.01065306334934147, 0.005326531674670735, 0.005326531674670735, 0.005326531674670735, 0.02130612669868294, 0.05859184842137808, 0.7563674978032443, 0.01065306334934147, 0.015979595024012205, 0.01065306334934147, 0.005326531674670735, 0.005326531674670735, 0.01065306334934147, 0.034856764056486834, 0.06971352811297367, 0.034856764056486834, 0.034856764056486834, 0.06971352811297367, 0.6622785170732499, 0.034856764056486834, 0.055710474720601706, 0.02532294305481896, 0.055710474720601706, 0.020258354443855167, 0.05064588610963792, 0.03545212027674654, 0.04558129749867412, 0.15700224693987755, 0.020258354443855167, 0.03545212027674654, 0.03038753166578275, 0.03038753166578275, 0.02532294305481896, 0.07596882916445688, 0.040516708887710334, 0.055710474720601706, 0.02532294305481896, 0.02532294305481896, 0.04558129749867412, 0.05064588610963792, 0.09622718360831205, 0.11505086629591788, 0.6903051977755073, 0.7133046205214076, 0.10190066007448681, 0.39806752155927444, 0.09951688038981861, 0.29855064116945584, 0.045077747245131056, 0.09015549449026211, 0.045077747245131056, 0.045077747245131056, 0.4958552196964416, 0.045077747245131056, 0.045077747245131056, 0.06833322092641037, 0.06833322092641037, 0.03416661046320518, 0.6491655988008985, 0.10249983138961555, 0.7279070950772243, 0.05199336393408745, 0.05199336393408745, 0.05199336393408745, 0.14294404549591455, 0.5717761819836582, 0.030348124613410465, 0.03793515576676308, 0.06069624922682093, 0.015174062306705233, 0.1403600763370234, 0.030348124613410465, 0.049315702496792006, 0.03793515576676308, 0.09483788941690771, 0.034141640190086774, 0.07207679595684986, 0.03793515576676308, 0.07966382711020248, 0.03793515576676308, 0.02276109346005785, 0.02276109346005785, 0.034141640190086774, 0.026554609036734157, 0.030348124613410465, 0.06828328038017355, 0.04172867134343939, 0.05733185179993092, 0.05733185179993092, 0.11466370359986185, 0.11466370359986185, 0.34399111079958555, 0.05733185179993092, 0.05733185179993092, 0.05733185179993092, 0.11466370359986185, 0.5933988785239225, 0.14834971963098062, 0.041931326132922324, 0.04472674787511714, 0.05031759135950679, 0.019567952195363753, 0.0642947000704809, 0.041931326132922324, 0.05590843484389643, 0.0642947000704809, 0.05311301310170161, 0.027954217421948216, 0.05311301310170161, 0.027954217421948216, 0.05031759135950679, 0.09504433923462394, 0.019567952195363753, 0.04472674787511714, 0.03354506090633786, 0.025158795679753394, 0.04752216961731197, 0.08945349575023429, 0.05031759135950679, 0.0606830091840507, 0.0606830091840507, 0.7888791193926592, 0.8289983010711283, 0.037681740957778556, 0.0390282911981401, 0.01951414559907005, 0.20489852879023554, 0.009757072799535025, 0.08781365519581523, 0.009757072799535025, 0.01951414559907005, 0.04878536399767513, 0.04878536399767513, 0.058542436797210155, 0.029271218398605078, 0.21465560158977057, 0.04878536399767513, 0.029271218398605078, 0.009757072799535025, 0.009757072799535025, 0.01951414559907005, 0.009757072799535025, 0.058542436797210155, 0.009757072799535025, 0.029271218398605078, 0.8593730714356723, 0.008107293126751626, 0.008107293126751626, 0.008107293126751626, 0.008107293126751626, 0.008107293126751626, 0.016214586253503253, 0.008107293126751626, 0.008107293126751626, 0.008107293126751626, 0.008107293126751626, 0.008107293126751626, 0.008107293126751626, 0.008107293126751626, 0.008107293126751626, 0.008107293126751626, 0.0359340063573627, 0.0359340063573627, 0.1078020190720881, 0.028747205085890157, 0.046714208264571504, 0.04312080762883524, 0.046714208264571504, 0.06108781080751659, 0.03234060572162643, 0.03234060572162643, 0.06468121144325285, 0.025153804450153888, 0.050307608900307776, 0.06468121144325285, 0.02156040381441762, 0.08264821462193421, 0.03234060572162643, 0.02156040381441762, 0.03234060572162643, 0.06108781080751659, 0.0718680127147254, 0.04682773466880675, 0.023413867334403374, 0.0374621877350454, 0.00936554693376135, 0.12643488360577823, 0.04682773466880675, 0.04682773466880675, 0.06555882853632945, 0.10770378973825552, 0.02809664080128405, 0.032779414268164726, 0.04682773466880675, 0.023413867334403374, 0.04682773466880675, 0.014048320400642024, 0.023413867334403374, 0.0374621877350454, 0.042144961201926075, 0.06087605506944878, 0.07024160200321013, 0.06087605506944878, 0.8159604024962754, 0.49491391860658585, 0.12372847965164646, 0.12372847965164646, 0.04378790026468832, 0.04378790026468832, 0.13136370079406495, 0.04378790026468832, 0.04378790026468832, 0.5692427034409481, 0.04378790026468832, 0.6547876234299708, 0.07275418038110787, 0.07275418038110787, 0.07275418038110787, 0.4703491221711758, 0.07839152036186263, 0.2351745610855879, 0.5381534703339477, 0.10763069406678955, 0.10763069406678955, 0.017208969662303557, 0.03598239111208926, 0.031289035749642834, 0.025031228599714267, 0.07665813758662494, 0.04380465004949997, 0.02033787323726784, 0.0563202643493571, 0.04067574647453568, 0.017208969662303557, 0.16739634126058917, 0.02816013217467855, 0.023466776812232124, 0.07665813758662494, 0.017208969662303557, 0.031289035749642834, 0.05162690898691067, 0.03285348753712498, 0.04693355362446425, 0.09230265546144635, 0.06570697507424995, 0.03956968272715726, 0.07913936545431452, 0.39569682727157257, 0.23741809636294353, 0.07913936545431452, 0.03956968272715726, 0.05871420381225811, 0.7632846495593554, 0.05871420381225811, 0.01001396360276052, 0.025034909006901297, 0.17023738124692883, 0.025034909006901297, 0.04506283621242233, 0.015020945404140777, 0.04005585441104208, 0.030041890808281554, 0.09012567242484466, 0.025034909006901297, 0.030041890808281554, 0.035048872609661816, 0.06008378161656311, 0.12016756323312622, 0.02002792720552104, 0.025034909006901297, 0.025034909006901297, 0.04005585441104208, 0.02002792720552104, 0.07009774521932363, 0.07510472702070389, 0.017992827879462093, 0.017992827879462093, 0.07197131151784837, 0.017992827879462093, 0.017992827879462093, 0.07197131151784837, 0.017992827879462093, 0.05397848363838628, 0.017992827879462093, 0.017992827879462093, 0.035985655758924186, 0.10795696727677256, 0.19792110667408302, 0.017992827879462093, 0.05397848363838628, 0.035985655758924186, 0.05397848363838628, 0.16193545091515885, 0.12941468580054155, 0.6470734290027078, 0.12941468580054155, 0.10429134100826443, 0.6257480460495866, 0.10429134100826443, 0.10429134100826443, 0.014529245769309517, 0.04358773730792855, 0.014529245769309517, 0.842696254619952, 0.014529245769309517, 0.014529245769309517, 0.014529245769309517, 0.08461583146258667, 0.08461583146258667, 0.5923108202381067, 0.08461583146258667, 0.015296482580644503, 0.0076482412903222515, 0.022944723870966754, 0.08413065419354476, 0.015296482580644503, 0.015296482580644503, 0.015296482580644503, 0.015296482580644503, 0.022944723870966754, 0.0076482412903222515, 0.022944723870966754, 0.0076482412903222515, 0.0076482412903222515, 0.04588944774193351, 0.0076482412903222515, 0.07648241290322251, 0.015296482580644503, 0.06118593032257801, 0.0076482412903222515, 0.5200804077419131, 0.6394072736554718, 0.18268779247299194, 0.5582908024685216, 0.09304846707808694, 0.09304846707808694, 0.09304846707808694, 0.15504459787392244, 0.6201783914956898, 0.016701253358404815, 0.05010376007521444, 0.058454386754416846, 0.225466920338465, 0.041753133396012033, 0.07515564011282166, 0.058454386754416846, 0.058454386754416846, 0.016701253358404815, 0.008350626679202408, 0.016701253358404815, 0.02505188003760722, 0.016701253358404815, 0.09185689347122647, 0.03340250671680963, 0.02505188003760722, 0.03340250671680963, 0.016701253358404815, 0.058454386754416846, 0.008350626679202408, 0.06680501343361926, 0.09736720219116103, 0.02290992992733201, 0.02290992992733201, 0.005727482481833002, 0.10882216715482704, 0.02863741240916501, 0.04581985985466402, 0.07445727226382902, 0.017182447445499006, 0.03436489489099801, 0.02290992992733201, 0.11454964963666003, 0.005727482481833002, 0.10309468467299403, 0.06300230730016303, 0.011454964963666004, 0.02863741240916501, 0.011454964963666004, 0.011454964963666004, 0.12600461460032605, 0.04581985985466402, 0.11901255883057929, 0.014876569853822411, 0.04462970956146723, 0.19339540809969133, 0.014876569853822411, 0.014876569853822411, 0.059506279415289645, 0.014876569853822411, 0.029753139707644823, 0.2677782573688034, 0.014876569853822411, 0.059506279415289645, 0.014876569853822411, 0.014876569853822411, 0.014876569853822411, 0.014876569853822411, 0.059506279415289645, 0.029753139707644823, 0.7589023037738001, 0.0843224781970889, 0.6445203485854129, 0.04957848835272406, 0.04957848835272406, 0.04957848835272406, 0.04957848835272406, 0.04957848835272406, 0.04957848835272406, 0.6084072964745968, 0.06084072964745968, 0.06084072964745968, 0.03042036482372984, 0.03042036482372984, 0.09126109447118952, 0.03042036482372984, 0.5289976789847058, 0.3022843879912605, 0.028912118867943606, 0.05782423773588721, 0.7517150905665337, 0.05782423773588721, 0.028912118867943606, 0.005727893043698957, 0.005727893043698957, 0.005727893043698957, 0.005727893043698957, 0.005727893043698957, 0.01718367913109687, 0.005727893043698957, 0.011455786087397914, 0.005727893043698957, 0.005727893043698957, 0.8706397426422415, 0.005727893043698957, 0.011455786087397914, 0.005727893043698957, 0.005727893043698957, 0.01718367913109687, 0.005727893043698957, 0.00931456715160117, 0.00931456715160117, 0.01862913430320234, 0.00931456715160117, 0.00931456715160117, 0.01862913430320234, 0.00931456715160117, 0.00931456715160117, 0.00931456715160117, 0.00931456715160117, 0.00931456715160117, 0.00931456715160117, 0.00931456715160117, 0.8476256107957065, 0.00931456715160117, 0.008520143103443742, 0.017040286206887485, 0.0198803339080354, 0.0198803339080354, 0.04544076321836663, 0.031240524712627057, 0.0397606678160708, 0.005680095402295829, 0.022720381609183316, 0.005680095402295829, 0.028400477011479144, 0.005680095402295829, 0.017040286206887485, 0.017040286206887485, 0.022720381609183316, 0.0198803339080354, 0.014200238505739572, 0.011360190804591658, 0.014200238505739572, 0.6219704465513932, 0.005680095402295829, 0.007315694645054902, 0.018289236612637257, 0.014631389290109804, 0.010973541967582354, 0.03292062590274706, 0.10607757235329608, 0.047552015192856865, 0.003657847322527451, 0.047552015192856865, 0.010973541967582354, 0.036578473225274515, 0.010973541967582354, 0.014631389290109804, 0.014631389290109804, 0.029262778580219608, 0.03292062590274706, 0.010973541967582354, 0.025604931257692157, 0.018289236612637257, 0.49746723586373337, 0.007315694645054902, 0.03318181863127117, 0.016590909315635585, 0.11613636520944907, 0.016590909315635585, 0.016590909315635585, 0.03318181863127117, 0.34840909562834727, 0.14931818384072024, 0.016590909315635585, 0.016590909315635585, 0.016590909315635585, 0.016590909315635585, 0.03318181863127117, 0.016590909315635585, 0.13272727452508468, 0.06721649054734555, 0.06721649054734555, 0.8065978865681467, 0.03849730731598599, 0.03849730731598599, 0.03849730731598599, 0.03849730731598599, 0.03849730731598599, 0.07699461463197198, 0.03849730731598599, 0.03849730731598599, 0.03849730731598599, 0.03849730731598599, 0.03849730731598599, 0.5389623024238038, 0.03247730103329342, 0.03247730103329342, 0.06495460206658683, 0.09743190309988024, 0.03247730103329342, 0.03247730103329342, 0.03247730103329342, 0.6170687196325749, 0.03247730103329342, 0.7724692755856137, 0.4200706977917005, 0.14002356593056683, 0.14002356593056683, 0.14002356593056683, 0.14002356593056683, 0.03081488625933515, 0.09244465877800545, 0.03081488625933515, 0.0616297725186703, 0.03081488625933515, 0.46222329389002725, 0.0616297725186703, 0.03081488625933515, 0.03081488625933515, 0.03081488625933515, 0.03081488625933515, 0.03081488625933515, 0.03081488625933515, 0.04616000789363899, 0.8308801420855019, 0.04616000789363899, 0.6862252040535934, 0.03267739066921874, 0.03267739066921874, 0.01633869533460937, 0.01633869533460937, 0.03267739066921874, 0.03267739066921874, 0.03267739066921874, 0.01633869533460937, 0.01633869533460937, 0.01633869533460937, 0.049016086003828105, 0.01633869533460937, 0.1315981180493576, 0.5263924721974304, 0.0071113740291392355, 0.028445496116556942, 0.0071113740291392355, 0.014222748058278471, 0.021334122087417706, 0.03555687014569618, 0.03555687014569618, 0.04266824417483541, 0.028445496116556942, 0.014222748058278471, 0.28445496116556945, 0.028445496116556942, 0.08533648834967082, 0.021334122087417706, 0.028445496116556942, 0.06400236626225313, 0.04266824417483541, 0.0995592364079493, 0.021334122087417706, 0.08533648834967082, 0.13058928455697674, 0.1958839268354651, 0.522357138227907, 0.03376694778164537, 0.03376694778164537, 0.10130084334493612, 0.03376694778164537, 0.03376694778164537, 0.03376694778164537, 0.03376694778164537, 0.03376694778164537, 0.03376694778164537, 0.6078050600696167, 0.03376694778164537, 0.147185513858439, 0.0735927569292195, 0.0735927569292195, 0.5151492985045365, 0.032336139148484676, 0.09700841744545403, 0.032336139148484676, 0.032336139148484676, 0.032336139148484676, 0.032336139148484676, 0.06467227829696935, 0.032336139148484676, 0.032336139148484676, 0.032336139148484676, 0.032336139148484676, 0.032336139148484676, 0.032336139148484676, 0.06467227829696935, 0.45270594807878545, 0.029629236051504682, 0.0074073090128761706, 0.48888239484982726, 0.014814618025752341, 0.07777674463519979, 0.018518272532190426, 0.018518272532190426, 0.018518272532190426, 0.0259255815450666, 0.011110963519314256, 0.04074019957081894, 0.03703654506438085, 0.03703654506438085, 0.033332890557942765, 0.011110963519314256, 0.014814618025752341, 0.011110963519314256, 0.018518272532190426, 0.022221927038628513, 0.044443854077257025, 0.014814618025752341, 0.09063612320461231, 0.09063612320461231, 0.09063612320461231, 0.09063612320461231, 0.09063612320461231, 0.36254449281844925, 0.7284003670469782, 0.12140006117449638, 0.059781106740009825, 0.7771543876201278, 0.05636165615491468, 0.02818082807745734, 0.02818082807745734, 0.6481590457815188, 0.14090414038728669, 0.02818082807745734, 0.02818082807745734, 0.46461311940823724, 0.4065364794822076, 0.005099988072243977, 0.005099988072243977, 0.005099988072243977, 0.025499940361219886, 0.005099988072243977, 0.010199976144487954, 0.005099988072243977, 0.040799904577951816, 0.1988995348175151, 0.015299964216731932, 0.010199976144487954, 0.005099988072243977, 0.015299964216731932, 0.010199976144487954, 0.010199976144487954, 0.015299964216731932, 0.5150987952966417, 0.010199976144487954, 0.010199976144487954, 0.09179978530039158, 0.04210277605550612, 0.12630832816651838, 0.5052333126660735, 0.04210277605550612, 0.08420555211101224, 0.04210277605550612, 0.12630832816651838, 0.08504406233738594, 0.04252203116869297, 0.7653965610364735, 0.04252203116869297, 0.920065520049743, 0.03367107908840339, 0.4713951072376474, 0.03367107908840339, 0.03367107908840339, 0.03367107908840339, 0.16835539544201691, 0.03367107908840339, 0.06734215817680678, 0.03367107908840339, 0.03367107908840339, 0.06734215817680678, 0.03367107908840339, 0.7755387609564924, 0.0553956257826066, 0.0553956257826066, 0.8838960015918348, 0.03273688894784574, 0.849214172750443, 0.07076784772920358, 0.049288712544538746, 0.04107392712044895, 0.10405394870513734, 0.03285914169635916, 0.043812188928478886, 0.049288712544538746, 0.05202697435256867, 0.060241759776658466, 0.038335665312419026, 0.027382618080299303, 0.04107392712044895, 0.027382618080299303, 0.04655045073650881, 0.09583916328104755, 0.03285914169635916, 0.038335665312419026, 0.024644356272269373, 0.021906094464239443, 0.038335665312419026, 0.08762437785695777, 0.04655045073650881, 0.17113653951822483, 0.7578903892949957, 0.8475709556122086, 0.07705190505565533, 0.021587031991861717, 0.021587031991861717, 0.021587031991861717, 0.4317406398372344, 0.021587031991861717, 0.043174063983723435, 0.021587031991861717, 0.06476109597558516, 0.021587031991861717, 0.021587031991861717, 0.043174063983723435, 0.043174063983723435, 0.2158703199186172, 0.061292530725663256, 0.04086168715044217, 0.020430843575221087, 0.3677551843539796, 0.020430843575221087, 0.04086168715044217, 0.04086168715044217, 0.10215421787610543, 0.020430843575221087, 0.04086168715044217, 0.020430843575221087, 0.04086168715044217, 0.1430159050265476, 0.21308398943407003, 0.5682239718241867, 0.07102799647802334, 0.6297158674297749, 0.09687936421996537, 0.04843968210998269, 0.09687936421996537, 0.2658121828579741, 0.026581218285797407, 0.026581218285797407, 0.026581218285797407, 0.053162436571594814, 0.026581218285797407, 0.3987182742869611, 0.053162436571594814, 0.07974365485739222, 0.8073868121775539, 0.07339880110705035, 0.06721982955615008, 0.06721982955615008, 0.20165948866845024, 0.5377586364492006, 0.11761936555126645, 0.2352387311025329, 0.11761936555126645, 0.4704774622050658, 0.18724124621749097, 0.06241374873916365, 0.6241374873916365, 0.05345613046499846, 0.29400871755749153, 0.16036839139499537, 0.02672806523249923, 0.02672806523249923, 0.02672806523249923, 0.02672806523249923, 0.02672806523249923, 0.05345613046499846, 0.02672806523249923, 0.13364032616249616, 0.02672806523249923, 0.05345613046499846, 0.2768576821322833, 0.07910219489493808, 0.03955109744746904, 0.5141642668170975, 0.00316939086999734, 0.00633878173999468, 0.00316939086999734, 0.00633878173999468, 0.01901634521998404, 0.6085230470394892, 0.00633878173999468, 0.02218573608998138, 0.0158469543499867, 0.0633878173999468, 0.00950817260999202, 0.00633878173999468, 0.00633878173999468, 0.00950817260999202, 0.00316939086999734, 0.00316939086999734, 0.01267756347998936, 0.00316939086999734, 0.1901634521998404, 0.00316939086999734, 0.0069512297092275835, 0.0034756148546137918, 0.013902459418455167, 0.0034756148546137918, 0.010426844563841374, 0.013902459418455167, 0.5769520658658894, 0.0069512297092275835, 0.017378074273068957, 0.020853689127682748, 0.04518299310997929, 0.010426844563841374, 0.010426844563841374, 0.0034756148546137918, 0.010426844563841374, 0.010426844563841374, 0.0034756148546137918, 0.017378074273068957, 0.0069512297092275835, 0.19811004671298613, 0.0069512297092275835, 0.0924999746308397, 0.6937498097312977, 0.04624998731541985, 0.04624998731541985, 0.06277680870714344, 0.1255536174142869, 0.6905448957785779, 0.052442612082246806, 0.8390817933159489, 0.09254710110258044, 0.7403768088206435, 0.8858933992182877, 0.026155842072200147, 0.8892986304548051, 0.648928067762825, 0.10815467796047082, 0.679304356869417, 0.1132173928115695, 0.02239629353991047, 0.2463592289390152, 0.02239629353991047, 0.02239629353991047, 0.03359444030986571, 0.03359444030986571, 0.011198146769955236, 0.011198146769955236, 0.5039166046479856, 0.04479258707982094, 0.011198146769955236, 0.011198146769955236, 0.011198146769955236, 0.011198146769955236, 0.011198146769955236, 0.17412665416372272, 0.08706332708186136, 0.34825330832744544, 0.08706332708186136, 0.08706332708186136, 0.08706332708186136, 0.08706332708186136, 0.5466080139587276, 0.34163000872420474, 0.5450204195971333, 0.10900408391942668, 0.08084269892939201, 0.16168539785878402, 0.6467415914351361, 0.08084269892939201, 0.44240092459048025, 0.11060023114762006, 0.22120046229524012, 0.11060023114762006, 0.7116503299694674, 0.06469548454267886, 0.06469548454267886, 0.06469548454267886, 0.06469548454267886, 0.06469548454267886, 0.020898177829386178, 0.020898177829386178, 0.12538906697631705, 0.06269453348815852, 0.06269453348815852, 0.020898177829386178, 0.020898177829386178, 0.020898177829386178, 0.08359271131754471, 0.020898177829386178, 0.020898177829386178, 0.041796355658772356, 0.020898177829386178, 0.06269453348815852, 0.22987995612324794, 0.020898177829386178, 0.12538906697631705, 0.12811042352564944, 0.6405521176282473, 0.1732394131711239, 0.7622534179529452, 0.8201825045104469, 0.06309096188541899, 0.11556161627707709, 0.5778080813853854, 0.11556161627707709, 0.11556161627707709, 0.07921046211836137, 0.633683696946891, 0.07921046211836137, 0.04660169572145511, 0.04660169572145511, 0.7456271315432818, 0.04660169572145511, 0.04660169572145511, 0.12166653693242767, 0.7299992215945661, 0.12166653693242767, 0.07023420068041744, 0.7725762074845919, 0.07023420068041744, 0.0429637113585085, 0.0429637113585085, 0.1288911340755255, 0.171854845434034, 0.085927422717017, 0.0429637113585085, 0.0429637113585085, 0.343709690868068, 0.0429637113585085, 0.0429637113585085, 0.01634797076635076, 0.42504723992511984, 0.22887159072891067, 0.01634797076635076, 0.01634797076635076, 0.03269594153270152, 0.01634797076635076, 0.049043912299052285, 0.01634797076635076, 0.03269594153270152, 0.01634797076635076, 0.01634797076635076, 0.01634797076635076, 0.049043912299052285, 0.01634797076635076, 0.2159789355824737, 0.5399473389561842, 0.10798946779123685, 0.8222206733794251, 0.029104468762930477, 0.014552234381465239, 0.014552234381465239, 0.014552234381465239, 0.30559692201077, 0.014552234381465239, 0.014552234381465239, 0.029104468762930477, 0.10186564067025666, 0.014552234381465239, 0.058208937525860954, 0.043656703144395716, 0.014552234381465239, 0.043656703144395716, 0.014552234381465239, 0.029104468762930477, 0.029104468762930477, 0.043656703144395716, 0.014552234381465239, 0.058208937525860954, 0.07276117190732619, 0.027291292785645592, 0.3820780989990383, 0.027291292785645592, 0.027291292785645592, 0.027291292785645592, 0.08187387835693677, 0.10916517114258237, 0.027291292785645592, 0.027291292785645592, 0.027291292785645592, 0.027291292785645592, 0.027291292785645592, 0.054582585571291184, 0.054582585571291184, 0.027291292785645592, 0.020250510898784206, 0.030375766348176313, 0.030375766348176313, 0.02531313862348026, 0.12150306539270525, 0.05062627724696052, 0.030375766348176313, 0.045563649522264466, 0.04050102179756841, 0.015187883174088156, 0.17719197036436182, 0.020250510898784206, 0.035438394072872366, 0.05568890497165657, 0.020250510898784206, 0.04050102179756841, 0.030375766348176313, 0.020250510898784206, 0.045563649522264466, 0.09112729904452893, 0.05062627724696052, 0.1905513952856588, 0.5240163370355616, 0.0952756976428294, 0.1429135464642441, 0.06616144892091735, 0.7608566625905496, 0.03308072446045868, 0.06616144892091735, 0.024226892220639343, 0.024226892220639343, 0.024226892220639343, 0.24226892220639343, 0.14536135332383607, 0.04845378444127869, 0.024226892220639343, 0.024226892220639343, 0.024226892220639343, 0.04845378444127869, 0.024226892220639343, 0.29072270664767214, 0.023427612873573596, 0.018742090298858878, 0.44512464459789836, 0.014056567724144159, 0.056226270896576634, 0.028113135448288317, 0.018742090298858878, 0.051540748321861916, 0.023427612873573596, 0.018742090298858878, 0.028113135448288317, 0.028113135448288317, 0.028113135448288317, 0.042169703172432474, 0.009371045149429439, 0.042169703172432474, 0.014056567724144159, 0.018742090298858878, 0.03279865802300304, 0.037484180597717756, 0.028113135448288317, 0.7974993863065619, 0.036906908342118204, 0.009226727085529551, 0.018453454171059102, 0.17530781462506145, 0.009226727085529551, 0.02768018125658865, 0.018453454171059102, 0.018453454171059102, 0.02768018125658865, 0.009226727085529551, 0.018453454171059102, 0.009226727085529551, 0.6274174418160094, 0.00857329159930162, 0.00857329159930162, 0.00857329159930162, 0.00857329159930162, 0.00857329159930162, 0.00857329159930162, 0.00857329159930162, 0.00857329159930162, 0.00857329159930162, 0.00857329159930162, 0.00857329159930162, 0.9087689095259718, 0.027909979944795885, 0.01993569996056849, 0.06379423987381917, 0.031897119936909586, 0.13556275973186574, 0.03987139992113698, 0.047845679905364376, 0.05581995988959177, 0.05183281989747807, 0.04385853991325068, 0.05581995988959177, 0.031897119936909586, 0.04385853991325068, 0.047845679905364376, 0.015948559968454793, 0.03987139992113698, 0.015948559968454793, 0.027909979944795885, 0.05980709988170547, 0.07176851985804657, 0.07974279984227396, 0.09551674854810595, 0.09551674854810595, 0.09551674854810595, 0.09551674854810595, 0.4775837427405297, 0.039744682548277774, 0.039744682548277774, 0.039744682548277774, 0.039744682548277774, 0.07948936509655555, 0.039744682548277774, 0.039744682548277774, 0.039744682548277774, 0.4769361905793333, 0.07948936509655555, 0.039744682548277774, 0.039744682548277774, 0.10227003727492605, 0.15340505591238907, 0.051135018637463024, 0.10227003727492605, 0.46021516773716725, 0.051135018637463024, 0.10438503007754095, 0.6263101804652457, 0.10438503007754095, 0.09339127150526799, 0.653738900536876, 0.09339127150526799, 0.14014868594266205, 0.5605947437706482, 0.14014868594266205, 0.06398120754244138, 0.831755698051738, 0.016836809680084316, 0.9091877227245531, 0.016836809680084316, 0.01619590291723884, 0.01619590291723884, 0.01619590291723884, 0.01619590291723884, 0.01619590291723884, 0.8745787575308974, 0.01619590291723884, 0.01821708020272961, 0.27325620304094417, 0.05465124060818883, 0.05465124060818883, 0.07286832081091844, 0.03643416040545922, 0.03643416040545922, 0.03643416040545922, 0.01821708020272961, 0.01821708020272961, 0.05465124060818883, 0.01821708020272961, 0.03643416040545922, 0.03643416040545922, 0.05465124060818883, 0.09108540101364805, 0.05465124060818883, 0.01821708020272961, 0.051740777309634264, 0.051740777309634264, 0.7761116596445139, 0.030907480390797677, 0.8963169313331326, 0.04723560545707234, 0.015745201819024113, 0.031490403638048226, 0.031490403638048226, 0.015745201819024113, 0.015745201819024113, 0.015745201819024113, 0.015745201819024113, 0.7715148891321816, 0.008007817956391368, 0.008007817956391368, 0.008007817956391368, 0.008007817956391368, 0.008007817956391368, 0.7447270699443972, 0.008007817956391368, 0.008007817956391368, 0.008007817956391368, 0.008007817956391368, 0.008007817956391368, 0.016015635912782735, 0.008007817956391368, 0.008007817956391368, 0.12812508730226188, 0.008007817956391368, 0.008007817956391368, 0.012641944597651398, 0.012641944597651398, 0.012641944597651398, 0.012641944597651398, 0.012641944597651398, 0.025283889195302795, 0.5688875068943129, 0.012641944597651398, 0.012641944597651398, 0.012641944597651398, 0.012641944597651398, 0.26548083655067933, 0.7473885303483958, 0.10676979004977083, 0.015859828575665015, 0.015859828575665015, 0.015859828575665015, 0.07929914287832507, 0.015859828575665015, 0.03171965715133003, 0.015859828575665015, 0.015859828575665015, 0.47579485726995047, 0.03171965715133003, 0.015859828575665015, 0.03171965715133003, 0.015859828575665015, 0.015859828575665015, 0.03171965715133003, 0.015859828575665015, 0.03171965715133003, 0.09515897145399009, 0.015859828575665015, 0.018064389471423567, 0.018064389471423567, 0.018064389471423567, 0.018064389471423567, 0.8851550840997549, 0.0728422712109404, 0.0728422712109404, 0.5827381696875232, 0.1456845424218808, 0.06849367482461179, 0.6849367482461178, 0.06849367482461179, 0.06849367482461179, 0.02548776167575351, 0.012743880837876755, 0.45877971016356317, 0.012743880837876755, 0.06371940418938378, 0.012743880837876755, 0.038231642513630266, 0.012743880837876755, 0.012743880837876755, 0.012743880837876755, 0.038231642513630266, 0.05097552335150702, 0.02548776167575351, 0.038231642513630266, 0.012743880837876755, 0.02548776167575351, 0.012743880837876755, 0.012743880837876755, 0.012743880837876755, 0.038231642513630266, 0.06371940418938378, 0.11964166585568546, 0.47856666342274184, 0.11964166585568546, 0.11964166585568546, 0.11964166585568546, 0.6744850122011198, 0.11241416870018663, 0.11241416870018663, 0.1555980504828422, 0.1555980504828422, 0.3111961009656844, 0.1555980504828422, 0.10438127806563968, 0.02609531951640992, 0.05219063903281984, 0.01304765975820496, 0.01304765975820496, 0.01304765975820496, 0.01304765975820496, 0.01304765975820496, 0.2870485146805091, 0.01304765975820496, 0.01304765975820496, 0.09133361830743472, 0.01304765975820496, 0.03914297927461488, 0.01304765975820496, 0.01304765975820496, 0.01304765975820496, 0.18266723661486944, 0.01304765975820496, 0.01304765975820496, 0.05219063903281984, 0.12987161889874907, 0.5194864755949963, 0.12987161889874907, 0.01876418297637159, 0.24393437869283063, 0.009382091488185794, 0.04691045744092897, 0.01876418297637159, 0.6004538552438908, 0.009382091488185794, 0.009382091488185794, 0.009382091488185794, 0.009382091488185794, 0.048356403868427635, 0.09671280773685527, 0.6769896541579868, 0.042463399141171525, 0.042463399141171525, 0.12739019742351457, 0.042463399141171525, 0.08492679828234305, 0.5095607896940583, 0.08492679828234305, 0.020081560231676853, 0.020081560231676853, 0.040163120463353706, 0.040163120463353706, 0.020081560231676853, 0.020081560231676853, 0.7430177285720435, 0.020081560231676853, 0.040163120463353706, 0.03711500206754214, 0.03711500206754214, 0.07423000413508428, 0.07423000413508428, 0.07423000413508428, 0.03711500206754214, 0.07423000413508428, 0.03711500206754214, 0.03711500206754214, 0.03711500206754214, 0.48249502687804785, 0.02124974315849598, 0.04249948631699196, 0.04249948631699196, 0.04249948631699196, 0.04249948631699196, 0.06374922947548795, 0.04249948631699196, 0.02124974315849598, 0.02124974315849598, 0.02124974315849598, 0.06374922947548795, 0.21249743158495982, 0.02124974315849598, 0.04249948631699196, 0.02124974315849598, 0.2337471747434558, 0.8315314235481289, 0.01912792106172193, 0.7268610003454333, 0.01912792106172193, 0.05738376318516578, 0.01912792106172193, 0.09563960530860964, 0.009372180562245064, 0.009372180562245064, 0.02811654168673519, 0.018744361124490128, 0.07497744449796051, 0.02811654168673519, 0.018744361124490128, 0.009372180562245064, 0.02811654168673519, 0.009372180562245064, 0.04686090281122532, 0.018744361124490128, 0.018744361124490128, 0.009372180562245064, 0.009372180562245064, 0.009372180562245064, 0.6279360976704192, 0.018744361124490128, 0.08548697593188131, 0.7693827833869318, 0.1109240736310378, 0.1109240736310378, 0.6655444417862268, 0.688054033973573, 0.08600675424669663, 0.7085089778245327, 0.06983304968310834, 0.02327768322770278, 0.04655536645540556, 0.02327768322770278, 0.02327768322770278, 0.02327768322770278, 0.06983304968310834, 0.02327768322770278, 0.09311073291081112, 0.27933219873243337, 0.04655536645540556, 0.02327768322770278, 0.04655536645540556, 0.02327768322770278, 0.02327768322770278, 0.04655536645540556, 0.02327768322770278, 0.04655536645540556, 0.02327768322770278, 0.04655536645540556, 0.10297540126238161, 0.10297540126238161, 0.41190160504952644, 0.20595080252476322, 0.042038111193778725, 0.7146478902942384, 0.08407622238755745, 0.042038111193778725, 0.07479273227963437, 0.018698183069908593, 0.018698183069908593, 0.13088728148936016, 0.504850942887532, 0.018698183069908593, 0.11218909841945156, 0.05609454920972578, 0.018698183069908593, 0.0444158189546444, 0.038070701961123776, 0.038070701961123776, 0.012690233987041258, 0.031725584967603145, 0.025380467974082516, 0.031725584967603145, 0.057106052941685664, 0.08248652091576818, 0.012690233987041258, 0.19035350980561888, 0.057106052941685664, 0.025380467974082516, 0.038070701961123776, 0.025380467974082516, 0.031725584967603145, 0.019035350980561888, 0.0444158189546444, 0.0444158189546444, 0.06345116993520629, 0.07614140392224755, 0.18671337174229902, 0.03394788577132709, 0.05092182865699064, 0.02546091432849532, 0.05092182865699064, 0.008486971442831772, 0.042434857214158864, 0.05092182865699064, 0.016973942885663545, 0.016973942885663545, 0.05092182865699064, 0.02546091432849532, 0.042434857214158864, 0.05092182865699064, 0.042434857214158864, 0.042434857214158864, 0.042434857214158864, 0.02546091432849532, 0.02546091432849532, 0.09335668587114951, 0.08486971442831773, 0.0741841609256075, 0.148368321851215, 0.59347328740486, 0.0653564759858259, 0.42481709390786837, 0.1307129519716518, 0.03267823799291295, 0.03267823799291295, 0.03267823799291295, 0.16339118996456475, 0.0653564759858259, 0.03679744110071692, 0.032197760963127306, 0.09659328288938192, 0.022998400687948076, 0.032197760963127306, 0.055196161651075375, 0.08739392261420269, 0.09659328288938192, 0.03679744110071692, 0.022998400687948076, 0.05979584178866499, 0.022998400687948076, 0.032197760963127306, 0.04599680137589615, 0.027598080825537687, 0.06899520206384423, 0.027598080825537687, 0.027598080825537687, 0.041397121238306536, 0.07359488220143384, 0.06439552192625461, 0.10650786635912843, 0.4473330387083394, 0.021301573271825688, 0.021301573271825688, 0.3195235990773853, 0.08371110684951068, 0.010463888356188835, 0.010463888356188835, 0.010463888356188835, 0.5127305294532529, 0.010463888356188835, 0.010463888356188835, 0.010463888356188835, 0.05231944178094418, 0.2406694321923432, 0.010463888356188835, 0.010463888356188835, 0.010463888356188835, 0.010463888356188835, 0.0684444096030896, 0.4791108672216272, 0.0684444096030896, 0.0684444096030896, 0.0684444096030896, 0.0684444096030896, 0.0684444096030896, 0.13906694204485284, 0.13906694204485284, 0.41720082613455856, 0.10225860431444392, 0.7158102302011073, 0.10225860431444392, 0.11043828949773318, 0.11043828949773318, 0.11043828949773318, 0.11043828949773318, 0.44175315799093273, 0.11043828949773318, 0.8150496287613438, 0.028265475288171114, 0.05653095057634223, 0.028265475288171114, 0.14132737644085555, 0.2261238023053689, 0.028265475288171114, 0.028265475288171114, 0.4239821293225667, 0.03611286301280436, 0.03611286301280436, 0.39724149314084795, 0.10833858903841308, 0.3250157671152392, 0.04186695034148629, 0.013955650113828762, 0.013955650113828762, 0.013955650113828762, 0.027911300227657525, 0.013955650113828762, 0.013955650113828762, 0.013955650113828762, 0.013955650113828762, 0.027911300227657525, 0.013955650113828762, 0.013955650113828762, 0.013955650113828762, 0.7536051061467531, 0.013955650113828762, 0.0036218925835206136, 0.05795028133632982, 0.02173135550112368, 0.02173135550112368, 0.050706496169288594, 0.03984081841872675, 0.014487570334082454, 0.02173135550112368, 0.03984081841872675, 0.01086567775056184, 0.03621892583520614, 0.01810946291760307, 0.01810946291760307, 0.014487570334082454, 0.06881595908689166, 0.02173135550112368, 0.02173135550112368, 0.01086567775056184, 0.47084603585767976, 0.014487570334082454, 0.02173135550112368, 0.10898120446832187, 0.6538872268099312, 0.6763825859591709, 0.16909564648979272, 0.012050927728708718, 0.024101855457417436, 0.07230556637225231, 0.04820371091483487, 0.03615278318612616, 0.09640742182966974, 0.012050927728708718, 0.012050927728708718, 0.03615278318612616, 0.024101855457417436, 0.04820371091483487, 0.03615278318612616, 0.012050927728708718, 0.012050927728708718, 0.024101855457417436, 0.04820371091483487, 0.012050927728708718, 0.012050927728708718, 0.024101855457417436, 0.4097315427760964, 0.616839401334012, 0.257016417222505, 0.8021868364994464, 0.06684890304162054, 0.7872744249334102, 0.0698443183482448, 0.027937727339297915, 0.0698443183482448, 0.027937727339297915, 0.06053174256847882, 0.03725030311906389, 0.05587545467859583, 0.04190659100894687, 0.03725030311906389, 0.02328143944941493, 0.07915689412801076, 0.027937727339297915, 0.03725030311906389, 0.05587545467859583, 0.02328143944941493, 0.027937727339297915, 0.0325940152291809, 0.013968863669648958, 0.03725030311906389, 0.08381318201789374, 0.1303760609167236, 0.12224607840752001, 0.12224607840752001, 0.6112303920376001, 0.12224607840752001, 0.6597020782504555, 0.10995034637507592, 0.10995034637507592, 0.18365978104526962, 0.061219927015089874, 0.6121992701508987, 0.07067997668002649, 0.7067997668002649, 0.07067997668002649, 0.07067997668002649, 0.6434417973076874, 0.1838405135164821, 0.04596012837912052, 0.04596012837912052, 0.08576693612526672, 0.6861354890021337, 0.08576693612526672, 0.08576693612526672, 0.017485693585661436, 0.017485693585661436, 0.15737124227095292, 0.05245708075698431, 0.03497138717132287, 0.05245708075698431, 0.017485693585661436, 0.3322281781275673, 0.03497138717132287, 0.05245708075698431, 0.05245708075698431, 0.017485693585661436, 0.03497138717132287, 0.03497138717132287, 0.017485693585661436, 0.03497138717132287, 0.03497138717132287, 0.03497138717132287, 0.04461285555248624, 0.04461285555248624, 0.04461285555248624, 0.5799671221823212, 0.08922571110497247, 0.04461285555248624, 0.04461285555248624, 0.04461285555248624, 0.04461285555248624, 0.06300633463333288, 0.6930696809666617, 0.06300633463333288, 0.06300633463333288, 0.6736355911905776, 0.4365783935670554, 0.14552613118901847, 0.14552613118901847, 0.6829626207865411, 0.06829626207865412, 0.06829626207865412, 0.06829626207865412, 0.06829626207865412, 0.06829626207865412, 0.013645521284434003, 0.013645521284434003, 0.7914402344971722, 0.013645521284434003, 0.027291042568868006, 0.013645521284434003, 0.013645521284434003, 0.013645521284434003, 0.05458208513773601, 0.05464856211486952, 0.10929712422973904, 0.05464856211486952, 0.21859424845947809, 0.43718849691895617, 0.05464856211486952, 0.023202126805844416, 0.023202126805844416, 0.06960638041753324, 0.023202126805844416, 0.023202126805844416, 0.04640425361168883, 0.04640425361168883, 0.023202126805844416, 0.04640425361168883, 0.023202126805844416, 0.6032552969519548, 0.07636519586201648, 0.6872867627581483, 0.12183046479012499, 0.73098278874075, 0.10534080493314839, 0.6320448295988903, 0.10534080493314839, 0.8209153924074082, 0.35594583184329753, 0.5339187477649463, 0.01381423408385871, 0.06216405337736419, 0.03453558520964677, 0.01381423408385871, 0.02762846816771742, 0.02762846816771742, 0.01381423408385871, 0.041442702251576126, 0.01381423408385871, 0.01381423408385871, 0.01381423408385871, 0.02762846816771742, 0.03453558520964677, 0.08288540450315225, 0.03453558520964677, 0.1381423408385871, 0.04834981929350548, 0.14504945788051646, 0.08288540450315225, 0.08288540450315225, 0.041442702251576126, 0.05391220563164162, 0.05391220563164162, 0.10782441126328324, 0.3234732337898497, 0.05391220563164162, 0.10782441126328324, 0.16173661689492486, 0.03840329529909451, 0.03840329529909451, 0.03840329529909451, 0.03840329529909451, 0.7296626106827956, 0.0850951414725154, 0.0850951414725154, 0.5956659903076078, 0.0850951414725154, 0.047521385205660356, 0.09504277041132071, 0.047521385205660356, 0.047521385205660356, 0.047521385205660356, 0.047521385205660356, 0.5227352372622639, 0.12744664829350094, 0.6372332414675047, 0.08854176346755498, 0.04427088173377749, 0.04427088173377749, 0.04427088173377749, 0.6640632260066623, 0.0077495811270971516, 0.0077495811270971516, 0.015499162254194303, 0.023248743381291456, 0.0077495811270971516, 0.015499162254194303, 0.0077495811270971516, 0.04649748676258291, 0.015499162254194303, 0.0077495811270971516, 0.03874790563548576, 0.03874790563548576, 0.0077495811270971516, 0.0077495811270971516, 0.6199664901677722, 0.015499162254194303, 0.0077495811270971516, 0.0077495811270971516, 0.09299497352516582, 0.07382725456281607, 0.07382725456281607, 0.07382725456281607, 0.07382725456281607, 0.07382725456281607, 0.5906180365025285, 0.07382725456281607, 0.11883938567353922, 0.11883938567353922, 0.11883938567353922, 0.47535754269415686, 0.2195886353323156, 0.548971588330789, 0.11893896862891948, 0.11893896862891948, 0.4757558745156779, 0.11893896862891948, 0.024543595630163298, 0.024543595630163298, 0.06544958834710213, 0.016362397086775532, 0.09817438252065319, 0.04090599271693883, 0.016362397086775532, 0.024543595630163298, 0.032724794173551064, 0.024543595630163298, 0.34361033882228614, 0.016362397086775532, 0.024543595630163298, 0.049087191260326596, 0.016362397086775532, 0.016362397086775532, 0.016362397086775532, 0.016362397086775532, 0.04090599271693883, 0.08181198543387766, 0.024543595630163298, 0.02479303034069824, 0.7437909102209472, 0.02479303034069824, 0.02479303034069824, 0.02479303034069824, 0.02479303034069824, 0.04958606068139648, 0.07924144640050934, 0.15848289280101868, 0.6339315712040747, 0.028430086287491475, 0.028430086287491475, 0.028430086287491475, 0.028430086287491475, 0.08529025886247442, 0.7391822434747783, 0.06124816763411811, 0.06124816763411811, 0.24499267053647245, 0.551233508707063, 0.5416287881836839, 0.13540719704592097, 0.13540719704592097, 0.14444348258710518, 0.4333304477613156, 0.1766480012389533, 0.26497200185842995, 0.3532960024779066, 0.041816358868170506, 0.041816358868170506, 0.08363271773634101, 0.5436126652862165, 0.16726543547268202, 0.11103487434501563, 0.022206974869003127, 0.022206974869003127, 0.6662092460700938, 0.022206974869003127, 0.022206974869003127, 0.022206974869003127, 0.06662092460700939, 0.022206974869003127, 0.022206974869003127, 0.0206506688486803, 0.49561605236832723, 0.0413013376973606, 0.0413013376973606, 0.0206506688486803, 0.0206506688486803, 0.0413013376973606, 0.061952006546040904, 0.0826026753947212, 0.0206506688486803, 0.0206506688486803, 0.0206506688486803, 0.0206506688486803, 0.0206506688486803, 0.1032533442434015, 0.0206506688486803, 0.08518492002959946, 0.7666642802663951, 0.6840618232299509, 0.1578604207453733, 0.052620140248457764, 0.006281095675266026, 0.003140547837633013, 0.8699317510243445, 0.003140547837633013, 0.006281095675266026, 0.003140547837633013, 0.015702739188165064, 0.009421643512899038, 0.006281095675266026, 0.009421643512899038, 0.012562191350532052, 0.003140547837633013, 0.006281095675266026, 0.006281095675266026, 0.006281095675266026, 0.003140547837633013, 0.006281095675266026, 0.003140547837633013, 0.009421643512899038, 0.009421643512899038, 0.026890322079325058, 0.02372675477587505, 0.11072485562075024, 0.025308538427600055, 0.06485312972072514, 0.039544591293125084, 0.056944211462100124, 0.03479924033795007, 0.03479924033795007, 0.028472105731050062, 0.06959848067590015, 0.020563187472425044, 0.07592561528280016, 0.049035293203475105, 0.01898140382070004, 0.03796280764140008, 0.036381023989675076, 0.020563187472425044, 0.028472105731050062, 0.16134193247595036, 0.03479924033795007, 0.03700939099218543, 0.08459289369642382, 0.010574111712052978, 0.013217639640066224, 0.04229644684821191, 0.03436586306417218, 0.0237917513521192, 0.25113515316125823, 0.015861167568079468, 0.010574111712052978, 0.026435279280132448, 0.03965291892019867, 0.010574111712052978, 0.0475835027042384, 0.04229644684821191, 0.06080114234430463, 0.0951670054084768, 0.018504695496092714, 0.0237917513521192, 0.08459289369642382, 0.026435279280132448, 0.014662228587789634, 0.4838535433970579, 0.014662228587789634, 0.014662228587789634, 0.014662228587789634, 0.14662228587789633, 0.014662228587789634, 0.029324457175579268, 0.029324457175579268, 0.029324457175579268, 0.0439866857633689, 0.10263560011452744, 0.029324457175579268, 0.014662228587789634, 0.029324457175579268, 0.5354644965228862, 0.15298985614939606, 0.22948478422409407, 0.1749880438174566, 0.0194431159797174, 0.0388862319594348, 0.46663478351321763, 0.0194431159797174, 0.0194431159797174, 0.0194431159797174, 0.0194431159797174, 0.0388862319594348, 0.0194431159797174, 0.0194431159797174, 0.0777724639188696, 0.04538813661490213, 0.04538813661490213, 0.13616440984470637, 0.04538813661490213, 0.04538813661490213, 0.04538813661490213, 0.04538813661490213, 0.4538813661490213, 0.04538813661490213, 0.04538813661490213, 0.12803092849245856, 0.12803092849245856, 0.5121237139698342, 0.12803092849245856, 0.06181301488156542, 0.37087808928939253, 0.06181301488156542, 0.18543904464469627, 0.06181301488156542, 0.06181301488156542, 0.06181301488156542, 0.06181301488156542, 0.06181301488156542, 0.06181301488156542, 0.017848381665978217, 0.053545144997934654, 0.017848381665978217, 0.017848381665978217, 0.6960868849731505, 0.017848381665978217, 0.017848381665978217, 0.017848381665978217, 0.017848381665978217, 0.017848381665978217, 0.017848381665978217, 0.017848381665978217, 0.035696763331956434, 0.05798487174153241, 0.03865658116102161, 0.019328290580510804, 0.019328290580510804, 0.019328290580510804, 0.019328290580510804, 0.03865658116102161, 0.05798487174153241, 0.03865658116102161, 0.019328290580510804, 0.5798487174153241, 0.03865658116102161, 0.037579399378997284, 0.018789699689498642, 0.11273819813699186, 0.037579399378997284, 0.037579399378997284, 0.018789699689498642, 0.05636909906849593, 0.018789699689498642, 0.41337339316897015, 0.018789699689498642, 0.018789699689498642, 0.018789699689498642, 0.018789699689498642, 0.018789699689498642, 0.037579399378997284, 0.018789699689498642, 0.018789699689498642, 0.07515879875799457, 0.018789699689498642, 0.14331268522965368, 0.14331268522965368, 0.42993805568896104, 0.14331268522965368, 0.10056432927505336, 0.10056432927505336, 0.7039503049253735, 0.04455667264826838, 0.04455667264826838, 0.17822669059307353, 0.04455667264826838, 0.04455667264826838, 0.08911334529653676, 0.08911334529653676, 0.44556672648268386, 0.49700562928599745, 0.0994011258571995, 0.2982033775715985, 0.3263159067602001, 0.08157897669005003, 0.16315795338010006, 0.08157897669005003, 0.6922190814331769, 0.11536984690552948, 0.15569571770280996, 0.15569571770280996, 0.6227828708112398, 0.06132195531764049, 0.7971854191293264, 0.026497878072848185, 0.026497878072848185, 0.026497878072848185, 0.026497878072848185, 0.026497878072848185, 0.05299575614569637, 0.7684384641125974, 0.08007172120831928, 0.08007172120831928, 0.7206454908748735, 0.03820251633360212, 0.07640503266720423, 0.03820251633360212, 0.03820251633360212, 0.03820251633360212, 0.4966327123368275, 0.03820251633360212, 0.07640503266720423, 0.03820251633360212, 0.8117961407131086, 0.08117961407131086, 0.028210424148147468, 0.056420848296294936, 0.8181023002962766, 0.028210424148147468, 0.005793271239023437, 0.02317308495609375, 0.02317308495609375, 0.18538467964875, 0.05793271239023438, 0.017379813717070314, 0.017379813717070314, 0.052139441151210934, 0.06951925486828125, 0.04055289867316406, 0.017379813717070314, 0.017379813717070314, 0.2491106632780078, 0.017379813717070314, 0.017379813717070314, 0.011586542478046875, 0.011586542478046875, 0.005793271239023437, 0.06951925486828125, 0.011586542478046875, 0.08689906858535155, 0.09270192305723055, 0.06952644229292292, 0.023175480764307636, 0.4866850960504604, 0.023175480764307636, 0.06952644229292292, 0.023175480764307636, 0.11587740382153819, 0.023175480764307636, 0.04635096152861527, 0.2791575596369304, 0.5583151192738608, 0.05419664537067171, 0.005419664537067171, 0.005419664537067171, 0.005419664537067171, 0.005419664537067171, 0.7750120288006055, 0.005419664537067171, 0.010839329074134343, 0.005419664537067171, 0.005419664537067171, 0.032517987222403025, 0.032517987222403025, 0.027098322685335855, 0.005419664537067171, 0.005419664537067171, 0.005419664537067171, 0.005419664537067171, 0.005419664537067171, 0.03291933157490343, 0.06583866314980685, 0.7900639577976821, 0.02810750549881543, 0.02810750549881543, 0.02810750549881543, 0.0843225164964463, 0.02810750549881543, 0.02810750549881543, 0.02810750549881543, 0.02810750549881543, 0.02810750549881543, 0.02810750549881543, 0.02810750549881543, 0.02810750549881543, 0.02810750549881543, 0.02810750549881543, 0.02810750549881543, 0.5340426044774932, 0.27677443339033536, 0.5535488667806707, 0.10851906187063869, 0.10851906187063869, 0.6511143712238322, 0.11269476028082565, 0.02817369007020641, 0.16904214042123847, 0.02817369007020641, 0.05634738014041282, 0.02817369007020641, 0.02817369007020641, 0.02817369007020641, 0.4226053510530962, 0.02817369007020641, 0.05113211158718687, 0.40905689269749496, 0.05113211158718687, 0.05113211158718687, 0.05113211158718687, 0.20452844634874748, 0.10226422317437374, 0.4507198846453478, 0.15023996154844926, 0.8364818612638084, 0.026140058164494013, 0.026140058164494013, 0.026140058164494013, 0.026140058164494013, 0.026140058164494013, 0.010037705485543941, 0.09033934936989547, 0.04516967468494774, 0.010037705485543941, 0.01505655822831591, 0.020075410971087882, 0.0050188527427719705, 0.0050188527427719705, 0.4868287160488811, 0.010037705485543941, 0.010037705485543941, 0.040150821942175764, 0.0050188527427719705, 0.03011311645663182, 0.01505655822831591, 0.0050188527427719705, 0.010037705485543941, 0.09033934936989547, 0.010037705485543941, 0.010037705485543941, 0.08030164388435153, 0.23480897496187306, 0.11740448748093653, 0.35221346244280954, 0.11740448748093653, 0.0575321247609058, 0.0575321247609058, 0.7479176218917755, 0.0590993565214135, 0.0590993565214135, 0.590993565214135, 0.0590993565214135, 0.0590993565214135, 0.0590993565214135, 0.118198713042827, 0.4469007539560669, 0.17876030158242676, 0.08938015079121338, 0.08938015079121338, 0.08938015079121338, 0.036685331244029666, 0.022011198746417802, 0.11372452685649197, 0.033016798119626704, 0.05869652999044747, 0.033016798119626704, 0.047690930617238565, 0.051359463741641534, 0.051359463741641534, 0.033016798119626704, 0.051359463741641534, 0.018342665622014833, 0.05869652999044747, 0.0990503943588801, 0.018342665622014833, 0.06603359623925341, 0.025679731870820767, 0.033016798119626704, 0.06236506311485043, 0.044022397492835603, 0.044022397492835603, 0.019647086216324453, 0.039294172432648905, 0.304529836353029, 0.039294172432648905, 0.07858834486529781, 0.019647086216324453, 0.039294172432648905, 0.019647086216324453, 0.019647086216324453, 0.039294172432648905, 0.09823543108162226, 0.019647086216324453, 0.039294172432648905, 0.039294172432648905, 0.009823543108162226, 0.019647086216324453, 0.05894125864897335, 0.009823543108162226, 0.019647086216324453, 0.029470629324486675, 0.039294172432648905, 0.0788686128021314, 0.0788686128021314, 0.6309489024170511, 0.22200549372088715, 0.03700091562014786, 0.51801281868207, 0.03700091562014786, 0.07400183124029572, 0.03700091562014786, 0.03700091562014786, 0.6157108631248691, 0.032405834901308904, 0.032405834901308904, 0.032405834901308904, 0.032405834901308904, 0.0972175047039267, 0.06481166980261781, 0.26248840649021943, 0.034237618237854706, 0.011412539412618236, 0.11412539412618236, 0.1255379335388006, 0.02282507882523647, 0.05706269706309118, 0.02282507882523647, 0.011412539412618236, 0.02282507882523647, 0.011412539412618236, 0.1255379335388006, 0.034237618237854706, 0.011412539412618236, 0.011412539412618236, 0.011412539412618236, 0.02282507882523647, 0.05706269706309118, 0.02282507882523647, 0.3593607977023132, 0.4941210968406807, 0.04492009971278915, 0.1279089884401917, 0.6395449422009584, 0.1279089884401917, 0.02332580001768724, 0.02332580001768724, 0.02332580001768724, 0.02332580001768724, 0.02332580001768724, 0.02332580001768724, 0.02332580001768724, 0.04665160003537448, 0.769751400583679, 0.02332580001768724, 0.02332580001768724, 0.02332580001768724, 0.04127668093962952, 0.24766008563777714, 0.04127668093962952, 0.12383004281888857, 0.04127668093962952, 0.04127668093962952, 0.04127668093962952, 0.3302134475170362, 0.01603504184513948, 0.01603504184513948, 0.19242050214167375, 0.03207008369027896, 0.400876046128487, 0.01603504184513948, 0.03207008369027896, 0.08017520922569739, 0.01603504184513948, 0.04810512553541844, 0.01603504184513948, 0.01603504184513948, 0.01603504184513948, 0.01603504184513948, 0.01603504184513948, 0.04810512553541844, 0.01603504184513948, 0.10673974452527434, 0.10673974452527434, 0.10673974452527434, 0.5336987226263716, 0.726562154243253, 0.06605110493120482, 0.06605110493120482, 0.04367628971684842, 0.02183814485842421, 0.2293005210134542, 0.02183814485842421, 0.05459536214606052, 0.030027449180333288, 0.03548698539493934, 0.04640605782415144, 0.02729768107303026, 0.02729768107303026, 0.06824420268257565, 0.024567912965727235, 0.04367628971684842, 0.04094652160954539, 0.019108376751121182, 0.0518655940387575, 0.038216753502242365, 0.019108376751121182, 0.02729768107303026, 0.07370373889718171, 0.05459536214606052, 0.10692636601994261, 0.10692636601994261, 0.10692636601994261, 0.3742422810697991, 0.10692636601994261, 0.053463183009971306, 0.03849520194437556, 0.031277351579805136, 0.060148753038086804, 0.02165355109371125, 0.08902015449636846, 0.03368330170132861, 0.05774280291656333, 0.050524952551992915, 0.03849520194437556, 0.031277351579805136, 0.11789155595465013, 0.031277351579805136, 0.040901152065899025, 0.04811900243046944, 0.02405950121523472, 0.06496065328113375, 0.03608925182285208, 0.03608925182285208, 0.03368330170132861, 0.06496065328113375, 0.050524952551992915, 0.09983096049439667, 0.7986476839551734, 0.05882073728742105, 0.03361184987852631, 0.008402962469631578, 0.016805924939263157, 0.05882073728742105, 0.016805924939263157, 0.03361184987852631, 0.06722369975705263, 0.04201481234815789, 0.008402962469631578, 0.24368591161931577, 0.08402962469631578, 0.03361184987852631, 0.050417774817789474, 0.04201481234815789, 0.025208887408894737, 0.04201481234815789, 0.03361184987852631, 0.03361184987852631, 0.04201481234815789, 0.03361184987852631, 0.027253387397967257, 0.009084462465989086, 0.1271824745238472, 0.009084462465989086, 0.01816892493197817, 0.009084462465989086, 0.027253387397967257, 0.03633784986395634, 0.009084462465989086, 0.027253387397967257, 0.01816892493197817, 0.009084462465989086, 0.054506774795934514, 0.01816892493197817, 0.01816892493197817, 0.417885273435498, 0.01816892493197817, 0.027253387397967257, 0.009084462465989086, 0.054506774795934514, 0.054506774795934514, 0.8420400283573863, 0.10701498493399933, 0.10701498493399933, 0.10701498493399933, 0.5350749246699966, 0.010680345858139834, 0.06408207514883901, 0.010680345858139834, 0.010680345858139834, 0.010680345858139834, 0.5660583304814113, 0.032041037574419506, 0.010680345858139834, 0.26700864645349587, 0.10241792270667628, 0.020483584541335257, 0.020483584541335257, 0.4301552753680404, 0.020483584541335257, 0.020483584541335257, 0.3277373526613641, 0.08791326114147877, 0.08791326114147877, 0.08791326114147877, 0.08791326114147877, 0.08791326114147877, 0.5274795668488725, 0.08791326114147877, 0.7030998839756896, 0.1406199767951379, 0.13062769557354417, 0.5225107822941767, 0.13062769557354417, 0.16484474306747085, 0.08242237153373543, 0.576956600736148, 0.7394741797149113, 0.08216379774610126, 0.08216379774610126, 0.8200873839984378, 0.16641234262222213, 0.01751708869707601, 0.043792721742690034, 0.008758544348538006, 0.12261962087953208, 0.008758544348538006, 0.09634398783391807, 0.05255126609122804, 0.01751708869707601, 0.02627563304561402, 0.03503417739415202, 0.06130981043976604, 0.008758544348538006, 0.008758544348538006, 0.01751708869707601, 0.03503417739415202, 0.10510253218245608, 0.03503417739415202, 0.01751708869707601, 0.02627563304561402, 0.10510253218245608, 0.3614159049339913, 0.01606292910817739, 0.028110125939310435, 0.012047196831133044, 0.09236184237202, 0.004015732277044348, 0.12850343286541913, 0.012047196831133044, 0.02007866138522174, 0.012047196831133044, 0.02007866138522174, 0.03212585821635478, 0.01606292910817739, 0.01606292910817739, 0.01606292910817739, 0.028110125939310435, 0.060235984155665216, 0.03212585821635478, 0.012047196831133044, 0.03212585821635478, 0.048188787324532176, 0.33436418767046827, 0.0363439334424422, 0.02907514675395376, 0.00726878668848844, 0.05815029350790752, 0.00726878668848844, 0.10176301363883816, 0.00726878668848844, 0.01453757337697688, 0.02180636006546532, 0.05088150681941908, 0.04361272013093064, 0.01453757337697688, 0.01453757337697688, 0.01453757337697688, 0.02907514675395376, 0.08722544026186128, 0.02180636006546532, 0.00726878668848844, 0.04361272013093064, 0.04361272013093064, 0.18811351845876578, 0.012540901230584385, 0.012540901230584385, 0.012540901230584385, 0.02508180246116877, 0.10032720984467508, 0.012540901230584385, 0.2758998270728565, 0.05016360492233754, 0.012540901230584385, 0.012540901230584385, 0.037622703691753155, 0.012540901230584385, 0.07524540738350631, 0.037622703691753155, 0.05016360492233754, 0.02508180246116877, 0.02508180246116877, 0.012540901230584385, 0.05016360492233754, 0.05440171128625919, 0.016320513385877755, 0.010880342257251837, 0.021760684514503675, 0.04352136902900735, 0.021760684514503675, 0.021760684514503675, 0.45697437480457714, 0.010880342257251837, 0.010880342257251837, 0.010880342257251837, 0.016320513385877755, 0.010880342257251837, 0.059841882414885104, 0.07616239580076287, 0.04352136902900735, 0.010880342257251837, 0.010880342257251837, 0.016320513385877755, 0.021760684514503675, 0.03264102677175551, 0.09546113114177902, 0.09546113114177902, 0.09546113114177902, 0.09546113114177902, 0.4773056557088951, 0.04070112970860811, 0.04070112970860811, 0.6105169456291217, 0.20350564854304057, 0.04070112970860811, 0.1296003543118704, 0.1296003543118704, 0.5184014172474816, 0.12102864424976138, 0.12102864424976138, 0.48411457699904553, 0.12102864424976138, 0.014788267934629494, 0.014788267934629494, 0.05915307173851798, 0.044364803803888485, 0.02957653586925899, 0.014788267934629494, 0.41407150216962585, 0.014788267934629494, 0.02957653586925899, 0.05915307173851798, 0.014788267934629494, 0.014788267934629494, 0.014788267934629494, 0.05915307173851798, 0.02957653586925899, 0.014788267934629494, 0.014788267934629494, 0.08872960760777697, 0.044364803803888485, 0.09467011894475075, 0.047335059472375374, 0.047335059472375374, 0.5680207136685045, 0.047335059472375374, 0.047335059472375374, 0.09467011894475075, 0.09394168650021845, 0.03131389550007282, 0.06262779100014564, 0.06262779100014564, 0.03131389550007282, 0.03131389550007282, 0.3131389550007282, 0.09394168650021845, 0.03131389550007282, 0.03131389550007282, 0.06262779100014564, 0.09394168650021845, 0.43858743177107035, 0.1644702869141514, 0.27411714485691896, 0.029676953589461257, 0.029676953589461257, 0.801277746915454, 0.029676953589461257, 0.029676953589461257, 0.029676953589461257, 0.060765946072972025, 0.08102126143062936, 0.7089360375180069, 0.02025531535765734, 0.02025531535765734, 0.02025531535765734, 0.02025531535765734, 0.02025531535765734, 0.009998849338707703, 0.04999424669353852, 0.019997698677415406, 0.7299160017256624, 0.009998849338707703, 0.009998849338707703, 0.009998849338707703, 0.009998849338707703, 0.009998849338707703, 0.009998849338707703, 0.04999424669353852, 0.04999424669353852, 0.009998849338707703, 0.009997740378135249, 0.039990961512540994, 0.019995480756270497, 0.6998418264694674, 0.009997740378135249, 0.009997740378135249, 0.009997740378135249, 0.009997740378135249, 0.009997740378135249, 0.009997740378135249, 0.08997966340321722, 0.05998644226881149, 0.009997740378135249, 0.03274103114693721, 0.01870916065539269, 0.0514501918023299, 0.01870916065539269, 0.09822309344081163, 0.03741832131078538, 0.056127481966178075, 0.0514501918023299, 0.06080477213002625, 0.03741832131078538, 0.07483664262157076, 0.028063740983089037, 0.04677290163848173, 0.07015935245772259, 0.01870916065539269, 0.04209561147463356, 0.023386450819240866, 0.023386450819240866, 0.03274103114693721, 0.07015935245772259, 0.1029003836046598, 0.04312471015787574, 0.028749806771917154, 0.0718745169297929, 0.023958172309930963, 0.11020759262568243, 0.04312471015787574, 0.04312471015787574, 0.05749961354383431, 0.047916344619861925, 0.028749806771917154, 0.062291248005820504, 0.028749806771917154, 0.04312471015787574, 0.0718745169297929, 0.028749806771917154, 0.033541441233903346, 0.03833307569588954, 0.023958172309930963, 0.04312471015787574, 0.07666615139177908, 0.047916344619861925, 0.6337030635268834, 0.01638080363614563, 0.01638080363614563, 0.14742723272531066, 0.019656964363374753, 0.09828482181687377, 0.019656964363374753, 0.05241857163566601, 0.03276160727229126, 0.049142410908436886, 0.055694732362895134, 0.07207553599904076, 0.03603776799952038, 0.09173250036241552, 0.02948544654506213, 0.019656964363374753, 0.04586625018120776, 0.019656964363374753, 0.03603776799952038, 0.026209285817833005, 0.07207553599904076, 0.039313928726749506, 0.0530389755146469, 0.0530389755146469, 0.0530389755146469, 0.0530389755146469, 0.0530389755146469, 0.5834287306611159, 0.7475358085723716, 0.7506443545436328, 0.09794992093001854, 0.09794992093001854, 0.09794992093001854, 0.5876995255801112, 0.8988111899595026, 0.060474788881466526, 0.060474788881466526, 0.18142436664439957, 0.060474788881466526, 0.12094957776293305, 0.36284873328879913, 0.08660861295832331, 0.043304306479161656, 0.043304306479161656, 0.043304306479161656, 0.6495645971874248, 0.0963080316281299, 0.0825497413955399, 0.04127487069776995, 0.02751658046517997, 0.02751658046517997, 0.05503316093035994, 0.02751658046517997, 0.05503316093035994, 0.02751658046517997, 0.013758290232589985, 0.04127487069776995, 0.04127487069776995, 0.04127487069776995, 0.04127487069776995, 0.02751658046517997, 0.02751658046517997, 0.04127487069776995, 0.24764922418661972, 0.013758290232589985, 0.02751658046517997, 0.013758290232589985, 0.01389471963152934, 0.01389471963152934, 0.15284191594682275, 0.01389471963152934, 0.01389471963152934, 0.01389471963152934, 0.01389471963152934, 0.02778943926305868, 0.5557887852611736, 0.01389471963152934, 0.01389471963152934, 0.01389471963152934, 0.01389471963152934, 0.01389471963152934, 0.05557887852611736, 0.05557887852611736, 0.01389471963152934, 0.02397252463099959, 0.07191757389299877, 0.02397252463099959, 0.04794504926199918, 0.02397252463099959, 0.07191757389299877, 0.02397252463099959, 0.3116428202029947, 0.04794504926199918, 0.16780767241699715, 0.04794504926199918, 0.02397252463099959, 0.04794504926199918, 0.02397252463099959, 0.07191757389299877, 0.45596646382039274, 0.1823865855281571, 0.09119329276407855, 0.09119329276407855, 0.811251501984398, 0.02973960096291488, 0.049566001604858134, 0.13878480449360278, 0.019826400641943253, 0.039652801283886506, 0.05947920192582976, 0.34696201123400694, 0.019826400641943253, 0.009913200320971626, 0.02973960096291488, 0.02973960096291488, 0.019826400641943253, 0.009913200320971626, 0.009913200320971626, 0.049566001604858134, 0.019826400641943253, 0.049566001604858134, 0.019826400641943253, 0.05947920192582976, 0.852376544400546, 0.03551568935002275, 0.017757844675011375, 0.017757844675011375, 0.017757844675011375, 0.06301356589907108, 0.12602713179814215, 0.5671220930916396, 0.12602713179814215, 0.024453093496374468, 0.061132733740936175, 0.04279291361865532, 0.030566366870468088, 0.04279291361865532, 0.048906186992748936, 0.036679640244561704, 0.06724600711502979, 0.036679640244561704, 0.024453093496374468, 0.030566366870468088, 0.036679640244561704, 0.061132733740936175, 0.15283183435234043, 0.024453093496374468, 0.030566366870468088, 0.036679640244561704, 0.030566366870468088, 0.055019460366842556, 0.06724600711502979, 0.055019460366842556, 0.8337705555635776, 0.09097230817667762, 0.6368061572367433, 0.09097230817667762, 0.09097230817667762, 0.10978740413719679, 0.6587244248231807, 0.015190608117426656, 0.1367154730568399, 0.030381216234853313, 0.015190608117426656, 0.015190608117426656, 0.030381216234853313, 0.5924337165796396, 0.015190608117426656, 0.060762432469706626, 0.015190608117426656, 0.015190608117426656, 0.015190608117426656, 0.015190608117426656, 0.030381216234853313, 0.5808790818232008, 0.11617581636464017, 0.11617581636464017, 0.16820235981669837, 0.03364047196333968, 0.03364047196333968, 0.5046070794500951, 0.03364047196333968, 0.06728094392667935, 0.03364047196333968, 0.03364047196333968, 0.03364047196333968, 0.03364047196333968, 0.03364047196333968, 0.03364047196333968, 0.025220545211276986, 0.021017121009397486, 0.17654381647893888, 0.021017121009397486, 0.04203424201879497, 0.04203424201879497, 0.037830817816915475, 0.04203424201879497, 0.01681369680751799, 0.037830817816915475, 0.1597301196714209, 0.021017121009397486, 0.029423969413156482, 0.05464451462443347, 0.01681369680751799, 0.025220545211276986, 0.06305136302819246, 0.03362739361503598, 0.021017121009397486, 0.058847938826312965, 0.05464451462443347, 0.14114080038983523, 0.5645632015593409, 0.14114080038983523, 0.08445625867172693, 0.08445625867172693, 0.08445625867172693, 0.4222812933586347, 0.08445625867172693, 0.11179875902838446, 0.11179875902838446, 0.6707925541703068, 0.6830879044167618, 0.08538598805209523, 0.08538598805209523, 0.7511286599870568, 0.015924481733281037, 0.015924481733281037, 0.875846495330457, 0.015924481733281037, 0.015924481733281037, 0.015924481733281037, 0.011095566795396127, 0.876549776836294, 0.011095566795396127, 0.022191133590792254, 0.011095566795396127, 0.011095566795396127, 0.011095566795396127, 0.011095566795396127, 0.011891763401500208, 0.011891763401500208, 0.856206964908015, 0.011891763401500208, 0.023783526803000415, 0.011891763401500208, 0.011891763401500208, 0.011891763401500208, 0.011891763401500208, 0.011891763401500208, 0.011891763401500208, 0.5095437670595018, 0.7501685066973455, 0.011196544876079784, 0.011196544876079784, 0.011196544876079784, 0.011196544876079784, 0.02239308975215957, 0.08957235900863827, 0.011196544876079784, 0.011196544876079784, 0.02239308975215957, 0.02239308975215957, 0.05229223833360682, 0.10458447666721364, 0.05229223833360682, 0.47063014500246136, 0.05229223833360682, 0.05229223833360682, 0.05229223833360682, 0.05229223833360682, 0.0662792111070412, 0.662792111070412, 0.0662792111070412, 0.1325584222140824, 0.02461184239521221, 0.012305921197606104, 0.036917763592818315, 0.02461184239521221, 0.02461184239521221, 0.02461184239521221, 0.012305921197606104, 0.036917763592818315, 0.012305921197606104, 0.012305921197606104, 0.036917763592818315, 0.012305921197606104, 0.2830361875449404, 0.012305921197606104, 0.17228289676648545, 0.012305921197606104, 0.012305921197606104, 0.09844736958084883, 0.07383552718563663, 0.04922368479042442, 0.08092353665263384, 0.08092353665263384, 0.08092353665263384, 0.08092353665263384, 0.485541219915803, 0.08092353665263384, 0.08092353665263384, 0.06974553280502811, 0.13949106561005623, 0.06974553280502811, 0.06974553280502811, 0.5579642624402249, 0.11831144231877228, 0.5915572115938614, 0.04499079244839137, 0.03665916421720778, 0.06165404891075854, 0.02499488469355076, 0.06831935149570541, 0.041658141155917934, 0.0483234437408648, 0.05998772326452182, 0.04998976938710152, 0.021662233401077324, 0.08498260795807258, 0.03499283857097106, 0.04499079244839137, 0.07498465408065227, 0.026661210339787477, 0.03499283857097106, 0.028327535986024194, 0.02499488469355076, 0.04665711809462809, 0.0966468874817296, 0.04332446680215465, 0.023937312039550775, 0.023937312039550775, 0.20745670434277338, 0.03191641605273437, 0.07580148812524412, 0.023937312039550775, 0.07181193611865232, 0.039895520065917955, 0.04388507207250975, 0.039895520065917955, 0.05585372809228514, 0.023937312039550775, 0.02792686404614257, 0.04388507207250975, 0.019947760032958978, 0.05585372809228514, 0.023937312039550775, 0.03191641605273437, 0.023937312039550775, 0.06383283210546874, 0.04787462407910155, 0.058756260871346694, 0.058756260871346694, 0.17626878261404008, 0.38191569566375355, 0.029378130435673347, 0.029378130435673347, 0.14689065217836675, 0.058756260871346694, 0.031428682729483674, 0.5500019477659643, 0.015714341364741837, 0.015714341364741837, 0.09428604818845103, 0.015714341364741837, 0.015714341364741837, 0.015714341364741837, 0.015714341364741837, 0.015714341364741837, 0.031428682729483674, 0.06285736545896735, 0.031428682729483674, 0.015714341364741837, 0.031428682729483674, 0.015714341364741837, 0.047143024094225515, 0.23418366754892916, 0.11709183377446458, 0.46836733509785833, 0.5989676568410203, 0.02994838284205101, 0.05989676568410202, 0.20963867989435708, 0.02994838284205101, 0.7896854493865043, 0.046452085258029664, 0.046452085258029664, 0.12863820869932763, 0.025727641739865525, 0.05145528347973105, 0.012863820869932763, 0.06431910434966381, 0.3087317008783863, 0.025727641739865525, 0.07718292521959658, 0.012863820869932763, 0.012863820869932763, 0.012863820869932763, 0.012863820869932763, 0.05145528347973105, 0.1029105669594621, 0.012863820869932763, 0.012863820869932763, 0.012863820869932763, 0.012863820869932763, 0.025727641739865525, 0.03859146260979829, 0.0303039848712776, 0.0367976959151228, 0.0930765249617812, 0.0476205476548648, 0.0606079697425552, 0.0389622662630712, 0.054114258698710005, 0.064937110438452, 0.049785118002813204, 0.0367976959151228, 0.0259748441753808, 0.032468555219226, 0.0887473842658844, 0.054114258698710005, 0.0238102738274324, 0.0606079697425552, 0.0303039848712776, 0.0238102738274324, 0.0476205476548648, 0.0606079697425552, 0.0389622662630712, 0.017350647979611396, 0.017350647979611396, 0.017350647979611396, 0.06940259191844558, 0.05205194393883418, 0.03470129595922279, 0.017350647979611396, 0.017350647979611396, 0.017350647979611396, 0.017350647979611396, 0.017350647979611396, 0.572571383327176, 0.03470129595922279, 0.017350647979611396, 0.017350647979611396, 0.03470129595922279, 0.017350647979611396, 0.03470129595922279, 0.04957108215282488, 0.09914216430564976, 0.04957108215282488, 0.4957108215282488, 0.04957108215282488, 0.04957108215282488, 0.04957108215282488, 0.04957108215282488, 0.1196691460371725, 0.1196691460371725, 0.47867658414869, 0.1196691460371725, 0.7057834956875371, 0.1176305826145895, 0.0292937440352234, 0.009764581345074467, 0.03905832538029787, 0.06835206941552127, 0.0292937440352234, 0.009764581345074467, 0.09764581345074468, 0.3808186724579042, 0.009764581345074467, 0.009764581345074467, 0.019529162690148934, 0.0292937440352234, 0.019529162690148934, 0.16599788286626593, 0.009764581345074467, 0.019529162690148934, 0.019529162690148934, 0.009764581345074467, 0.0292937440352234, 0.022535476640107858, 0.022535476640107858, 0.06760642992032358, 0.7887416824037751, 0.022535476640107858, 0.022535476640107858, 0.02530722800318262, 0.037960842004773926, 0.037960842004773926, 0.07592168400954785, 0.6073734720763828, 0.01265361400159131, 0.01265361400159131, 0.01265361400159131, 0.01265361400159131, 0.037960842004773926, 0.02530722800318262, 0.01265361400159131, 0.01265361400159131, 0.01265361400159131, 0.05061445600636524, 0.025323798906413404, 0.028137554340459336, 0.12099148366397515, 0.025323798906413404, 0.06471637498305648, 0.05064759781282681, 0.042206331510689005, 0.03657882064259714, 0.028137554340459336, 0.030951309774505272, 0.07034388585114834, 0.025323798906413404, 0.047833842378780876, 0.05064759781282681, 0.030951309774505272, 0.05627510868091867, 0.030951309774505272, 0.025323798906413404, 0.030951309774505272, 0.14068777170229668, 0.042206331510689005, 0.04160236487689296, 0.04160236487689296, 0.08320472975378591, 0.7072402029071803, 0.05923329684179477, 0.4146330778925634, 0.05923329684179477, 0.05923329684179477, 0.29616648420897385, 0.06996926966698504, 0.8396312360038204, 0.8443887622342863, 0.12053038718472604, 0.04017679572824202, 0.04017679572824202, 0.7231823231083563], "Term": ["acceptable", "acceptable", "acceptable", "account", "account", "account", "account", "account", "account", "account", "account", "account", "account", "account", "account", "account", "account", "accountant", "accountant", "accountant", "accountant", "accountant", "accountant", "accounting", "accounting", "accounting", "accounting", "accounting", "accounting", "accounting", "accounting", "accounting", "accounting", "accounting", "accounting", "accounting", "accounting", "accounting", "accounting", "act", "act", "act", "act", "act", "act", "act", "act", "act", "act", "act", "act", "act", "acting", "acting", "acting", "activity", "activity", "activity", "activity", "activity", "activity", "activity", "activity", "activity", "activity", "activity", "activity", "activity", "activity", "activity", "activity", "activity", "activity", "actor", "actor", "actor", "actor", "actress", "actress", "actress", "actress", "adapt", "adapt", "adjust", "adjust", "adjust", "adjust", "admin", "admin", "admin", "administrative", "administrative", "administrative", "administrative", "administrator", "administrator", "administrator", "advertising", "advertising", "advertising", "advertising", "advertising", "advertising", "advertising", "advertising", "advertising", "advertising", "advice", "advice", "advice", "advice", "advice", "advice", "advice", "advice", "advice", "advice", "advice", "advice", "advice", "advice", "advice", "advice", "advice", "advice", "advice", "advice", "advice", "aeronautic", "aeronautic", "aeronautical", "aeronautical", "aeronautical", "aeronautical", "aeronautical", "aerospace", "aerospace", "aerospace", "aerospace", "aerospace", "aerospace", "aerospace", "aerospace", "aerospace", "aerospace", "aerospace", "aerospace", "afford", "afford", "afford", "afford", "afford", "afford", "afford", "afford", "afford", "agent", "agent", "agent", "agent", "agent", "agent", "agent", "agriculture", "agriculture", "agriculture", "agriculture", "agriculture", "agriculture", "agriculture", "agriculture", "aid", "aid", "aid", "aid", "aid", "aid", "aid", "aid", "aid", "aid", "aid", "aid", "air", "air", "air", "air", "aircraft", "aircraft", "aircraft", "aircraft", "airline", "airline", "airline", "analyst", "analyst", "analyst", "analyst", "analyst", "analyst", "analyst", "analyze", "analyze", "anesthesiologist", "anesthesiologist", "anesthesiology", "anesthesiology", "anesthetist", "anesthetist", "animal", "animal", "animal", "animal", "animal", "animal", "animal", "animal", "animal", "animal", "animal", "animal", "animation", "animation", "animation", "animation", "animation", "animator", "anthropology", "anthropology", "anthropology", "anthropology", "anthropology", "anthropology", "anthropology", "anthropology", "anthropology", "anthropology", "anthropology", "anthropology", "anxiety", "anxiety", "anxiety", "ap", "ap", "ap", "ap", "ap", "ap", "ap", "ap", "ap", "ap", "ap", "ap", "ap", "apartment", "apartment", "app", "app", "app", "app", "app", "app", "app", "app", "app", "apparel", "applicant", "applicant", "applicant", "applicant", "applicant", "applicant", "applicant", "applicant", "applicant", "applicant", "application", "application", "application", "application", "application", "application", "application", "application", "application", "application", "application", "application", "application", "application", "application", "application", "application", "application", "application", "application", "application", "applied", "applied", "applied", "apply", "apply", "apply", "apply", "apply", "apply", "apply", "apply", "apply", "apply", "apply", "apply", "apply", "apply", "apply", "apply", "apply", "apply", "apply", "apply", "apply", "architect", "architect", "architect", "architect", "architect", "architect", "architect", "architectural", "architectural", "architectural", "architecture", "architecture", "architecture", "architecture", "architecture", "architecture", "architecture", "architecture", "architecture", "architecture", "architecture", "architecture", "architecture", "arizona", "arizona", "army", "army", "army", "army", "art", "art", "art", "art", "art", "art", "art", "art", "art", "art", "art", "art", "art", "art", "art", "art", "art", "art", "art", "art", "art", "artist", "artist", "artist", "artist", "artist", "artist", "artist", "artist", "artist", "artist", "artist", "artist", "artistic", "artistic", "arts", "arts", "arts", "arts", "arts", "arts", "arts", "arts", "arts", "aspiration", "aspiration", "aspiration", "aspiration", "asset", "asset", "asset", "assignment", "assignment", "assignment", "assignment", "assistant", "assistant", "assistant", "assistant", "assistant", "assistant", "assistant", "assistant", "assistant", "assistant", "assistant", "assistant", "assistant", "assistant", "assistant", "assistant", "astronomer", "astronomy", "astronomy", "astronomy", "astronomy", "astronomy", "astrophysic", "astrophysic", "astrophysic", "astrophysic", "astrophysic", "astrophysic", "athletic", "athletic", "athletic", "athletic", "athletic", "athletic", "athletic", "athletic", "athletic", "athletic", "athletic", "athletic", "attendant", "attendant", "attitude", "attitude", "attitude", "attorney", "attorney", "attorney", "attorney", "attorney", "august", "august", "august", "author", "author", "auto", "auto", "automobile", "automobile", "automobile", "automotive", "automotive", "automotive", "automotive", "aviation", "aviation", "aviation", "aviation", "aviation", "aviation", "aviation", "award", "award", "award", "b", "b", "b", "b", "b", "b", "b", "ba", "ba", "ba", "ba", "ba", "ba", "ba", "baby", "baby", "baby", "baby", "bachelor", "bachelor", "bachelor", "bachelor", "bachelor", "bachelor", "bachelor", "bachelor", "bachelor", "bachelor", "bachelor", "bachelor", "bachelor", "bachelor", "bachelor", "bachelor", "bachelor", "bachelor", "bachelor", "bachelor", "bachelor", "backup", "backup", "backup", "baking", "baking", "balance", "balance", "balance", "balance", "balance", "balance", "balance", "balance", "balance", "balance", "balance", "balance", "balance", "balance", "balance", "balance", "balance", "balance", "balance", "band", "band", "band", "band", "bank", "bank", "bank", "bank", "bank", "bank", "bank", "banker", "banker", "banking", "banking", "banking", "bar", "bar", "basketball", "basketball", "beauty", "beauty", "beginner", "beginner", "behalf", "behavioral", "behavioral", "bengaluru", "bind", "bind", "bind", "bind", "bind", "bind", "bind", "bind", "bind", "bind", "bind", "bind", "bind", "bind", "bind", "bind", "bind", "bind", "bind", "bind", "bind", "bio", "bio", "bio", "bio", "bio", "bio", "biochemistry", "biochemistry", "biochemistry", "biochemistry", "biochemistry", "biochemistry", "biochemistry", "biochemistry", "biochemistry", "biological", "biological", "biological", "biologist", "biologist", "biologist", "biologist", "biologist", "biology", "biology", "biology", "biology", "biology", "biology", "biology", "biology", "biology", "biology", "biology", "biology", "biology", "biology", "biology", "biology", "biology", "biology", "biology", "biology", "biology", "biomedical", "biomedical", "biomedical", "biomedical", "biomedical", "biomedical", "biomedical", "biomedical", "biomedical", "biomedical", "biomedical", "biomedical", "biomedical", "biomedical", "biomedical", "biotech", "biotech", "boring", "boring", "boring", "boring", "boss", "boss", "boss", "boston", "boston", "boston", "boston", "boston", "boston", "boston", "boston", "boston", "boy", "brain", "brain", "brain", "brain", "brain", "brain", "brain", "brand", "brand", "broadcast", "broadcast", "broadcast", "broadcast", "broadcaster", "broadcaster", "broadcasting", "broadcasting", "bs", "bs", "bs", "bs", "bs", "bs", "bs", "bs", "bs", "bs", "bsn", "bsn", "bsn", "bsn", "bsn", "building", "building", "building", "building", "building", "building", "building", "building", "building", "buisness", "buisness", "buisness", "buisness", "buisness", "business", "business", "business", "business", "business", "business", "business", "business", "business", "business", "business", "business", "business", "business", "business", "business", "business", "business", "business", "business", "business", "camera", "camera", "campus", "campus", "campus", "campus", "campus", "campus", "campus", "campus", "campus", "campus", "campus", "campus", "campus", "campus", "canada", "canada", "canada", "canada", "canada", "canada", "canada", "canada", "canada", "car", "car", "car", "car", "car", "car", "car", "car", "car", "cardiologist", "cardiology", "care", "care", "care", "care", "care", "care", "care", "care", "care", "care", "care", "care", "care", "care", "care", "care", "care", "care", "care", "care", "career", "career", "career", "career", "career", "career", "career", "career", "career", "career", "career", "career", "career", "career", "career", "career", "career", "career", "career", "career", "career", "careervillage", "careervillage", "careervillage", "careervillage", "careervillage", "careervillage", "careervillage", "careervillage", "careervillage", "careervillage", "carolina", "carolina", "carolina", "carolina", "cartoon", "cell", "cell", "certification", "certification", "certification", "certification", "certification", "certification", "certification", "certification", "certification", "certification", "certification", "certification", "change", "change", "change", "change", "change", "change", "change", "change", "change", "change", "change", "change", "change", "change", "change", "change", "change", "change", "change", "change", "change", "character", "character", "character", "character", "character", "charge", "charge", "charge", "charge", "check", "check", "check", "check", "check", "check", "chef", "chef", "chef", "chef", "chemical", "chemical", "chemical", "chemical", "chemical", "chemical", "chemical", "chemical", "chemist", "chemistry", "chemistry", "chemistry", "chemistry", "chemistry", "chemistry", "chemistry", "chemistry", "chemistry", "chemistry", "chemistry", "chemistry", "chemistry", "chemistry", "chemistry", "chemistry", "chemistry", "chemistry", "chemistry", "child", "child", "child", "child", "child", "child", "child", "child", "child", "child", "child", "child", "child", "child", "child", "child", "child", "child", "child", "child", "childhood", "childhood", "childhood", "childhood", "childhood", "childhood", "childhood", "childhood", "childhood", "choice", "choice", "choice", "choice", "choice", "choice", "choice", "choice", "choice", "choice", "choice", "choice", "choice", "choice", "choice", "choice", "choice", "choice", "choice", "choice", "choice", "choose", "choose", "choose", "choose", "choose", "choose", "choose", "choose", "choose", "choose", "choose", "choose", "choose", "choose", "choose", "choose", "choose", "choose", "choose", "choose", "choose", "civil", "civil", "civil", "civil", "civil", "civil", "civil", "civil", "civil", "civil", "civil", "civil", "civil", "clarity", "class", "class", "class", "class", "class", "class", "class", "class", "class", "class", "class", "class", "class", "class", "class", "class", "class", "class", "class", "class", "class", "classroom", "classroom", "classroom", "classroom", "classroom", "classroom", "classroom", "classroom", "classroom", "clinic", "clinic", "clinic", "clinical", "clinical", "clinical", "clinical", "clinical", "clinical", "clinical", "clinical", "clinical", "clinical", "clinical", "clinical", "clinical", "clinical", "clinical", "clinical", "clinical", "clinical", "clothe", "clothing", "clothing", "clothing", "clothing", "club", "club", "club", "club", "club", "club", "club", "club", "club", "club", "club", "club", "club", "club", "club", "club", "club", "club", "cmx", "cna", "cna", "co", "co", "co", "coast", "coast", "code", "code", "code", "code", "code", "code", "code", "code", "code", "cognitive", "cognitive", "collage", "collage", "collage", "collage", "collage", "collage", "collage", "collage", "collage", "collage", "collage", "collage", "collage", "collage", "collage", "collage", "collage", "college", "college", "college", "college", "college", "college", "college", "college", "college", "college", "college", "college", "college", "college", "college", "college", "college", "college", "college", "college", "college", "collegelife", "collegelife", "combination", "combination", "commerce", "commerce", "commerce", "commerce", "commerce", "commercial", "commercial", "commercial", "commercial", "commercial", "commercial", "commercial", "commercial", "communication", "communication", "communication", "communication", "communication", "communication", "communication", "communication", "communication", "communication", "communication", "communication", "communication", "communication", "communication", "communication", "communication", "communication", "communication", "communications", "communications", "communications", "community", "community", "community", "community", "community", "community", "community", "community", "community", "community", "community", "community", "community", "community", "community", "community", "community", "community", "community", "community", "community", "commute", "commute", "company", "company", "company", "company", "company", "company", "company", "company", "company", "company", "company", "company", "company", "company", "company", "company", "company", "company", "company", "company", "company", "composition", "composition", "composition", "computer", "computer", "computer", "computer", "computer", "computer", "computer", "computer", "computer", "computer", "computer", "computer", "computer", "computer", "computer", "computer", "computer", "computer", "computer", "computer", "computer", "computerscience", "computerscience", "computerscience", "con", "con", "con", "con", "con", "con", "con", "con", "con", "con", "con", "con", "con", "con", "con", "con", "con", "con", "concentrate", "concentrate", "concentrate", "concentrate", "condition", "condition", "condition", "condition", "condition", "confidence", "confidence", "confidence", "confidence", "conservation", "conservation", "conservation", "construction", "construction", "construction", "construction", "construction", "construction", "construction", "construction", "construction", "consult", "consult", "consult", "cook", "cook", "cook", "cooking", "cooking", "cooking", "cooking", "cop", "cop", "cop", "core", "core", "core", "core", "core", "core", "core", "corps", "corps", "corps", "corps", "cosmetic", "cosmetic", "cosmetic", "cosmetologist", "cosmetology", "cosmetology", "cosmetology", "cosmetology", "cosmetology", "cost", "cost", "cost", "cost", "cost", "cost", "cost", "cost", "cost", "cost", "cost", "cost", "cost", "cost", "cost", "cost", "cost", "cost", "counseling", "counseling", "counseling", "counseling", "counseling", "counseling", "counseling", "counseling", "counseling", "counseling", "counseling", "counseling", "counseling", "counseling", "counseling", "counseling", "counseling", "counseling", "counseling", "counseling", "counseling", "counselling", "counselling", "counselor", "counselor", "counselor", "counselor", "counselor", "counselor", "counselor", "counselor", "counselor", "counselor", "counselor", "counselor", "counselor", "counselor", "counselor", "counselor", "counselor", "counselor", "country", "country", "country", "country", "country", "country", "country", "country", "country", "country", "country", "country", "country", "country", "country", "country", "country", "country", "court", "court", "court", "court", "cover", "cover", "cover", "cover", "cover", "cover", "cover", "cover", "cover", "cover", "cpa", "cpa", "cpa", "crazy", "crazy", "crazy", "crazy", "crazy", "creative", "creative", "creative", "creative", "creative", "creative", "creative", "creative", "creative", "creative", "creative", "creative", "creative", "creative", "creative", "credit", "credit", "credit", "credit", "credit", "credit", "credit", "credit", "credit", "credit", "credit", "credit", "credit", "credit", "credit", "crime", "crime", "crime", "crime", "criminal", "criminal", "criminal", "criminal", "criminal", "criminal", "criminal", "criminal", "criminal", "criminal", "criminal", "criminology", "critical", "critical", "critical", "critical", "cross", "cross", "cross", "cs", "cs", "cs", "culinary", "culinary", "culinary", "culinary", "culinary", "curiosity", "curiosity", "curricular", "curricular", "curricular", "curricular", "customer", "customer", "customer", "customer", "customer", "customer", "customer", "customer", "cut", "cut", "cut", "cut", "cut", "cut", "cut", "cv", "cv", "cv", "cyber", "cyber", "cyber", "cyber", "cyber", "d", "d", "dance", "dance", "dance", "dance", "dance", "dance", "dance", "dance", "dancer", "dancer", "dancer", "dancing", "dancing", "dancing", "data", "data", "data", "data", "data", "data", "data", "date", "date", "date", "day", "day", "day", "day", "day", "day", "day", "day", "day", "day", "day", "day", "day", "day", "day", "day", "day", "day", "day", "day", "day", "deadline", "deadline", "debt", "debt", "debt", "debt", "debt", "debt", "debt", "debt", "debt", "debt", "debt", "debt", "debt", "debt", "debt", "decide", "decide", "decide", "decide", "decide", "decide", "decide", "decide", "decide", "decide", "decide", "decide", "decide", "decide", "decide", "decide", "decide", "decide", "decide", "decide", "decide", "decision", "decision", "decision", "decision", "decision", "decision", "decision", "decision", "decision", "decision", "decision", "decision", "decision", "decision", "decision", "decision", "decision", "decision", "dedicate", "dedicate", "dedicate", "defense", "defense", "degree", "degree", "degree", "degree", "degree", "degree", "degree", "degree", "degree", "degree", "degree", "degree", "degree", "degree", "degree", "degree", "degree", "degree", "degree", "degree", "degree", "delivery", "dental", "dental", "dental", "dental", "dental", "dentist", "dentist", "dentist", "dentist", "dentistry", "dentistry", "dentistry", "dentistry", "dentistry", "depression", "depression", "dermatologist", "dermatologist", "describe", "describe", "describe", "describe", "describe", "describe", "design", "design", "design", "design", "design", "design", "design", "design", "design", "design", "design", "design", "design", "design", "design", "design", "design", "design", "design", "designer", "designer", "designer", "designer", "designer", "designer", "designer", "designing", "designing", "designing", "detective", "detective", "development", "development", "development", "development", "development", "development", "development", "development", "development", "development", "development", "development", "development", "development", "development", "development", "development", "development", "development", "development", "development", "device", "device", "device", "device", "direction", "direction", "direction", "direction", "direction", "direction", "direction", "direction", "direction", "direction", "director", "director", "director", "director", "director", "director", "discipline", "discipline", "discipline", "discuss", "discuss", "disney", "disney", "disney", "disorder", "disorder", "diverse", "diverse", "diverse", "diverse", "diverse", "diversity", "diversity", "diversity", "diversity", "division", "division", "division", "doctor", "doctor", "doctor", "doctor", "doctor", "doctor", "doctor", "doctor", "doctor", "doctor", "doctor", "doctor", "doctor", "doctor", "doctor", "doctor", "doctor", "doctor", "doctor", "doctor", "doctor", "dominate", "door", "door", "door", "door", "door", "door", "dorm", "dorm", "dorm", "dorm", "dorm", "double", "double", "double", "double", "double", "double", "double", "double", "double", "double", "double", "double", "double", "double", "double", "double", "double", "double", "double", "draft", "draft", "drama", "drama", "drama", "dress", "dress", "drop", "drop", "drop", "drop", "drop", "e", "e", "e", "e", "e", "e", "e", "e", "e", "early", "early", "early", "early", "early", "early", "early", "early", "early", "early", "early", "early", "early", "early", "east", "east", "ecology", "ecology", "economic", "economic", "economic", "economic", "economic", "economic", "economic", "economic", "economic", "economic", "economic", "economic", "economic", "economic", "economics", "economics", "economics", "economics", "economics", "ed", "ed", "ed", "ed", "editing", "editing", "editing", "editing", "editing", "editing", "editor", "editor", "editor", "editor", "editor", "education", "education", "education", "education", "education", "education", "education", "education", "education", "education", "education", "education", "education", "education", "education", "education", "education", "education", "education", "education", "education", "educator", "educator", "educator", "educator", "educator", "educator", "educator", "educator", "educator", "educator", "educator", "educator", "educator", "educator", "educator", "educator", "educator", "educator", "electrical", "electrical", "electrical", "electrical", "electrical", "electrical", "electrical", "electrician", "electronic", "electronic", "elementary", "elementary", "elementary", "elementary", "elementary", "elementary", "elementary", "elementary", "elementary", "elementary", "eligible", "eligible", "email", "email", "email", "emotional", "emotional", "emotional", "emotional", "emotional", "employee", "employee", "employee", "employee", "employee", "employee", "employee", "employee", "employee", "employee", "employee", "employee", "enforcement", "enforcement", "enforcement", "enforcement", "enforcement", "enforcement", "enforcement", "enforcement", "engineer", "engineer", "engineer", "engineer", "engineer", "engineer", "engineer", "engineer", "engineer", "engineer", "engineer", "engineer", "engineer", "engineer", "engineer", "engineer", "engineer", "engineer", "engineer", "engineer", "engineer", "engineering", "engineering", "engineering", "engineering", "engineering", "engineering", "engineering", "engineering", "engineering", "engineering", "engineering", "engineering", "engineering", "engineering", "engineering", "engineering", "engineering", "engineering", "engineering", "engineering", "engineering", "engineers", "engineers", "engineers", "english", "english", "english", "english", "english", "english", "english", "english", "english", "english", "english", "english", "english", "english", "english", "english", "english", "english", "english", "english", "enhance", "enhance", "enhance", "enjoyable", "enjoyable", "enjoyable", "enjoyable", "entertainment", "entertainment", "entertainment", "entertainment", "entertainment", "entertainment", "entertainment", "entertainment", "entertainment", "entertainment", "entertainment", "entertainment", "entrepreneur", "entrepreneur", "entrepreneur", "entrepreneur", "entrepreneur", "entrepreneur", "entrepreneur", "entrepreneur", "entrepreneur", "entrepreneur", "entrepreneur", "entrepreneur", "entrepreneurship", "entrepreneurship", "entrepreneurship", "entrepreneurship", "entrepreneurship", "entrepreneurship", "entrepreneurship", "entrepreneurship", "entrepreneurship", "entrepreneurship", "entrepreneurship", "entrepreneurship", "entrepreneurship", "entrepreneurship", "entrepreneurship", "environment", "environment", "environment", "environment", "environment", "environment", "environment", "environment", "environment", "environment", "environment", "environment", "environment", "environment", "environment", "environment", "environment", "environment", "environment", "environment", "environment", "environmental", "environmental", "environmental", "environmental", "environmental", "environmental", "environmental", "environmental", "environmental", "environmental", "environmental", "environmental", "environmental", "environmental", "environmental", "environmental", "equal", "equal", "equipment", "equipment", "equipment", "equipment", "equipment", "er", "er", "essay", "essay", "essay", "essay", "essay", "essay", "essay", "estate", "estate", "estate", "estate", "estate", "estate", "ethic", "ethic", "ethic", "europe", "europe", "evaluate", "evaluate", "evaluate", "evaluate", "event", "event", "event", "event", "event", "event", "event", "event", "event", "event", "event", "event", "event", "event", "executive", "executive", "executive", "executive", "expense", "expense", "expense", "expense", "expense", "expense", "expensive", "expensive", "expensive", "expensive", "expensive", "expensive", "expensive", "expensive", "expensive", "expensive", "expensive", "expensive", "experience", "experience", "experience", "experience", "experience", "experience", "experience", "experience", "experience", "experience", "experience", "experience", "experience", "experience", "experience", "experience", "experience", "experience", "experience", "experience", "experience", "expertise", "expertise", "expertise", "expertise", "expertise", "expertise", "expertise", "eye", "eye", "eye", "eye", "eye", "eye", "eye", "facebook", "facebook", "facebook", "fafsa", "fafsa", "fair", "fair", "fair", "fair", "fair", "fair", "fair", "fair", "fashion", "fashion", "fashion", "fashion", "fashion", "fashion", "fashion", "fashion", "fashion", "fashion", "fast", "fast", "fast", "fast", "fast", "fast", "fast", "fast", "fbi", "fbi", "federal", "federal", "federal", "federal", "federal", "federal", "female", "female", "female", "female", "female", "female", "female", "female", "female", "fiction", "fiction", "field", "field", "field", "field", "field", "field", "field", "field", "field", "field", "field", "field", "field", "field", "field", "field", "field", "field", "field", "field", "field", "fighter", "fighter", "fighter", "film", "film", "film", "film", "film", "film", "film", "film", "film", "film", "film", "film", "finance", "finance", "finance", "finance", "finance", "finance", "finance", "finance", "finance", "finance", "finance", "finance", "finance", "finance", "finance", "finance", "finance", "finance", "finance", "finance", "financial", "financial", "financial", "financial", "financial", "financial", "financial", "financial", "financial", "financial", "financial", "financial", "financial", "financial", "financial", "financial", "financial", "financial", "financial", "financial", "financial", "find", "find", "find", "find", "find", "find", "find", "find", "find", "find", "find", "find", "find", "find", "find", "find", "find", "find", "find", "find", "find", "fine", "fine", "fine", "fine", "fine", "fine", "fine", "fine", "fine", "firefighter", "firefighter", "firefighter", "fitness", "fitness", "fitness", "fitness", "fix", "fix", "flight", "flight", "florida", "florida", "florida", "florida", "florida", "fly", "fly", "fly", "focused", "focused", "focused", "focused", "focused", "focused", "focused", "focused", "food", "food", "food", "food", "food", "food", "food", "food", "food", "food", "food", "food", "foot", "foot", "foot", "foot", "foot", "foot", "foot", "football", "football", "football", "football", "football", "force", "force", "force", "force", "force", "force", "force", "force", "force", "force", "force", "force", "foreign", "foreign", "foreign", "foreign", "foreign", "foreign", "foreign", "forensic", "forensic", "forensic", "forensic", "forensic", "forensic", "forensic", "forensic", "forensic", "forensic", "forensic", "forensic", "freelance", "freelance", "french", "french", "french", "french", "freshman", "freshman", "freshman", "freshman", "freshman", "freshman", "freshman", "freshman", "freshman", "freshman", "freshman", "freshman", "freshman", "freshman", "freshman", "freshman", "freshman", "freshman", "freshman", "freshman", "freshman", "freshmen", "freshmen", "freshmen", "friend", "friend", "friend", "friend", "friend", "friend", "friend", "friend", "friend", "friend", "friend", "friend", "friend", "friend", "friend", "friend", "friend", "friend", "friend", "friend", "fund", "fund", "fund", "funding", "funding", "future", "future", "future", "future", "future", "future", "future", "future", "future", "future", "future", "future", "future", "future", "future", "future", "future", "future", "future", "future", "future", "game", "game", "game", "game", "game", "game", "game", "game", "game", "game", "game", "game", "game", "game", "game", "game", "game", "game", "game", "gamer", "gamer", "gaming", "gaming", "gaming", "gaming", "gaming", "gap", "gap", "gap", "gap", "gap", "gap", "gender", "gender", "gender", "genetic", "genetic", "genetic", "genetic", "genetic", "genetic", "genetic", "geography", "geology", "geology", "ghs", "girl", "girl", "girl", "girl", "girl", "girl", "girl", "girl", "girl", "girl", "girl", "girl", "girl", "girl", "girl", "go", "go", "go", "go", "go", "go", "go", "go", "go", "go", "go", "go", "go", "go", "go", "go", "go", "go", "go", "go", "go", "good", "good", "good", "good", "good", "good", "good", "good", "good", "good", "good", "good", "good", "good", "good", "good", "good", "good", "good", "good", "good", "google", "google", "google", "google", "google", "government", "government", "government", "government", "government", "government", "government", "government", "government", "government", "government", "government", "government", "government", "government", "government", "government", "gpa", "gpa", "gpa", "gpa", "gpa", "gpa", "gpa", "gpa", "gpa", "gpa", "gpa", "gpa", "gpa", "gpa", "gpa", "gpa", "gpa", "gpa", "grad", "grad", "grad", "grad", "grad", "grad", "grad", "grad", "grad", "grad", "grad", "grad", "grad", "grad", "grad", "grad", "graduate", "graduate", "graduate", "graduate", "graduate", "graduate", "graduate", "graduate", "graduate", "graduate", "graduate", "graduate", "graduate", "graduate", "graduate", "graduate", "graduate", "graduate", "graduate", "graduate", "graduate", "grant", "grant", "grant", "graphic", "graphic", "graphic", "graphic", "graphic", "graphic", "graphic", "graphic", "group", "group", "group", "group", "group", "group", "group", "group", "group", "group", "group", "group", "group", "group", "group", "group", "group", "group", "guide", "guide", "guide", "guide", "guide", "guide", "guide", "guide", "guide", "guide", "guide", "guide", "guide", "guide", "guide", "guide", "gyn", "gyn", "gyn", "habit", "habit", "habit", "habit", "habit", "habit", "habit", "habit", "habit", "habit", "hair", "hair", "hair", "hair", "hair", "hair", "hang", "hang", "hang", "happiness", "happiness", "hardship", "hardship", "hardware", "hardware", "hardware", "harvard", "harvard", "harvard", "health", "health", "health", "health", "health", "health", "health", "health", "health", "health", "health", "health", "health", "health", "health", "health", "health", "health", "health", "health", "health", "healthcare", "healthcare", "healthcare", "healthcare", "healthcare", "healthcare", "healthcare", "healthcare", "healthcare", "healthcare", "healthcare", "healthcare", "healthcare", "healthcare", "healthcare", "healthcare", "healthcare", "healthcare", "healthcare", "healthcare", "healthcare", "heart", "heart", "heart", "heart", "heart", "heart", "heart", "heavy", "heavy", "heavy", "heavy", "heavy", "help", "help", "help", "help", "help", "help", "help", "help", "help", "help", "help", "help", "help", "help", "help", "help", "help", "help", "help", "help", "help", "high", "high", "high", "high", "high", "high", "high", "high", "high", "high", "high", "high", "high", "high", "high", "high", "high", "high", "high", "high", "high", "highlight", "history", "history", "history", "history", "history", "history", "history", "history", "history", "history", "history", "history", "history", "history", "history", "history", "history", "hobby", "hobby", "hobby", "hobby", "hobby", "hobby", "hobby", "hobby", "hobby", "hobby", "home", "home", "home", "home", "home", "home", "home", "home", "home", "home", "home", "home", "home", "home", "home", "home", "home", "home", "homeland", "homeland", "homework", "homework", "homework", "homework", "homework", "homework", "homework", "homework", "homework", "honest", "honors", "hop", "hop", "hop", "hop", "horse", "horse", "horse", "hospital", "hospital", "hospital", "hospital", "hospital", "hospital", "hospital", "hospital", "hospital", "hospital", "hospital", "hospital", "hospital", "hospital", "hospital", "hospital", "hospital", "hospital", "hotel", "hotel", "hour", "hour", "hour", "hour", "hour", "hour", "hour", "hour", "hour", "hour", "hour", "hour", "hour", "hour", "hour", "hour", "hour", "hour", "hour", "hour", "hour", "hr", "hr", "hygiene", "hygiene", "hygienist", "hygienist", "iam", "iam", "ias", "ias", "ib", "ib", "income", "income", "income", "income", "income", "income", "income", "income", "income", "income", "income", "income", "income", "income", "incoming", "incoming", "incoming", "incoming", "incoming", "incoming", "incoming", "incoming", "indecisive", "indecisive", "indecisive", "indian", "indian", "indian", "industrial", "industrial", "industrial", "industrial", "industry", "industry", "industry", "industry", "industry", "industry", "industry", "industry", "industry", "industry", "industry", "industry", "industry", "industry", "industry", "industry", "industry", "industry", "industry", "industry", "industry", "information", "information", "information", "information", "information", "information", "information", "information", "information", "information", "information", "information", "information", "information", "information", "information", "information", "information", "information", "information", "information", "inspire", "inspire", "inspire", "inspire", "inspire", "inspire", "instructor", "instructor", "instructor", "instructor", "instrument", "instrument", "insurance", "insurance", "insurance", "insurance", "interaction", "interaction", "interaction", "interested", "interested", "interested", "interested", "interested", "interested", "interested", "interested", "interested", "interested", "interested", "interested", "interested", "interested", "interested", "interested", "interested", "interested", "interested", "interested", "interested", "interior", "interior", "interior", "interior", "interior", "intern", "intern", "intern", "intern", "intern", "intern", "intern", "intern", "intern", "intern", "intern", "intern", "intern", "intern", "intern", "intern", "intern", "intern", "intern", "intern", "international", "international", "international", "international", "international", "international", "international", "international", "international", "international", "international", "international", "international", "international", "international", "international", "international", "international", "international", "internship", "internship", "internship", "internship", "internship", "internship", "internship", "internship", "internship", "internship", "internship", "internship", "internship", "internship", "internship", "internship", "internship", "internship", "internship", "internship", "internship", "interview", "interview", "interview", "interview", "interview", "interview", "interview", "interview", "interview", "interview", "interview", "interview", "interview", "interview", "interview", "interview", "interview", "interview", "interview", "interviewer", "interviewer", "intreste", "intreste", "intreste", "intreste", "intreste", "intreste", "intreste", "introvert", "introvert", "introvert", "introvert", "invest", "invest", "invest", "invest", "invest", "invest", "invest", "invest", "invest", "invest", "invest", "investigation", "investigation", "investigator", "investing", "investment", "investment", "investment", "investment", "investment", "investment", "investment", "investor", "investor", "involvement", "involvement", "ivy", "ivy", "ivy", "ivy", "ivy", "j", "japanese", "japanese", "jb", "job", "job", "job", "job", "job", "job", "job", "job", "job", "job", "job", "job", "job", "job", "job", "job", "job", "job", "job", "job", "job", "join", "join", "join", "join", "join", "join", "join", "join", "join", "join", "join", "join", "join", "join", "join", "join", "join", "join", "join", "join", "join", "journalism", "journalism", "journalism", "journalism", "journalism", "journalism", "journalism", "journalism", "journalism", "journalism", "journalism", "journalist", "journalist", "journalist", "journalist", "journalist", "journalist", "judge", "judge", "judge", "judge", "judge", "june", "june", "june", "justice", "justice", "justice", "justice", "justice", "justice", "justice", "justice", "justice", "kinesiology", "kinesiology", "kinesiology", "kinesiology", "know", "know", "know", "know", "know", "know", "know", "know", "know", "know", "know", "know", "know", "know", "know", "know", "know", "know", "know", "know", "know", "label", "label", "label", "labor", "labor", "labor", "laboratory", "laboratory", "laboratory", "laboratory", "laboratory", "language", "language", "language", "language", "language", "language", "language", "language", "language", "language", "language", "language", "language", "language", "language", "language", "language", "language", "language", "law", "law", "law", "law", "law", "law", "law", "law", "law", "law", "law", "law", "law", "law", "law", "law", "law", "law", "law", "law", "law", "lawyer", "lawyer", "lawyer", "lawyer", "lawyer", "lawyer", "lawyer", "lawyer", "lawyer", "lawyer", "lawyer", "lawyer", "lawyer", "lawyer", "lawyer", "lawyer", "lawyer", "lawyer", "league", "league", "league", "league", "league", "league", "league", "learn", "learn", "learn", "learn", "learn", "learn", "learn", "learn", "learn", "learn", "learn", "learn", "learn", "learn", "learn", "learn", "learn", "learn", "learn", "learn", "learn", "learner", "learner", "lecture", "lecture", "lecturer", "lecturer", "lecturer", "legal", "legal", "legal", "legal", "legal", "legal", "legal", "letter", "letter", "letter", "letter", "letter", "liberal", "liberal", "liberal", "liberal", "lie", "lie", "life", "life", "life", "life", "life", "life", "life", "life", "life", "life", "life", "life", "life", "life", "life", "life", "life", "life", "life", "life", "life", "lifestyle", "lifestyle", "lifestyle", "lifestyle", "lifestyle", "lifestyle", "lifestyle", "lifestyle", "lifestyle", "light", "light", "like", "like", "like", "like", "like", "like", "like", "like", "like", "like", "like", "like", "like", "like", "like", "like", "like", "like", "like", "like", "like", "linguistic", "linguistic", "linguistic", "linkedin", "linkedin", "live", "live", "live", "live", "live", "live", "live", "live", "live", "live", "live", "live", "live", "live", "live", "live", "live", "live", "live", "live", "live", "loan", "loan", "loan", "loan", "loan", "loan", "loan", "loan", "loan", "loan", "loan", "loan", "loan", "loan", "loan", "loan", "look", "look", "look", "look", "look", "look", "look", "look", "look", "look", "look", "look", "look", "look", "look", "look", "look", "look", "look", "look", "look", "love", "love", "love", "love", "love", "love", "love", "love", "love", "love", "love", "love", "love", "love", "love", "love", "love", "love", "love", "love", "love", "lsat", "luck", "luck", "luck", "m", "m", "m", "m", "m", "m", "m", "machine", "machine", "machine", "machine", "magazine", "magazine", "magazine", "maintenance", "maintenance", "maintenance", "major", "major", "major", "major", "major", "major", "major", "major", "major", "major", "major", "major", "major", "major", "major", "major", "major", "major", "major", "major", "major", "makeup", "makeup", "makeup", "makeup", "makeup", "makeup", "male", "male", "male", "management", "management", "management", "management", "management", "management", "management", "management", "management", "management", "management", "management", "management", "management", "management", "management", "management", "management", "management", "management", "management", "manager", "manager", "manager", "manager", "manager", "manager", "manager", "manager", "manager", "manager", "manager", "manager", "manager", "manager", "manager", "manager", "manager", "manager", "mandatory", "mandatory", "mandatory", "manufacturing", "manufacturing", "manufacturing", "manufacturing", "marine", "marine", "marine", "marine", "marine", "marine", "marine", "mark", "mark", "mark", "mark", "marketing", "marketing", "marketing", "marketing", "marketing", "marketing", "marketing", "marketing", "marketing", "marketing", "marketing", "marketing", "marketing", "marketing", "marketing", "marketing", "marketing", "marketing", "marketing", "marketing", "marriage", "marriage", "mass", "mass", "mass", "mass", "massachusetts", "massachusetts", "master", "master", "master", "master", "master", "master", "master", "master", "master", "master", "master", "master", "master", "master", "master", "master", "master", "master", "master", "master", "master", "math", "math", "math", "math", "math", "math", "math", "math", "math", "math", "math", "math", "math", "math", "math", "math", "math", "math", "math", "math", "math", "mathematic", "mathematic", "mathematic", "mathematic", "mathematic", "mathematic", "mathematic", "mathematic", "mathematic", "mathematic", "mathematic", "mathematic", "mathematic", "mathematic", "mathematic", "mathematic", "mathematic", "mathematic", "mathematician", "mathematician", "mathematics", "mathematics", "mathematics", "mathematics", "mathematics", "mathematics", "mathematics", "mba", "mba", "mba", "mba", "mba", "mba", "mba", "md", "md", "mechanic", "mechanic", "mechanic", "mechanic", "mechanic", "mechanical", "mechanical", "mechanical", "mechanical", "mechanical", "mechanical", "mechanical", "mechanical", "mechanical", "mechanical", "mechanical", "mechanical", "mechanical", "mechanical", "mechanical", "mechanical", "mechanical", "med", "med", "med", "med", "med", "med", "med", "med", "med", "med", "med", "med", "med", "med", "med", "medical", "medical", "medical", "medical", "medical", "medical", "medical", "medical", "medical", "medical", "medical", "medical", "medical", "medical", "medical", "medical", "medical", "medical", "medical", "medical", "medical", "medicine", "medicine", "medicine", "medicine", "medicine", "medicine", "medicine", "medicine", "medicine", "medicine", "medicine", "medicine", "medicine", "medicine", "medicine", "medicine", "medicine", "medicine", "medicine", "medicine", "medicine", "medium", "medium", "medium", "medium", "medium", "medium", "medium", "medium", "medium", "medium", "medium", "medium", "medium", "medium", "medium", "medschool", "medschool", "medschool", "member", "member", "member", "member", "member", "member", "member", "member", "member", "member", "member", "member", "mental", "mental", "mental", "mental", "mental", "mental", "mental", "mental", "mental", "merchandising", "mid", "mid", "mid", "mid", "mid", "middle", "middle", "middle", "middle", "middle", "middle", "middle", "middle", "middle", "middle", "middle", "middle", "middle", "midwife", "midwife", "midwife", "military", "military", "military", "military", "military", "military", "military", "military", "military", "military", "military", "military", "military", "mindset", "mindset", "minor", "minor", "minor", "minor", "minor", "minor", "minor", "minor", "minor", "minor", "minor", "minor", "minor", "minor", "minor", "minor", "minor", "minor", "minor", "minor", "mobile", "mobile", "mobile", "model", "model", "model", "model", "model", "model", "model", "model", "model", "model", "model", "modeling", "modeling", "modeling", "modeling", "moment", "moment", "moment", "moment", "moment", "moment", "moment", "moment", "moment", "moment", "moment", "moment", "moment", "moment", "moment", "money", "money", "money", "money", "money", "money", "money", "money", "money", "money", "money", "money", "money", "money", "money", "money", "money", "money", "money", "money", "money", "morning", "morning", "morning", "morning", "morning", "morning", "motion", "motion", "motivated", "motivated", "movie", "movie", "movie", "movie", "movie", "movie", "movie", "museum", "museum", "music", "music", "music", "music", "music", "music", "music", "music", "music", "music", "music", "music", "music", "music", "music", "music", "music", "music", "music", "music", "musical", "musical", "musical", "musical", "musical", "musical", "musical", "musician", "musician", "musician", "musician", "nagar", "narrow", "narrow", "narrow", "narrow", "narrow", "narrow", "narrow", "narrow", "narrow", "narrow", "narrow", "narrow", "nasa", "nasa", "nasa", "navy", "navy", "nba", "nba", "need", "need", "need", "need", "need", "need", "need", "need", "need", "need", "need", "need", "need", "need", "need", "need", "need", "need", "need", "need", "need", "neonatal", "neonatal", "net", "net", "network", "network", "network", "network", "network", "network", "network", "network", "network", "network", "network", "network", "network", "networking", "networking", "networking", "networking", "networking", "networking", "networking", "networking", "networking", "networking", "networking", "networking", "networking", "neurologist", "neurologist", "neurologist", "neurology", "neurology", "neurology", "neurology", "neuroscience", "neuroscience", "neuroscience", "neuroscience", "neuroscience", "neuroscience", "neuroscience", "neuroscience", "neuroscience", "neurosurgeon", "neurosurgeon", "news", "news", "news", "news", "newspaper", "newspaper", "newspaper", "newspaper", "nfl", "nfl", "nfl", "non", "non", "non", "non", "non", "non", "non", "non", "non", "non", "non", "non", "non", "nonprofit", "nonprofit", "nonprofit", "nonprofit", "nurse", "nurse", "nurse", "nurse", "nurse", "nurse", "nurse", "nurse", "nurse", "nurse", "nurse", "nurse", "nurse", "nurse", "nurse", "nurse", "nurse", "nurse", "nurse", "nurse", "nursing", "nursing", "nursing", "nursing", "nursing", "nursing", "nursing", "nursing", "nursing", "nursing", "nursing", "nursing", "nursing", "nursing", "nursing", "nursing", "nursing", "nursing", "nursing", "nursing", "nursing", "nutrition", "nutrition", "nutrition", "nutrition", "ob", "ob", "ob", "obgyn", "obgyn", "obstetric", "obstetric", "obstetrician", "occupational", "occupational", "ocean", "ocean", "oceanography", "oceanography", "officer", "officer", "officer", "officer", "officer", "officer", "officer", "officer", "officer", "officer", "officer", "officer", "officer", "officer", "officer", "ok", "ok", "ok", "ok", "ok", "ok", "ok", "oncology", "oncology", "opening", "opening", "operation", "operation", "operation", "operation", "opt", "opt", "opt", "opt", "optometry", "optometry", "optometry", "optometry", "optometry", "optometry", "organization", "organization", "organization", "organization", "organization", "organization", "organization", "organization", "organization", "organization", "organization", "organization", "organization", "organization", "organization", "organization", "organization", "organized", "organized", "orthodontist", "orthodontist", "orthopedic", "orthopedic", "outside", "outside", "outside", "outside", "own", "own", "own", "pa", "pa", "pa", "pa", "pa", "paint", "paint", "paint", "painting", "painting", "painting", "paper", "paper", "paper", "paper", "paper", "paper", "paper", "paper", "paper", "paper", "parent", "parent", "parent", "parent", "parent", "parent", "parent", "parent", "parent", "parent", "parent", "parent", "parent", "parent", "parent", "park", "park", "park", "party", "passion", "passion", "passion", "passion", "passion", "passion", "passion", "passion", "passion", "passion", "passion", "passion", "passion", "passion", "passion", "passion", "passion", "passion", "passion", "passion", "passion", "passionate", "passionate", "passionate", "passionate", "passionate", "passionate", "passionate", "passionate", "passionate", "passionate", "passionate", "passionate", "passionate", "passionate", "passionate", "path", "path", "path", "path", "path", "path", "path", "path", "path", "path", "path", "path", "path", "path", "path", "path", "path", "path", "path", "path", "path", "pathologist", "pathologist", "pathologist", "pathologist", "pathology", "pathology", "pathology", "pathology", "patient", "patient", "patient", "patient", "patient", "patient", "patient", "patient", "patient", "patient", "patient", "patient", "pay", "pay", "pay", "pay", "pay", "pay", "pay", "pay", "pay", "pay", "pay", "pay", "pay", "pay", "pay", "pay", "pay", "pay", "pay", "pay", "pay", "payment", "pediatric", "pediatric", "pediatric", "pediatric", "pediatric", "pediatric", "pediatric", "pediatric", "pediatric", "pediatric", "pediatric", "pediatric", "pediatric", "pediatrician", "pediatrician", "pediatrician", "pediatrician", "pediatrician", "pediatrician", "pediatrician", "pediatrician", "pediatrician", "pediatrician", "pediatrician", "pediatrician", "people", "people", "people", "people", "people", "people", "people", "people", "people", "people", "people", "people", "people", "people", "people", "people", "people", "people", "people", "people", "people", "percentage", "percentage", "percentage", "percentage", "percentage", "perfect", "perfect", "perfect", "perfect", "perfect", "perfect", "perfect", "perfect", "perfect", "perfect", "perfect", "perfect", "performance", "performance", "performance", "performance", "performance", "performance", "persue", "persue", "persue", "peruse", "peruse", "peruse", "ph", "ph", "ph", "pharmaceutical", "pharmaceutical", "pharmacist", "pharmacist", "pharmacist", "pharmacy", "pharmacy", "pharmacy", "pharmacy", "pharmacy", "pharmacy", "pharmacy", "phd", "phd", "phd", "phd", "phd", "phd", "phd", "phd", "phd", "phd", "phd", "phd", "phd", "phd", "phd", "phd", "phd", "phd", "philosophy", "philosophy", "philosophy", "photographer", "photographer", "photography", "photography", "photography", "photography", "photography", "photography", "photography", "photography", "photography", "physical", "physical", "physical", "physical", "physical", "physical", "physical", "physical", "physical", "physical", "physical", "physical", "physical", "physical", "physical", "physical", "physical", "physician", "physician", "physician", "physician", "physician", "physician", "physician", "physician", "physician", "physician", "physician", "physician", "piano", "piano", "pick", "pick", "pick", "pick", "pick", "pick", "pick", "pick", "pick", "pick", "pick", "pick", "pick", "pick", "pick", "pick", "pick", "pick", "pick", "pilot", "pilot", "pilot", "pilot", "pilot", "plane", "plane", "plane", "plane", "planner", "planner", "planner", "planner", "planning", "planning", "planning", "planning", "planning", "planning", "planning", "planning", "planning", "planning", "planning", "planning", "planning", "planning", "planning", "planning", "planning", "planning", "planning", "planning", "planning", "plant", "plant", "plant", "plant", "plant", "plastic", "plastic", "plastic", "platform", "platform", "platform", "platform", "play", "play", "play", "play", "play", "play", "play", "play", "play", "play", "play", "play", "play", "play", "play", "play", "play", "play", "play", "play", "play", "pls", "pls", "pls", "police", "police", "police", "police", "police", "police", "police", "police", "police", "police", "policy", "policy", "policy", "politic", "politic", "politic", "politic", "politic", "politic", "politic", "political", "political", "political", "political", "political", "political", "political", "political", "political", "popular", "popular", "popular", "popular", "popular", "popular", "popular", "popular", "popular", "popular", "popular", "post", "post", "post", "post", "post", "post", "post", "post", "post", "post", "post", "post", "post", "post", "post", "post", "pr", "practitioner", "practitioner", "practitioner", "practitioner", "practitioner", "practitioner", "pre", "pre", "pre", "pre", "pre", "pre", "pre", "pre", "pre", "pre", "pre", "pre", "pre", "pre", "pre", "pre", "pre", "pre", "preme", "preme", "presentation", "presentation", "presentation", "principal", "principal", "prior", "pro", "pro", "pro", "pro", "pro", "pro", "pro", "pro", "pro", "pro", "pro", "pro", "pro", "pro", "pro", "pro", "pro", "pro", "pro", "pro", "produce", "produce", "produce", "produce", "producer", "producer", "producer", "producer", "production", "production", "production", "production", "production", "production", "production", "production", "production", "professional", "professional", "professional", "professional", "professional", "professional", "professional", "professional", "professional", "professional", "professional", "professional", "professional", "professional", "professional", "professional", "professional", "professional", "professional", "professional", "professional", "professor", "professor", "professor", "professor", "professor", "professor", "professor", "professor", "professor", "professor", "professor", "professor", "professor", "professor", "professor", "professor", "professor", "professor", "professor", "professor", "professor", "profile", "profile", "profile", "profit", "profit", "profit", "profit", "profit", "profit", "profit", "profit", "program", "program", "program", "program", "program", "program", "program", "program", "program", "program", "program", "program", "program", "program", "program", "program", "program", "program", "program", "program", "program", "programmer", "programmer", "programmer", "programmer", "programmer", "programming", "programming", "programming", "programming", "programming", "programming", "programming", "programming", "programming", "programming", "programming", "programming", "programming", "programming", "promote", "promote", "promote", "promote", "promote", "promote", "promote", "promotion", "promotion", "promotion", "prospective", "prospective", "prospective", "protect", "protect", "protect", "protect", "protect", "protect", "psych", "psychiatrist", "psychiatrist", "psychiatrist", "psychiatrist", "psychiatrist", "psychiatrist", "psychiatrist", "psychiatrist", "psychiatry", "psychiatry", "psychiatry", "psychiatry", "psychiatry", "psychologist", "psychologist", "psychologist", "psychologist", "psychologist", "psychologist", "psychologist", "psychologist", "psychologist", "psychologist", "psychologist", "psychologist", "psychologist", "psychologist", "psychologist", "psychology", "psychology", "psychology", "psychology", "psychology", "psychology", "psychology", "psychology", "psychology", "psychology", "psychology", "psychology", "psychology", "psychology", "psychology", "psychology", "psychology", "psychology", "psychology", "psychology", "psychology", "psychotherapy", "psychotherapy", "pt", "pt", "public", "public", "public", "public", "public", "public", "public", "public", "public", "public", "public", "public", "public", "public", "public", "public", "public", "public", "public", "public", "publish", "publish", "publishing", "publishing", "puc", "question", "question", "question", "question", "question", "question", "question", "question", "question", "question", "question", "question", "question", "question", "question", "question", "question", "question", "question", "question", "question", "quiet", "quiet", "quiet", "quiet", "race", "race", "race", "radio", "radio", "radio", "radiologist", "radiologist", "radiologist", "radiologist", "radiology", "radiology", "radiology", "radiology", "reading", "reading", "reading", "reading", "real", "real", "real", "real", "real", "real", "real", "real", "real", "real", "real", "real", "real", "real", "real", "real", "real", "real", "reality", "reality", "reality", "reality", "reality", "reality", "reality", "reality", "reality", "record", "record", "record", "record", "reduce", "refer", "refer", "refer", "reference", "reference", "reference", "reference", "reference", "reference", "register", "register", "register", "register", "register", "register", "register", "register", "register", "regret", "regret", "regret", "regret", "regret", "regret", "relation", "relation", "relation", "relation", "relation", "relation", "relation", "relation", "relation", "relation", "relation", "relations", "relations", "reliable", "reliable", "rent", "rent", "rent", "reputation", "request", "request", "research", "research", "research", "research", "research", "research", "research", "research", "research", "research", "research", "research", "research", "research", "research", "research", "research", "research", "research", "research", "research", "researcher", "researcher", "researcher", "researcher", "researcher", "researcher", "researcher", "residency", "residency", "residency", "residency", "residency", "respect", "respect", "respect", "respect", "response", "response", "response", "response", "response", "response", "response", "responsible", "responsible", "restaurant", "restaurant", "restaurant", "restaurant", "restaurant", "resume", "resume", "resume", "resume", "resume", "resume", "resume", "resume", "resume", "resume", "resume", "resume", "resume", "resume", "resume", "resume", "resume", "resume", "resume", "retail", "retail", "retail", "retail", "retail", "retail", "retail", "review", "review", "review", "review", "reward", "reward", "rich", "rich", "rich", "rich", "right", "right", "right", "right", "right", "right", "right", "right", "right", "right", "right", "right", "right", "right", "right", "right", "right", "right", "right", "right", "right", "rn", "rn", "rn", "rn", "rn", "rn", "rn", "robot", "robot", "robot", "robotic", "robotic", "robotic", "robotic", "robotic", "robotic", "roommate", "roommate", "roommate", "roommate", "round", "round", "round", "rule", "rule", "safety", "safety", "safety", "sale", "sale", "sale", "sale", "sale", "sat", "sat", "sat", "sat", "sat", "sat", "sat", "sat", "sat", "sat", "save", "save", "save", "save", "save", "save", "save", "save", "save", "save", "save", "save", "save", "save", "save", "save", "saving", "saving", "scene", "scene", "scene", "scholarship", "scholarship", "scholarship", "scholarship", "scholarship", "scholarship", "scholarship", "scholarship", "scholarship", "scholarship", "scholarship", "scholarship", "scholarship", "scholarship", "scholarship", "scholarship", "scholarship", "scholarship", "scholarship", "scholarship", "school", "school", "school", "school", "school", "school", "school", "school", "school", "school", "school", "school", "school", "school", "school", "school", "school", "school", "school", "school", "school", "science", "science", "science", "science", "science", "science", "science", "science", "science", "science", "science", "science", "science", "science", "science", "science", "science", "science", "science", "science", "science", "scientist", "scientist", "scientist", "scientist", "scientist", "scientist", "scientist", "scientist", "scientist", "scientist", "scientist", "scientist", "scientist", "scientist", "scientist", "scope", "scope", "scope", "score", "score", "score", "score", "score", "score", "score", "score", "score", "score", "score", "score", "secondary", "secondary", "secondary", "secondary", "secondary", "secondary", "secondary", "secondary", "secondary", "secondary", "section", "section", "section", "section", "sector", "sector", "sector", "sector", "sector", "sector", "sector", "sector", "sector", "sector", "security", "security", "security", "security", "security", "security", "security", "security", "security", "security", "security", "security", "security", "select", "select", "select", "select", "select", "select", "select", "select", "select", "select", "select", "select", "selection", "selection", "selection", "selection", "selection", "selection", "selection", "selection", "selection", "selection", "selection", "selection", "selection", "selection", "selection", "selection", "selection", "selection", "selection", "september", "september", "september", "september", "series", "series", "series", "shadow", "shadow", "shadow", "shadow", "shadow", "shadow", "shadow", "shadow", "shop", "shop", "shop", "shy", "shy", "shy", "shy", "sibling", "sibling", "sing", "sing", "sing", "singe", "singe", "singer", "singer", "singer", "singer", "singer", "singer", "singer", "singing", "singing", "singing", "sit", "sit", "sit", "sit", "sit", "sit", "sit", "sit", "sit", "sleep", "sleep", "soccer", "soccer", "soccer", "soccer", "social", "social", "social", "social", "social", "social", "social", "social", "social", "social", "social", "social", "social", "social", "social", "social", "social", "social", "social", "social", "social", "sociology", "sociology", "sociology", "sociology", "sociology", "sociology", "sociology", "sociology", "sociology", "sociology", "soft", "soft", "software", "software", "software", "software", "software", "software", "software", "software", "software", "software", "software", "software", "software", "software", "software", "software", "software", "software", "spanish", "spanish", "spanish", "speak", "speak", "speak", "speak", "speak", "speak", "speak", "speak", "speak", "speak", "speak", "speak", "speak", "speak", "speak", "speak", "speaker", "speaker", "speaking", "speaking", "speaking", "special", "special", "special", "special", "special", "special", "special", "special", "special", "special", "specialist", "specialist", "specialist", "specialist", "specialist", "specialist", "specialist", "spectrum", "spectrum", "speech", "speech", "speech", "speech", "speech", "speech", "sport", "sport", "sport", "sport", "sport", "sport", "sport", "sport", "sport", "sport", "sport", "sport", "sport", "sport", "sport", "sport", "sport", "sport", "sport", "sport", "sport", "stability", "stability", "stability", "stability", "staff", "staff", "staff", "stage", "stage", "stage", "stage", "stage", "stage", "stage", "stanford", "stanford", "stanford", "stanford", "stanford", "start", "start", "start", "start", "start", "start", "start", "start", "start", "start", "start", "start", "start", "start", "start", "start", "start", "start", "start", "start", "start", "state", "state", "state", "state", "state", "state", "state", "state", "state", "state", "state", "state", "state", "state", "state", "state", "state", "state", "state", "state", "state", "statement", "statement", "statement", "states", "states", "states", "states", "states", "states", "states", "std", "std", "std", "std", "std", "std", "std", "stem", "stem", "stem", "stem", "stem", "stem", "stem", "stem", "stem", "stem", "stem", "stem", "stem", "stem", "stem", "stem", "stem", "stem", "stem", "stock", "stock", "stock", "straight", "straight", "straight", "stream", "stream", "stream", "stream", "stream", "stream", "stream", "stream", "stream", "stream", "stream", "stream", "strength", "strength", "strength", "strength", "strength", "strength", "strength", "strength", "stress", "stress", "stress", "stress", "stress", "stress", "stress", "stress", "stress", "stress", "stress", "stress", "stress", "stress", "stress", "stress", "stress", "stuck", "stuck", "stuck", "stuck", "stud", "stud", "stud", "student", "student", "student", "student", "student", "student", "student", "student", "student", "student", "student", "student", "student", "student", "student", "student", "student", "student", "student", "student", "student", "studio", "studio", "studio", "studio", "studio", "studio", "study", "study", "study", "study", "study", "study", "study", "study", "study", "study", "study", "study", "study", "study", "study", "study", "study", "study", "study", "study", "study", "stylist", "stylist", "subject", "subject", "subject", "subject", "subject", "subject", "subject", "subject", "subject", "subject", "subject", "subject", "subject", "subject", "subject", "subject", "subject", "subject", "subject", "subject", "subject", "summer", "summer", "summer", "summer", "summer", "summer", "summer", "summer", "summer", "summer", "summer", "summer", "summer", "summer", "summer", "summer", "summer", "summer", "summer", "summer", "summer", "summit", "supply", "supply", "supply", "supply", "surgeon", "surgeon", "surgeon", "surgeon", "surgeon", "surgeon", "surgeon", "surgeon", "surgeon", "surgery", "surgery", "surgery", "surgery", "surgery", "surgery", "surgery", "survive", "survive", "survive", "survive", "survive", "survive", "survive", "sustainability", "sustainability", "sustainable", "sustainable", "sustainable", "t", "t", "t", "tax", "tax", "tax", "taxis", "teach", "teach", "teach", "teach", "teach", "teach", "teach", "teach", "teach", "teach", "teach", "teach", "teach", "teach", "teach", "teach", "teach", "teach", "teach", "teach", "teach", "teacher", "teacher", "teacher", "teacher", "teacher", "teacher", "teacher", "teacher", "teacher", "teacher", "teacher", "teacher", "teacher", "teacher", "teacher", "teacher", "teacher", "teacher", "teacher", "teacher", "teacher", "teaching", "teaching", "teaching", "teaching", "teaching", "teaching", "teaching", "teaching", "teaching", "teaching", "teaching", "teaching", "teaching", "teaching", "teaching", "teaching", "teaching", "teaching", "teaching", "teaching", "teaching", "tech", "tech", "tech", "tech", "tech", "tech", "tech", "tech", "tech", "tech", "tech", "tech", "tech", "tech", "tech", "tech", "tech", "tech", "tech", "tech", "technology", "technology", "technology", "technology", "technology", "technology", "technology", "technology", "technology", "technology", "technology", "technology", "technology", "technology", "technology", "technology", "technology", "technology", "technology", "technology", "technology", "teenager", "teenager", "teenager", "teenager", "teenager", "television", "television", "television", "television", "television", "tenth", "tenth", "tenth", "terrible", "terrible", "terrible", "terrible", "test", "test", "test", "test", "test", "test", "test", "test", "test", "test", "test", "test", "test", "test", "test", "test", "test", "test", "test", "testing", "testing", "testing", "testing", "testing", "testing", "testing", "texas", "texas", "texas", "texas", "texas", "texas", "texas", "texas", "texas", "texas", "texas", "texas", "textbook", "textbook", "textbook", "theater", "theater", "theater", "theater", "theater", "theater", "theatre", "theatre", "theatre", "theatre", "theatre", "theatre", "theatre", "theatre", "therapist", "therapist", "therapist", "therapist", "therapist", "therapist", "therapist", "therapist", "therapist", "therapist", "therapist", "therapist", "therapist", "therapy", "therapy", "therapy", "therapy", "therapy", "therapy", "therapy", "therapy", "therapy", "therapy", "therapy", "therapy", "therapy", "thing", "thing", "thing", "thing", "thing", "thing", "thing", "thing", "thing", "thing", "thing", "thing", "thing", "thing", "thing", "thing", "thing", "thing", "thing", "thing", "thing", "think", "think", "think", "think", "think", "think", "think", "think", "think", "think", "think", "think", "think", "think", "think", "think", "think", "think", "think", "think", "think", "throw", "time", "time", "time", "time", "time", "time", "time", "time", "time", "time", "time", "time", "time", "time", "time", "time", "time", "time", "time", "time", "time", "tool", "tool", "tool", "tool", "tool", "tool", "total", "touch", "tour", "tour", "tour", "tour", "towson", "trade", "trade", "trade", "trade", "trade", "trade", "trainer", "trainer", "trainer", "trainer", "trainer", "training", "training", "training", "training", "training", "training", "training", "training", "training", "training", "training", "training", "training", "training", "training", "training", "training", "training", "training", "training", "training", "transfer", "transfer", "transfer", "transfer", "transfer", "transfer", "transfer", "transfer", "transfer", "transfer", "transfer", "transfer", "transfer", "transfer", "transfer", "transfer", "transfer", "transition", "transition", "transition", "transition", "transition", "transition", "transition", "transition", "transition", "transition", "transition", "transition", "transition", "transition", "transition", "transportation", "transportation", "transportation", "transportation", "trauma", "travel", "travel", "travel", "travel", "travel", "travel", "travel", "travel", "travel", "travel", "travel", "travel", "travel", "travel", "travel", "travel", "travel", "travel", "travel", "tuition", "tuition", "tuition", "tuition", "tuition", "tv", "tv", "tv", "tv", "type", "type", "type", "type", "type", "type", "type", "type", "type", "type", "type", "type", "type", "type", "type", "type", "type", "type", "type", "type", "type", "uc", "ucla", "ucla", "ucla", "ucla", "uncertain", "uncertain", "undecided", "undecided", "undecided", "undecided", "undecided", "undecided", "undecided", "undecided", "undecided", "undecided", "undecided", "undecided", "undecided", "undecided", "unit", "unit", "unit", "united", "united", "united", "united", "united", "united", "united", "united", "united", "united", "united", "united", "university", "university", "university", "university", "university", "university", "university", "university", "university", "university", "university", "university", "university", "university", "university", "university", "university", "university", "university", "university", "university", "unrelated", "unrelated", "unrelated", "usa", "usa", "usa", "usa", "usa", "user", "user", "user", "venture", "venture", "venture", "verizon", "vet", "vet", "vet", "vet", "vet", "vet", "veterinarian", "veterinarian", "veterinarian", "veterinarian", "veterinarian", "veterinarian", "veterinarian", "veterinarian", "veterinary", "veterinary", "veterinary", "veterinary", "veterinary", "veterinary", "veterinary", "veterinary", "veterinary", "veterinary", "veterinary", "viable", "video", "video", "video", "video", "video", "video", "video", "video", "video", "video", "video", "visit", "visit", "visit", "visit", "visit", "visit", "visit", "visit", "visual", "visual", "visual", "visual", "volunteer", "volunteer", "volunteer", "volunteer", "volunteer", "volunteer", "volunteer", "volunteer", "volunteer", "volunteer", "volunteer", "volunteer", "volunteer", "volunteer", "volunteer", "volunteer", "volunteer", "volunteer", "volunteer", "volunteer", "volunteering", "volunteering", "volunteering", "volunteering", "volunteering", "volunteering", "volunteering", "wage", "wage", "wage", "wage", "wage", "walk", "walk", "want", "want", "want", "want", "want", "want", "want", "want", "want", "want", "want", "want", "want", "want", "want", "want", "want", "want", "want", "want", "want", "way", "way", "way", "way", "way", "way", "way", "way", "way", "way", "way", "way", "way", "way", "way", "way", "way", "way", "way", "way", "way", "web", "web", "web", "web", "web", "web", "web", "web", "website", "website", "website", "website", "website", "website", "website", "website", "website", "website", "website", "website", "website", "website", "website", "website", "website", "west", "west", "west", "wildlife", "wildlife", "wildlife", "wildlife", "wildlife", "win", "win", "win", "woman", "woman", "woman", "woman", "woman", "woman", "woman", "woman", "woman", "woman", "woman", "woman", "woman", "woman", "woman", "woman", "woman", "woman", "woman", "woman", "work", "work", "work", "work", "work", "work", "work", "work", "work", "work", "work", "work", "work", "work", "work", "work", "work", "work", "work", "work", "work", "worker", "worker", "worker", "worker", "worker", "worker", "worker", "worker", "worker", "worker", "worker", "worker", "worker", "worker", "worker", "worker", "worker", "worker", "workforce", "workforce", "workforce", "workforce", "workforce", "workforce", "workforce", "workforce", "worthwhile", "worthwhile", "worthwhile", "worthwhile", "would", "would", "write", "write", "write", "write", "write", "write", "write", "write", "write", "write", "write", "write", "write", "write", "write", "write", "write", "write", "write", "writer", "writer", "writer", "writer", "writer", "writer", "writing", "writing", "writing", "writing", "writing", "writing", "writing", "writing", "writing", "writing", "writing", "writing", "writing", "writing", "writing", "year", "year", "year", "year", "year", "year", "year", "year", "year", "year", "year", "year", "year", "year", "year", "year", "year", "year", "year", "year", "year", "youth", "youth", "youth", "youth", "youtube", "youtube", "youtube", "youtube", "youtube", "youtuber", "youtuber", "zoologist", "zoology", "zoology", "zoology", "zoology"]}, "R": 30, "lambda.step": 0.01, "plot.opts": {"xlab": "PC1", "ylab": "PC2"}, "topic.order": [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21]};

function LDAvis_load_lib(url, callback){
  var s = document.createElement('script');
  s.src = url;
  s.async = true;
  s.onreadystatechange = s.onload = callback;
  s.onerror = function(){console.warn("failed to load library " + url);};
  document.getElementsByTagName("head")[0].appendChild(s);
}

if(typeof(LDAvis) !== "undefined"){
   // already loaded: just create the visualization
   !function(LDAvis){
       new LDAvis("#" + "ldavis_el12131396386586106402590084917", ldavis_el12131396386586106402590084917_data);
   }(LDAvis);
}else if(typeof define === "function" && define.amd){
   // require.js is available: use it to load d3/LDAvis
   require.config({paths: {d3: "https://d3js.org/d3.v5"}});
   require(["d3"], function(d3){
      window.d3 = d3;
      LDAvis_load_lib("https://cdn.jsdelivr.net/gh/bmabey/pyLDAvis@3.3.1/pyLDAvis/js/ldavis.v3.0.0.js", function(){
        new LDAvis("#" + "ldavis_el12131396386586106402590084917", ldavis_el12131396386586106402590084917_data);
      });
    });
}else{
    // require.js not available: dynamically load d3 & LDAvis
    LDAvis_load_lib("https://d3js.org/d3.v5.js", function(){
         LDAvis_load_lib("https://cdn.jsdelivr.net/gh/bmabey/pyLDAvis@3.3.1/pyLDAvis/js/ldavis.v3.0.0.js", function(){
                 new LDAvis("#" + "ldavis_el12131396386586106402590084917", ldavis_el12131396386586106402590084917_data);
            })
         });
}
</script></div></div>
</div>
</div>
<div class="section" id="document-topic-probabilities">
<h4>Document-Topic Probabilities<a class="headerlink" href="#document-topic-probabilities" title="Permalink to this headline">¶</a></h4>
<p>Here are the topic probabilites for the first five questions.
Topics with NaN values for these five question were deleted.
If a topic probabilites is under a give threshold it gets automaticaly a NaN value</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">lda_questions</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">5</span><span class="p">)</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>0</th>
      <th>1</th>
      <th>2</th>
      <th>3</th>
      <th>4</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>questions_id</th>
      <td>332a511f1569444485cf7a7a556a5e54</td>
      <td>eb80205482e4424cad8f16bc25aa2d9c</td>
      <td>4ec31632938a40b98909416bdd0decff</td>
      <td>2f6a9a99d9b24e5baa50d40d0ba50a75</td>
      <td>5af8880460c141dbb02971a1a8369529</td>
    </tr>
    <tr>
      <th>questions_title</th>
      <td>Teacher   career   question</td>
      <td>I want to become an army officer. What can I d...</td>
      <td>Will going abroad for your first job increase ...</td>
      <td>To become a specialist in business  management...</td>
      <td>Are there any scholarships out there for stude...</td>
    </tr>
    <tr>
      <th>questions_body</th>
      <td>What  is  a  maths  teacher?   what  is  a  ma...</td>
      <td>I am Priyanka from Bangalore . Now am in 10th ...</td>
      <td>I'm planning on going abroad for my first job....</td>
      <td>i hear business management is a hard way to ge...</td>
      <td>I'm trying to find scholarships for first year...</td>
    </tr>
    <tr>
      <th>Topic_0</th>
      <td>0.859044</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>Topic_1</th>
      <td>NaN</td>
      <td>0.842313</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>Topic_2</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.917881</td>
      <td>NaN</td>
      <td>0.871524</td>
    </tr>
    <tr>
      <th>Topic_13</th>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>0.888103</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p><strong>Example 1</strong></p>
<p>The example with the data science text was assigned to topic 17 with 85%.</p>
<p>The highlighted text are words, who define the topic.</p>
<p>A look at the previously created wordcloud shows that we define topic 17 for <em>computer science</em>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">query_text</span> <span class="o">=</span> <span class="s1">&#39;I will finish my college next year and would like to start a career as a Data Scientist. </span><span class="se">\n\n</span><span class="s1">&#39;</span>\
            <span class="o">+</span><span class="s1">&#39;What is the best way to become a good Data Scientist? #data-science&#39;</span>
<span class="n">get_text_topics</span><span class="p">(</span><span class="n">query_text</span><span class="p">,</span> <span class="mi">100</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Question:
I will finish my <span class=" -Color -Color-BGCyan">college </span>next <span class=" -Color -Color-BGCyan">year </span>and would <span class=" -Color -Color-BGCyan">like </span>to <span class=" -Color -Color-BGCyan">start </span>a <span class=" -Color -Color-BGCyan">career </span>as a <span class=" -Color -Color-BGCyan">Data </span>Scientist. 

What is the <span class=" -Color -Color-BGCyan">best way </span>to become a <span class=" -Color -Color-BGCyan">good Data </span>Scientist? #<span class=" -Color -Color-BGCyan">data</span>-<span class=" -Color -Color-BGCyan">science</span>

Topics:
<span class=" -Color -Color-BGCyan">Topic 7: 84.90%</span>
</pre></div>
</div>
<img alt="../_images/T964554_Career_Village_Questions_Recommendation_98_1.png" src="../_images/T964554_Career_Village_Questions_Recommendation_98_1.png" />
</div>
</div>
<p><strong>Example 2</strong></p>
<p>Now I would like to make a query, which gives me back documents with the topic finance (Topic 3) and health (Topic 18). The first two questions are about the cost (Topic 3) to become a doctor (Topic 18).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">query</span> <span class="o">=</span> <span class="p">{</span><span class="s1">&#39;Topic_3&#39;</span><span class="p">:</span><span class="mf">0.4</span><span class="p">,</span> <span class="s1">&#39;Topic_18&#39;</span><span class="p">:</span><span class="mf">0.4</span><span class="p">}</span>
<span class="n">topic_query</span><span class="p">(</span><span class="n">lda_questions</span><span class="p">,</span> <span class="n">query</span><span class="p">)</span><span class="o">.</span><span class="n">dropna</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;all&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>23794</th>
      <th>19907</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>questions_id</th>
      <td>9f8a56f991d5429487bc51a55c39dece</td>
      <td>76b1b0a8345d43388e2804c81bebe03a</td>
    </tr>
    <tr>
      <th>questions_title</th>
      <td>Is being a Graphic Designer at a studio/compan...</td>
      <td>How hard is it to double major in college?</td>
    </tr>
    <tr>
      <th>questions_body</th>
      <td>I am soon going to graduate if I can get my ac...</td>
      <td>I am not sure which field I would like to go i...</td>
    </tr>
    <tr>
      <th>Topic_18</th>
      <td>0.461242</td>
      <td>0.402651</td>
    </tr>
    <tr>
      <th>Topic_3</th>
      <td>0.46073</td>
      <td>0.507593</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">get_text_topics</span><span class="p">(</span><span class="n">questions</span><span class="p">[</span><span class="s1">&#39;questions_full_text&#39;</span><span class="p">][</span><span class="mi">7582</span><span class="p">],</span> <span class="mi">50</span><span class="p">)</span>
<span class="nb">print</span><span class="p">()</span>
<span class="n">get_text_topics</span><span class="p">(</span><span class="n">questions</span><span class="p">[</span><span class="s1">&#39;questions_full_text&#39;</span><span class="p">][</span><span class="mi">1597</span><span class="p">],</span> <span class="mi">50</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Question:
Is spending 8 <span class=" -Color -Color-BGMagenta">years </span>learning really <span class=" -Color -Color-BGCyan">worth </span>becoming a <span class=" -Color -Color-BGMagenta">doctor</span>?

Right now, I&#39;m a sophomore in <span class=" -Color -Color-BGMagenta">high school </span>and very often people ask me who I <span class=" -Color -Color-BGMagenta">want </span>to be after <span class=" -Color -Color-BGCyan">college</span>. My response had usually been a <span class=" -Color -Color-BGMagenta">doctor</span>, but after doing some research about the <span class=" -Color -Color-BGCyan">job</span>, I understand that becoming an actual <span class=" -Color -Color-BGMagenta">doctor </span>is a very rocky step. I feel <span class=" -Color -Color-BGMagenta">like </span>a lot of <span class=" -Color -Color-BGCyan">time </span>is <span class=" -Color -Color-BGMagenta">needed</span>, as well as a lot of <span class=" -Color -Color-BGCyan">financial </span>resources to finish <span class=" -Color -Color-BGCyan">college </span>and then <span class=" -Color -Color-BGMagenta">medical school</span>. As well, I understand that after <span class=" -Color -Color-BGMagenta">med school </span>I will <span class=" -Color -Color-BGMagenta">need </span>to spend another 2-4 <span class=" -Color -Color-BGMagenta">years </span>as an intern and then possibly more to specialize in something. So, I&#39;m just wondering whether in the end it will be <span class=" -Color -Color-BGCyan">worth </span>it, because if I do choose this path I feel <span class=" -Color -Color-BGMagenta">like </span>the next 12, or so <span class=" -Color -Color-BGMagenta">years </span>of my life I will be a <span class=" -Color -Color-BGCyan">student </span>and possibly not <span class=" -Color -Color-BGCyan">earning </span>enough to adequately support myself and <span class=" -Color -Color-BGCyan">pay </span>the <span class=" -Color -Color-BGMagenta">school </span><span class=" -Color -Color-BGCyan">debts</span>. #<span class=" -Color -Color-BGMagenta">doctor </span>#<span class=" -Color -Color-BGMagenta">medical</span>-<span class=" -Color -Color-BGMagenta">school </span>#<span class=" -Color -Color-BGCyan">student</span>-<span class=" -Color -Color-BGCyan">loans </span>#learning #<span class=" -Color -Color-BGCyan">debt </span>#expenses

Topics:
<span class=" -Color -Color-BGCyan">Topic 2: 59.54%</span>
<span class=" -Color -Color-BGMagenta">Topic 19: 34.34%</span>
</pre></div>
</div>
<img alt="../_images/T964554_Career_Village_Questions_Recommendation_101_1.png" src="../_images/T964554_Career_Village_Questions_Recommendation_101_1.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Question:
Are there <span class=" -Color -Color-BGCyan">ways </span>to <span class=" -Color -Color-BGCyan">pay </span>off your <span class=" -Color -Color-BGCyan">student debt </span>through <span class=" -Color -Color-BGMagenta">medical school</span>?

I <span class=" -Color -Color-BGMagenta">know </span>it can <span class=" -Color -Color-BGCyan">get expensive </span>and <span class=" -Color -Color-BGMagenta">medical school </span>can <span class=" -Color -Color-BGCyan">cost </span>a lot of <span class=" -Color -Color-BGCyan">money</span>, but is it true that you can <span class=" -Color -Color-BGCyan">go </span>to rural places or even other countries to <span class=" -Color -Color-BGCyan">pay </span>of your <span class=" -Color -Color-BGCyan">student debt</span>? #<span class=" -Color -Color-BGMagenta">medical </span>#<span class=" -Color -Color-BGMagenta">hospital</span>-and-<span class=" -Color -Color-BGMagenta">health</span>-<span class=" -Color -Color-BGMagenta">care </span>#<span class=" -Color -Color-BGMagenta">medicine </span>#<span class=" -Color -Color-BGMagenta">doctor </span>#<span class=" -Color -Color-BGCyan">college </span>#<span class=" -Color -Color-BGMagenta">career </span>#<span class=" -Color -Color-BGMagenta">career</span>-counseling 

Topics:
<span class=" -Color -Color-BGCyan">Topic 2: 54.68%</span>
<span class=" -Color -Color-BGMagenta">Topic 19: 37.17%</span>
</pre></div>
</div>
<img alt="../_images/T964554_Career_Village_Questions_Recommendation_101_3.png" src="../_images/T964554_Career_Village_Questions_Recommendation_101_3.png" />
</div>
</div>
</div>
</div>
<div class="section" id="recommendation-engine">
<h3>Recommendation Engine<a class="headerlink" href="#recommendation-engine" title="Permalink to this headline">¶</a></h3>
<p>The recommendation engine should help to answer the following questions:</p>
<ul class="simple">
<li><p>When a student asks a question, are there already any similar questions that might help him?</p></li>
<li><p>When a student asks a question, there may already be similar questions. This could help him with his own question.</p></li>
<li><p>Which professionals are most expected to answer the new question?
New questions should be answered quickly. For this reason it should be forwarded to professionals who can answer the questions best.</p></li>
<li><p>Which questions should be forwarded to a professional to answer?
The previous point was from the perspective of a new question. Here the professional is the focus. Every professional should be displayed questions, which could be possible for him to answer (e.g. home screen or daily/weekly e-mail).</p></li>
<li><p>Which hashtags might interest a user because of his previous activities? The last point is to recommend hashtags to a user that might be of interest to him.</p></li>
</ul>
<div class="section" id="get-similar-questions">
<h4>Get similar Questions<a class="headerlink" href="#get-similar-questions" title="Permalink to this headline">¶</a></h4>
<p>It is important for the Recommendation to identify similar questions. For this purpose, three methods have been implemented:</p>
<p><strong>Text similarity:</strong> First use NLP on the complete Question corpus and the new question text (Use part-of-speech tagging to filter words and calculate the tf-idf for a better information retrieval). After this we calculate the cosine similarity between the new question and the corpus. This makes it possible for us to identify similar questions that have already been asked.</p>
<p><strong>Tags similarity:</strong> Use the Jaccard similarity based on the hashtags of the questions to identify similar questions.</p>
<p><strong>Topic similarity:</strong> Use the cosine similarity of the topic probabilities between the new question and the actual question corpus.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_similar_text_questions</span><span class="p">(</span><span class="n">questions_text</span><span class="p">,</span> <span class="n">questions</span><span class="o">=</span><span class="n">questions</span><span class="p">,</span> <span class="n">threshold</span><span class="o">=</span><span class="mf">0.01</span><span class="p">,</span> <span class="n">top</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">answered</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Calculates the similarity to the existing questions and returns the most similar ones.</span>
<span class="sd">        </span>
<span class="sd">        :param questions_text: List with text of new questions to get the similiarities</span>
<span class="sd">        :param threshold: Threshold to filter out all questions with similarity below the value (default: 0.01)</span>
<span class="sd">        :param top: Top N similar questions (default: 5)</span>
<span class="sd">        :param answered: Consider only answered questions (default: True)</span>
<span class="sd">        :return result: DataFrame with the top similar questions</span>
<span class="sd">    &quot;&quot;&quot;</span> 
    <span class="n">nlp_corpus</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">questions</span><span class="p">[</span><span class="s1">&#39;nlp_tokens&#39;</span><span class="p">]]</span>
    <span class="n">nlp_text</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">nlp_preprocessing</span><span class="p">(</span><span class="n">questions_text</span><span class="p">)]</span>
    <span class="n">vectorizer</span> <span class="o">=</span> <span class="n">TfidfVectorizer</span><span class="p">()</span>
    <span class="n">vectorizer</span><span class="o">.</span><span class="n">fit</span><span class="p">(</span><span class="n">nlp_corpus</span><span class="p">)</span>
    <span class="n">corpus_tfidf</span> <span class="o">=</span> <span class="n">vectorizer</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">nlp_corpus</span><span class="p">)</span>
    
    <span class="n">text_tfidf</span> <span class="o">=</span> <span class="n">vectorizer</span><span class="o">.</span><span class="n">transform</span><span class="p">(</span><span class="n">nlp_text</span><span class="p">)</span>
    <span class="n">sim</span> <span class="o">=</span> <span class="n">cosine_similarity</span><span class="p">(</span><span class="n">corpus_tfidf</span><span class="p">,</span> <span class="n">text_tfidf</span><span class="p">)</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;questions_id&#39;</span><span class="p">:</span><span class="n">np</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span><span class="n">questions</span><span class="p">[</span><span class="s1">&#39;questions_id&#39;</span><span class="p">],</span> <span class="n">sim</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span>
                           <span class="s1">&#39;similarity&#39;</span><span class="p">:</span><span class="n">sim</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,),</span>
                          <span class="s1">&#39;title&#39;</span><span class="p">:</span><span class="n">np</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span><span class="n">questions</span><span class="p">[</span><span class="s1">&#39;questions_title&#39;</span><span class="p">],</span> <span class="n">sim</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span>
                          <span class="s1">&#39;body&#39;</span><span class="p">:</span><span class="n">np</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span><span class="n">questions</span><span class="p">[</span><span class="s1">&#39;questions_body&#39;</span><span class="p">],</span> <span class="n">sim</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span>
                           <span class="s1">&#39;questions_tags&#39;</span><span class="p">:</span><span class="n">np</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span><span class="n">questions</span><span class="p">[</span><span class="s1">&#39;questions_tags&#39;</span><span class="p">],</span> <span class="n">sim</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span>
                          <span class="s1">&#39;questions_answers_count&#39;</span><span class="p">:</span><span class="n">np</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span><span class="n">questions</span><span class="p">[</span><span class="s1">&#39;questions_answers_count&#39;</span><span class="p">],</span> <span class="n">sim</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span>
                          <span class="s1">&#39;questions_hearts&#39;</span><span class="p">:</span><span class="n">np</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span><span class="n">questions</span><span class="p">[</span><span class="s1">&#39;questions_hearts&#39;</span><span class="p">],</span> <span class="n">sim</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]),},</span>
                         <span class="n">index</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span><span class="n">questions</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">sim</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
    <span class="k">if</span> <span class="n">answered</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="n">result</span><span class="p">[</span><span class="s1">&#39;questions_answers_count&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">]</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="n">result</span><span class="p">[</span><span class="s1">&#39;similarity&#39;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">threshold</span><span class="p">]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;similarity&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="n">top</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>

<span class="k">def</span> <span class="nf">get_similar_tags_questions</span><span class="p">(</span><span class="n">tags</span><span class="p">,</span> <span class="n">questions</span><span class="o">=</span><span class="n">questions</span><span class="p">,</span> <span class="n">threshold</span><span class="o">=</span><span class="mf">0.01</span><span class="p">,</span> <span class="n">top</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">answered</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Calculates the similarity to the existing questions and returns the most similar ones.</span>
<span class="sd">        </span>
<span class="sd">        :param tags: List with tags to get the similiarities</span>
<span class="sd">        :param threshold: Threshold to filter out all questions with similarity below the value (default: 0.01)</span>
<span class="sd">        :param top: Top N similar questions (default: 5)</span>
<span class="sd">        :param answered: Consider only answered questions (default: True)</span>
<span class="sd">        :return result: DataFrame with the top similar questions</span>
<span class="sd">    &quot;&quot;&quot;</span> 
    <span class="n">sim</span> <span class="o">=</span> <span class="n">questions</span><span class="p">[</span><span class="s1">&#39;questions_tags&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">&amp;</span> <span class="nb">set</span><span class="p">(</span><span class="n">tags</span><span class="p">))</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">|</span> <span class="nb">set</span><span class="p">(</span><span class="n">tags</span><span class="p">))</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">|</span> <span class="nb">set</span><span class="p">(</span><span class="n">tags</span><span class="p">))</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;questions_id&#39;</span><span class="p">:</span><span class="n">questions</span><span class="p">[</span><span class="s1">&#39;questions_id&#39;</span><span class="p">],</span>
                           <span class="s1">&#39;similarity&#39;</span><span class="p">:</span><span class="n">sim</span><span class="p">,</span>
                          <span class="s1">&#39;title&#39;</span><span class="p">:</span><span class="n">questions</span><span class="p">[</span><span class="s1">&#39;questions_title&#39;</span><span class="p">],</span>
                          <span class="s1">&#39;body&#39;</span><span class="p">:</span><span class="n">questions</span><span class="p">[</span><span class="s1">&#39;questions_body&#39;</span><span class="p">],</span>
                           <span class="s1">&#39;questions_tags&#39;</span><span class="p">:</span><span class="n">questions</span><span class="p">[</span><span class="s1">&#39;questions_tags&#39;</span><span class="p">],</span>
                          <span class="s1">&#39;questions_answers_count&#39;</span><span class="p">:</span><span class="n">questions</span><span class="p">[</span><span class="s1">&#39;questions_answers_count&#39;</span><span class="p">],</span>
                          <span class="s1">&#39;questions_hearts&#39;</span><span class="p">:</span><span class="n">questions</span><span class="p">[</span><span class="s1">&#39;questions_hearts&#39;</span><span class="p">],},</span>
                         <span class="n">index</span><span class="o">=</span><span class="n">questions</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">answered</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="n">result</span><span class="p">[</span><span class="s1">&#39;questions_answers_count&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">]</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="n">result</span><span class="p">[</span><span class="s1">&#39;similarity&#39;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">threshold</span><span class="p">]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;similarity&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="n">top</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>

<span class="k">def</span> <span class="nf">get_similar_topic_questions</span><span class="p">(</span><span class="n">questions_text</span><span class="p">,</span> <span class="n">questions</span><span class="o">=</span><span class="n">questions</span><span class="p">,</span> <span class="n">threshold</span><span class="o">=</span><span class="mf">0.01</span><span class="p">,</span> <span class="n">top</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">answered</span><span class="o">=</span><span class="kc">True</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Calculates the topic similarity to the existing questions and returns the most similar ones.</span>
<span class="sd">        </span>
<span class="sd">        :param questions_text: List with text of new questions to get the similiarities</span>
<span class="sd">        :param threshold: Threshold to filter out all questions with similarity below the value (default: 0.01)</span>
<span class="sd">        :param top: Top N similar questions (default: 5)</span>
<span class="sd">        :param answered: Consider only answered questions (default: True)</span>
<span class="sd">        :return result: DataFrame with the top similar questions</span>
<span class="sd">    &quot;&quot;&quot;</span> 
    <span class="n">nlp_corpus</span> <span class="o">=</span> <span class="n">questions</span><span class="p">[</span><span class="s1">&#39;nlp_tokens&#39;</span><span class="p">]</span>
    <span class="n">bow_corpus</span> <span class="o">=</span> <span class="p">[</span><span class="n">lda_dic</span><span class="o">.</span><span class="n">doc2bow</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span> <span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">nlp_corpus</span><span class="p">]</span>
    <span class="n">bow_corpus</span> <span class="o">=</span> <span class="n">lda_tfidf</span><span class="p">[</span><span class="n">bow_corpus</span><span class="p">]</span>
    <span class="n">topic_corpus</span> <span class="o">=</span> <span class="n">lda_model</span><span class="o">.</span><span class="n">get_document_topics</span><span class="p">(</span><span class="n">bow_corpus</span><span class="p">,</span> <span class="n">minimum_probability</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">topic_corpus</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">from_records</span><span class="p">([{</span><span class="n">v</span><span class="p">:</span><span class="n">k</span> <span class="k">for</span> <span class="n">v</span><span class="p">,</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">row</span><span class="p">}</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">topic_corpus</span><span class="p">])</span>
    
    <span class="n">nlp_text</span> <span class="o">=</span> <span class="n">nlp_preprocessing</span><span class="p">(</span><span class="n">questions_text</span><span class="p">)</span>
    <span class="n">bow_text</span> <span class="o">=</span> <span class="p">[</span><span class="n">lda_dic</span><span class="o">.</span><span class="n">doc2bow</span><span class="p">(</span><span class="n">doc</span><span class="p">)</span> <span class="k">for</span> <span class="n">doc</span> <span class="ow">in</span> <span class="n">nlp_text</span><span class="p">]</span>
    <span class="n">bow_text</span> <span class="o">=</span> <span class="n">lda_tfidf</span><span class="p">[</span><span class="n">bow_text</span><span class="p">]</span>
    <span class="n">topic_text</span> <span class="o">=</span> <span class="n">lda_model</span><span class="o">.</span><span class="n">get_document_topics</span><span class="p">(</span><span class="n">bow_text</span><span class="p">,</span> <span class="n">minimum_probability</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
    <span class="n">topic_text</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="o">.</span><span class="n">from_records</span><span class="p">([{</span><span class="n">v</span><span class="p">:</span><span class="n">k</span> <span class="k">for</span> <span class="n">v</span><span class="p">,</span> <span class="n">k</span> <span class="ow">in</span> <span class="n">row</span><span class="p">}</span> <span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">topic_text</span><span class="p">])</span>
    
    <span class="n">sim</span> <span class="o">=</span> <span class="n">cosine_similarity</span><span class="p">(</span><span class="n">topic_corpus</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">),</span> <span class="n">topic_text</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="mi">0</span><span class="p">))</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">({</span><span class="s1">&#39;questions_id&#39;</span><span class="p">:</span><span class="n">np</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span><span class="n">questions</span><span class="p">[</span><span class="s1">&#39;questions_id&#39;</span><span class="p">],</span> <span class="n">sim</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span>
                           <span class="s1">&#39;similarity&#39;</span><span class="p">:</span><span class="n">sim</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,),</span>
                          <span class="s1">&#39;title&#39;</span><span class="p">:</span><span class="n">np</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span><span class="n">questions</span><span class="p">[</span><span class="s1">&#39;questions_title&#39;</span><span class="p">],</span> <span class="n">sim</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span>
                          <span class="s1">&#39;body&#39;</span><span class="p">:</span><span class="n">np</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span><span class="n">questions</span><span class="p">[</span><span class="s1">&#39;questions_body&#39;</span><span class="p">],</span> <span class="n">sim</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span>
                           <span class="s1">&#39;questions_tags&#39;</span><span class="p">:</span><span class="n">np</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span><span class="n">questions</span><span class="p">[</span><span class="s1">&#39;questions_tags&#39;</span><span class="p">],</span> <span class="n">sim</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span>
                          <span class="s1">&#39;questions_answers_count&#39;</span><span class="p">:</span><span class="n">np</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span><span class="n">questions</span><span class="p">[</span><span class="s1">&#39;questions_answers_count&#39;</span><span class="p">],</span> <span class="n">sim</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]),</span>
                          <span class="s1">&#39;questions_hearts&#39;</span><span class="p">:</span><span class="n">np</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span><span class="n">questions</span><span class="p">[</span><span class="s1">&#39;questions_hearts&#39;</span><span class="p">],</span> <span class="n">sim</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]),},</span>
                         <span class="n">index</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">tile</span><span class="p">(</span><span class="n">questions</span><span class="o">.</span><span class="n">index</span><span class="p">,</span> <span class="n">sim</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]))</span>
    <span class="k">if</span> <span class="n">answered</span><span class="p">:</span>
        <span class="n">result</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="n">result</span><span class="p">[</span><span class="s1">&#39;questions_answers_count&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">]</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="n">result</span><span class="p">[</span><span class="s1">&#39;similarity&#39;</span><span class="p">]</span> <span class="o">&gt;=</span> <span class="n">threshold</span><span class="p">]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;similarity&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="n">top</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">query_text</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;I will finish my college next year and would like to start a career as a Data Scientist. </span><span class="se">\n\n</span><span class="s1">&#39;</span>\
            <span class="o">+</span><span class="s1">&#39;What is the best way to become a good Data Scientist? #data-science&#39;</span><span class="p">]</span>
<span class="n">questions_corpus</span> <span class="o">=</span> <span class="n">questions</span><span class="p">[</span><span class="n">questions</span><span class="p">[</span><span class="s1">&#39;questions_date_added&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="s1">&#39;2017-01-01&#39;</span><span class="p">]</span>
<span class="n">get_similar_text_questions</span><span class="p">(</span><span class="n">query_text</span><span class="p">,</span> <span class="n">questions</span><span class="o">=</span><span class="n">questions_corpus</span><span class="p">)</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>11278</th>
      <th>2411</th>
      <th>20084</th>
      <th>20062</th>
      <th>121</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>questions_id</th>
      <td>bbe68647fcc84d04aad988a2891fbd9a</td>
      <td>8cc3c5d8df3d405d87aa59d042330200</td>
      <td>4e6b1b323c3e476ba03c33f75df9304a</td>
      <td>97d6255739d547afba83107bbc3a5ac4</td>
      <td>beb736d5b2dc49048f7c1b46d5a6b0ea</td>
    </tr>
    <tr>
      <th>similarity</th>
      <td>0.760404</td>
      <td>0.622366</td>
      <td>0.525967</td>
      <td>0.513088</td>
      <td>0.424484</td>
    </tr>
    <tr>
      <th>title</th>
      <td>what should I learn to be a data scientist?</td>
      <td>How to become a data scientist?</td>
      <td>What are the best data science courses/nanodeg...</td>
      <td>What are some skills needed to get into Data S...</td>
      <td>What is the difference between data science an...</td>
    </tr>
    <tr>
      <th>body</th>
      <td>I want to be a data scientist,  what online co...</td>
      <td>Hello,\r\n\r\nI am going to a liberal art coll...</td>
      <td>I'm currently a third year computer science ma...</td>
      <td>There is not substantial information out there...</td>
      <td>I've been looking into data science careers, a...</td>
    </tr>
    <tr>
      <th>questions_tags</th>
      <td>[datascience]</td>
      <td>[technology, college-advice, computer-science,...</td>
      <td>[computer-science, computer-software, data-ana...</td>
      <td>[programming, finance, data-analysis, data-min...</td>
      <td>[computer-science, computer-software, data-ana...</td>
    </tr>
    <tr>
      <th>questions_answers_count</th>
      <td>2</td>
      <td>3</td>
      <td>5</td>
      <td>5</td>
      <td>4</td>
    </tr>
    <tr>
      <th>questions_hearts</th>
      <td>2</td>
      <td>2</td>
      <td>6</td>
      <td>5</td>
      <td>4</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
<div class="section" id="recommend-new-question-to-professionals-a-id-recommender-new-questions-a">
<h4>Recommend new Question to Professionals <a id="recommender_new_questions"></a><a class="headerlink" href="#recommend-new-question-to-professionals-a-id-recommender-new-questions-a" title="Permalink to this headline">¶</a></h4>
<p>New questions should be answered by professionals as soon as possible. If a question is forwarded to an professional, he should be able to answer it. If questions that are not relevant are recommended more often, this will reduce the motivation of the professional to continue using the service.<br />
The first step is to check which similar questions already exist for the new question and who answered them. In order to make a recommendation, certain scores are calculated, which flow into a final calculation to make the best recommendation.<br />
The individual scores can be weighted differently (e.g. the activity level is more important than the hearts), to calculate the final score. It would be best if we had an professional, who has already answered many similar questions quickly and is still active.</p>
<p><span class="math notranslate nohighlight">\(final\_score = \sum_{p \in P}(p_{weight}*p_{value}) * \sum_{q \in Q}(q_{weight}*q_{value})\)</span><br />
<span class="math notranslate nohighlight">\(Q = \)</span> All defined question scores (similarity, answer time, …)<br />
<span class="math notranslate nohighlight">\(q_{weight} = \)</span> The weight for question score <span class="math notranslate nohighlight">\(q\)</span><br />
<span class="math notranslate nohighlight">\(q_{value} = \)</span> The calculated base score for question score <span class="math notranslate nohighlight">\(q\)</span><br />
<span class="math notranslate nohighlight">\(P = \)</span> All defined professional scores (last activity, professional hearts, …)<br />
<span class="math notranslate nohighlight">\(p_{weight} = \)</span> The weight for professional score <span class="math notranslate nohighlight">\(p\)</span><br />
<span class="math notranslate nohighlight">\(p_{value} = \)</span> The calculated base score for professional score <span class="math notranslate nohighlight">\(p\)</span></p>
<p>We prefer high scores, so it is necessary for some to adjust them. e.g. professionals should be preferred which have answered fast in the past. The multiplicative inverse is then used for these (<span class="math notranslate nohighlight">\(s_{value} \to \frac{1}{s_{value}})\)</span>. We also using the logarithm (actual base 10) to normalize the scores. On some score it’s helpfull to add the base self bevor calculate the logarithm. For some scores it’s helpful to add the base itself before calculate the logarithm.</p>
<p>The following scores actual exists for questions:</p>
<ul class="simple">
<li><p><strong>similarity</strong>: How similar are the questions to the new question?<br />
<code class="docutils literal notranslate"><span class="pre">score_similarty</span></code> = cosine similarity between question and new question</p></li>
<li><p><strong>answer time</strong>: How long did it take to answer that question?<br />
<code class="docutils literal notranslate"><span class="pre">score_answer_time</span></code> <span class="math notranslate nohighlight">\(=\frac{1}{log_{10}(10+value)}\)</span> with <span class="math notranslate nohighlight">\(value=\)</span> The days that have passed since the similar question was answered.</p></li>
<li><p><strong>answer rank</strong>: How many answers have there been to this question before?<br />
<code class="docutils literal notranslate"><span class="pre">score_answer_rank</span></code> <span class="math notranslate nohighlight">\(=\frac{1}{log_{10}(9+value)}\)</span> with <span class="math notranslate nohighlight">\(value=\)</span> The amount of previous answers to the question.</p></li>
<li><p><strong>answers hearts</strong>: How many ‘<em>hearts</em>’ were there for the answer?<br />
<code class="docutils literal notranslate"><span class="pre">score_answer_hearts</span></code> <span class="math notranslate nohighlight">\(=log_{10}(10+value)\)</span> with <span class="math notranslate nohighlight">\(value=\)</span> The amount of hearts for the answer from the professional.</p></li>
</ul>
<p>And the following scores actual exists for professionals:</p>
<ul class="simple">
<li><p><strong>activitiy</strong>: When was the last activity of the user?<br />
<code class="docutils literal notranslate"><span class="pre">score_activity</span></code> <span class="math notranslate nohighlight">\(=\frac{1}{log_{10}(10+value)}\)</span> with <span class="math notranslate nohighlight">\(value=\)</span> The days that have passed since the last activity of the professional.</p></li>
<li><p><strong>professional hearts</strong>: How many ‘<em>hearts</em>’ has the author already collected?<br />
<code class="docutils literal notranslate"><span class="pre">score_professional_hearts</span></code> <span class="math notranslate nohighlight">\(=log_{10}(10+value)\)</span> with <span class="math notranslate nohighlight">\(value=\)</span> The total amount of hearts of the professional.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">recommend_new_question</span><span class="p">(</span><span class="n">question_text</span><span class="p">,</span> <span class="n">questions</span><span class="o">=</span><span class="n">questions</span><span class="p">,</span> <span class="n">top_questions</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">top_professionals</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">weights</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]):</span>
    <span class="sd">&quot;&quot;&quot; Determines which professionals are best qualified to answer the question.</span>
<span class="sd">        </span>
<span class="sd">        :param questions_text: List with text of new questions to get the similiarities</span>
<span class="sd">        :param top_questions: Top N similar questions (default: 10)</span>
<span class="sd">        :param top_professionals: Top N recommended professionals (default: 5)</span>
<span class="sd">        :param weights: Weights for the various scores (default: uniform distribution)</span>
<span class="sd">        :return recommendation: DataFrame with the top scored professionals</span>
<span class="sd">        :return result: DataFrame with all rows and columns to be able to understand the calculation.</span>
<span class="sd">    &quot;&quot;&quot;</span> 
    <span class="n">relevant_columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;questions_id&#39;</span><span class="p">,</span> <span class="s1">&#39;similarity&#39;</span><span class="p">,</span> <span class="s1">&#39;questions_answers_count&#39;</span><span class="p">,</span> 
                        <span class="s1">&#39;answers_author_id&#39;</span><span class="p">,</span> <span class="s1">&#39;time_delta_answer&#39;</span><span class="p">,</span> <span class="s1">&#39;answers_time_rank&#39;</span><span class="p">,</span> <span class="s1">&#39;answers_hearts&#39;</span><span class="p">,</span> 
                        <span class="s1">&#39;time_delta_last_activity&#39;</span><span class="p">,</span> <span class="s1">&#39;professional_answers_hearts&#39;</span><span class="p">,</span> <span class="s1">&#39;questions_tags&#39;</span><span class="p">,</span> <span class="s1">&#39;professionals_tags&#39;</span><span class="p">]</span>
    <span class="n">sim_questions</span> <span class="o">=</span> <span class="n">get_similar_text_questions</span><span class="p">(</span><span class="n">question_text</span><span class="p">,</span> <span class="n">questions</span><span class="o">=</span><span class="n">questions</span><span class="p">,</span> <span class="n">threshold</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">top</span><span class="o">=</span><span class="n">top_questions</span><span class="p">,</span> <span class="n">answered</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">sim_questions</span><span class="p">,</span> <span class="n">answers</span><span class="p">,</span> <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;questions_id&#39;</span><span class="p">,</span> <span class="n">right_on</span><span class="o">=</span><span class="s1">&#39;answers_question_id&#39;</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">professionals</span><span class="p">,</span> <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;answers_author_id&#39;</span><span class="p">,</span> <span class="n">right_on</span><span class="o">=</span><span class="s1">&#39;professionals_id&#39;</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)</span>
    
    <span class="n">result</span><span class="p">[</span><span class="s1">&#39;time_delta_answer&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="s1">&#39;time_delta_answer&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">days</span>
    <span class="n">result</span><span class="p">[</span><span class="s1">&#39;time_delta_last_activity&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">actual_date</span> <span class="o">-</span> <span class="n">result</span><span class="p">[</span><span class="s1">&#39;date_last_activity&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">days</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">result</span><span class="p">[</span><span class="n">relevant_columns</span><span class="p">]</span>
    <span class="n">result</span><span class="p">[</span><span class="s1">&#39;score_activity&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="mi">10</span><span class="o">+</span><span class="n">result</span><span class="p">[</span><span class="s1">&#39;time_delta_last_activity&#39;</span><span class="p">])</span>
    <span class="n">result</span><span class="p">[</span><span class="s1">&#39;score_answer_time&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="mi">10</span><span class="o">+</span><span class="n">result</span><span class="p">[</span><span class="s1">&#39;time_delta_answer&#39;</span><span class="p">])</span>
    <span class="n">result</span><span class="p">[</span><span class="s1">&#39;score_answer_rank&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="mi">9</span><span class="o">+</span><span class="n">result</span><span class="p">[</span><span class="s1">&#39;answers_time_rank&#39;</span><span class="p">])</span>
    <span class="n">result</span><span class="p">[</span><span class="s1">&#39;score_answers_hearts&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="mi">10</span><span class="o">+</span><span class="n">result</span><span class="p">[</span><span class="s1">&#39;answers_hearts&#39;</span><span class="p">])</span>
    <span class="n">result</span><span class="p">[</span><span class="s1">&#39;score_professional_hearts&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="mi">10</span><span class="o">+</span><span class="n">result</span><span class="p">[</span><span class="s1">&#39;professional_answers_hearts&#39;</span><span class="p">])</span>
    <span class="n">result</span><span class="p">[</span><span class="s1">&#39;final_score&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">weights</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">result</span><span class="p">[</span><span class="s1">&#39;similarity&#39;</span><span class="p">]</span><span class="o">+</span>
                             <span class="n">weights</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">result</span><span class="p">[</span><span class="s1">&#39;score_answer_time&#39;</span><span class="p">]</span><span class="o">+</span>
                             <span class="n">weights</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">*</span><span class="n">result</span><span class="p">[</span><span class="s1">&#39;score_answer_rank&#39;</span><span class="p">]</span><span class="o">+</span>
                             <span class="n">weights</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">*</span><span class="n">result</span><span class="p">[</span><span class="s1">&#39;score_answers_hearts&#39;</span><span class="p">]</span>
                            <span class="p">)</span><span class="o">*</span><span class="p">(</span>
                             <span class="n">weights</span><span class="p">[</span><span class="mi">4</span><span class="p">]</span><span class="o">*</span><span class="n">result</span><span class="p">[</span><span class="s1">&#39;score_activity&#39;</span><span class="p">]</span><span class="o">+</span>
                             <span class="n">weights</span><span class="p">[</span><span class="mi">5</span><span class="p">]</span><span class="o">*</span><span class="n">result</span><span class="p">[</span><span class="s1">&#39;score_professional_hearts&#39;</span><span class="p">])</span>
    
    <span class="n">recommendation</span> <span class="o">=</span> <span class="n">result</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;answers_author_id&#39;</span><span class="p">)[</span><span class="s1">&#39;final_score&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="n">top_professionals</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">recommendation</span><span class="p">,</span> <span class="n">result</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">weights</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mf">0.3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<span class="n">query_text</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;I will finish my college next year and would like to start a career as a Data Scientist. </span><span class="se">\n\n</span><span class="s1">&#39;</span>\
            <span class="o">+</span><span class="s1">&#39;What is the best way to become a good Data Scientist? #data-science&#39;</span><span class="p">]</span>
<span class="n">questions_corpus</span> <span class="o">=</span> <span class="n">questions</span><span class="p">[</span><span class="n">questions</span><span class="p">[</span><span class="s1">&#39;questions_date_added&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="s1">&#39;2017-01-01&#39;</span><span class="p">]</span>
<span class="n">recommendation</span><span class="p">,</span> <span class="n">scores</span> <span class="o">=</span> <span class="n">recommend_new_question</span><span class="p">(</span><span class="n">query_text</span><span class="p">,</span> <span class="n">questions</span><span class="o">=</span><span class="n">questions_corpus</span><span class="p">,</span> <span class="n">top_questions</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">top_professionals</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">weights</span><span class="o">=</span><span class="n">weights</span><span class="p">)</span>
<span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">recommendation</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>final_score</th>
    </tr>
    <tr>
      <th>answers_author_id</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>d7f9afe721af42b1a03a993909e0568c</th>
      <td>5.311369</td>
    </tr>
    <tr>
      <th>b75ea3ba7b6440e7a5cf97537a4a73ee</th>
      <td>2.445154</td>
    </tr>
    <tr>
      <th>cf19b70d554a419eb5addad410f66891</th>
      <td>2.423754</td>
    </tr>
    <tr>
      <th>887c5a142b42466fb74740d72989fc74</th>
      <td>2.249271</td>
    </tr>
    <tr>
      <th>0a169aa8c6f54854afaa6783976e52fe</th>
      <td>1.822899</td>
    </tr>
    <tr>
      <th>cc49ef2285724342a4a6a9595e66243d</th>
      <td>1.698382</td>
    </tr>
    <tr>
      <th>066f10994b704178950d1645f8855247</th>
      <td>1.679340</td>
    </tr>
    <tr>
      <th>10b10228914d458789ab5ab9637842c9</th>
      <td>1.657876</td>
    </tr>
    <tr>
      <th>298a2b574b154a578eb9fef4842b1c23</th>
      <td>1.654809</td>
    </tr>
    <tr>
      <th>35bead82fb5c4189a80788ded18151ce</th>
      <td>1.643005</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
<div class="section" id="recommend-questions-for-a-professional">
<h4>Recommend Questions for a Professional<a class="headerlink" href="#recommend-questions-for-a-professional" title="Permalink to this headline">¶</a></h4>
<p>There are many questions and it is therefore currently difficult for an professional to find questions which he could answer. To recommend relevant questions to him, we look which questions he has already answered and which hashtags he has subscribed to. Scores are calculated on the basis of these to provide a better recommendation.<br />
The individual scores can be weighted differently (e.g. the similarity is more important than the number of answers), to calculate the final score.</p>
<p><span class="math notranslate nohighlight">\(final\_score = \sum_{s \in S}(s_{weight}*s_{value})\)</span><br />
<span class="math notranslate nohighlight">\(S = \)</span> All defined Scores (similarity, question date, …)<br />
<span class="math notranslate nohighlight">\(s_{weight} = \)</span> The weight for score <span class="math notranslate nohighlight">\(s\)</span><br />
<span class="math notranslate nohighlight">\(s_{value} = \)</span> The calculated base score for score <span class="math notranslate nohighlight">\(s\)</span></p>
<p>We prefer high scores, so it is necessary for some to adjust them. e.g. questions should be preferred which do not have many answers yet. The multiplicative inverse is then used for these (<span class="math notranslate nohighlight">\(s_{value} \to \frac{1}{s_{value}})\)</span>. We also using the logarithm (actual base 10) to normalize the scores. On some score it’s helpfull to add the base self bevor calculate the logarithm. For some scores it’s helpful to add the base itself before calculate the logarithm.<br />
The following scores exists:</p>
<ul class="simple">
<li><p><strong>similarity</strong>: How similar are the questions to the already answered questions or hashtags?<br />
<code class="docutils literal notranslate"><span class="pre">score_similarty</span></code> = cosine similarity between question and new question</p></li>
<li><p><strong>question date</strong>: How old is the question?<br />
<code class="docutils literal notranslate"><span class="pre">score_date_added</span></code> <span class="math notranslate nohighlight">\(=log_{10}(value)\)</span> with <span class="math notranslate nohighlight">\(value=\)</span> The days that have passed since the question was asked.</p></li>
<li><p><strong>answers</strong>: How many answers have the question already?<br />
<code class="docutils literal notranslate"><span class="pre">score_answers</span></code> <span class="math notranslate nohighlight">\(=\frac{1}{log_{10}(10+value)}\)</span> with <span class="math notranslate nohighlight">\(value=\)</span> The amount of answers for the question.</p></li>
<li><p><strong>tags</strong>: Jaccard similiarty between the question hashtags and the professional subscribed hashtags?<br />
<code class="docutils literal notranslate"><span class="pre">score_tags</span></code> <span class="math notranslate nohighlight">\(=\frac{T_q \cap T_p}{T_q \cup T_p} \)</span> with <span class="math notranslate nohighlight">\(T_q=\)</span> Question Tags and <span class="math notranslate nohighlight">\(T_p=\)</span> Professional Tags.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">recommend_questions_for_professional</span><span class="p">(</span><span class="n">professional_id</span><span class="p">,</span> <span class="n">questions</span><span class="o">=</span><span class="n">questions</span><span class="p">,</span> <span class="n">top</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">weights</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">]):</span>
    <span class="sd">&quot;&quot;&quot; Recommends questions for an professional to answer.</span>
<span class="sd">        </span>
<span class="sd">        :param professional_id: ID of the professional</span>
<span class="sd">        :param top: Top N recommended questions (default: 5)</span>
<span class="sd">        :param top_professionals: Top N recommended professionals (default: 5)</span>
<span class="sd">        :param weights: Weights for the various scores (default: uniform distribution)</span>
<span class="sd">        :return recommendation: DataFrame with the top scored professionals</span>
<span class="sd">        :return sim_questions: DataFrame with all rows and columns to be able to understand the calculation.</span>
<span class="sd">    &quot;&quot;&quot;</span> 
    <span class="n">professional</span> <span class="o">=</span> <span class="n">professionals</span><span class="p">[</span><span class="n">professionals</span><span class="p">[</span><span class="s1">&#39;professionals_id&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">professional_id</span><span class="p">]</span>
    <span class="n">professional_tags</span> <span class="o">=</span> <span class="n">professional</span><span class="p">[</span><span class="s1">&#39;professionals_tags&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">values</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="n">answered_questions</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">professional</span><span class="p">,</span> <span class="n">answers</span><span class="p">,</span> <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;professionals_id&#39;</span><span class="p">,</span> <span class="n">right_on</span><span class="o">=</span><span class="s1">&#39;answers_author_id&#39;</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)</span>
    <span class="n">answered_questions</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">answered_questions</span><span class="p">,</span> <span class="n">questions</span><span class="p">,</span> <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;answers_question_id&#39;</span><span class="p">,</span> <span class="n">right_on</span><span class="o">=</span><span class="s1">&#39;questions_id&#39;</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">)</span>
    <span class="n">sim_tags_questions</span> <span class="o">=</span> <span class="n">get_similar_tags_questions</span><span class="p">(</span><span class="n">professional_tags</span><span class="p">,</span> <span class="n">questions</span><span class="o">=</span><span class="n">questions</span><span class="p">,</span> <span class="n">top</span><span class="o">=</span><span class="n">top</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="n">answered</span><span class="o">=</span><span class="kc">False</span><span class="p">)[[</span><span class="s1">&#39;questions_id&#39;</span><span class="p">,</span> <span class="s1">&#39;similarity&#39;</span><span class="p">]]</span>
    <span class="n">sim_questions</span> <span class="o">=</span> <span class="n">get_similar_text_questions</span><span class="p">(</span><span class="n">answered_questions</span><span class="p">[</span><span class="s1">&#39;questions_full_text&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">tolist</span><span class="p">(),</span> <span class="n">questions</span><span class="o">=</span><span class="n">questions</span><span class="p">,</span> <span class="n">top</span><span class="o">=</span><span class="n">top</span><span class="o">**</span><span class="mi">2</span><span class="p">,</span> <span class="n">answered</span><span class="o">=</span><span class="kc">False</span><span class="p">)[[</span><span class="s1">&#39;questions_id&#39;</span><span class="p">,</span> <span class="s1">&#39;similarity&#39;</span><span class="p">]]</span>
    <span class="n">sim_questions</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">sim_questions</span><span class="p">,</span> <span class="n">sim_tags_questions</span><span class="p">])</span>
    <span class="n">sim_questions</span> <span class="o">=</span> <span class="n">sim_questions</span><span class="p">[</span><span class="o">~</span><span class="n">sim_questions</span><span class="p">[</span><span class="s1">&#39;questions_id&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">answered_questions</span><span class="p">[</span><span class="s1">&#39;questions_id&#39;</span><span class="p">])]</span>
    <span class="n">sim_questions</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">sim_questions</span><span class="p">,</span> <span class="n">questions</span><span class="p">,</span> <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;questions_id&#39;</span><span class="p">,</span> <span class="n">right_on</span><span class="o">=</span><span class="s1">&#39;questions_id&#39;</span><span class="p">)</span>
    <span class="n">sim_questions</span><span class="p">[</span><span class="s1">&#39;time_delta_added&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">actual_date</span> <span class="o">-</span> <span class="n">sim_questions</span><span class="p">[</span><span class="s1">&#39;questions_date_added&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">days</span>
    <span class="n">sim_questions</span><span class="p">[</span><span class="s1">&#39;score_answers&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="o">/</span><span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="mi">10</span><span class="o">+</span><span class="n">sim_questions</span><span class="p">[</span><span class="s1">&#39;questions_answers_count&#39;</span><span class="p">])</span>
    <span class="n">sim_questions</span><span class="p">[</span><span class="s1">&#39;score_date_added&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">log10</span><span class="p">(</span><span class="n">sim_questions</span><span class="p">[</span><span class="s1">&#39;time_delta_added&#39;</span><span class="p">])</span>
    <span class="n">sim_questions</span><span class="p">[</span><span class="s1">&#39;score_tags&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">sim_questions</span><span class="p">[</span><span class="s1">&#39;questions_tags&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">fillna</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">&amp;</span> <span class="nb">set</span><span class="p">(</span><span class="n">professional_tags</span><span class="p">))</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">|</span> <span class="nb">set</span><span class="p">(</span><span class="n">professional_tags</span><span class="p">))</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="o">|</span> <span class="nb">set</span><span class="p">(</span><span class="n">professional_tags</span><span class="p">))</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">sim_questions</span><span class="p">[</span><span class="s1">&#39;final_score&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">weights</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="n">sim_questions</span><span class="p">[</span><span class="s1">&#39;similarity&#39;</span><span class="p">]</span><span class="o">+</span>
                                    <span class="n">weights</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="n">sim_questions</span><span class="p">[</span><span class="s1">&#39;score_answers&#39;</span><span class="p">]</span><span class="o">+</span>
                                    <span class="n">weights</span><span class="p">[</span><span class="mi">2</span><span class="p">]</span><span class="o">*</span><span class="n">sim_questions</span><span class="p">[</span><span class="s1">&#39;score_date_added&#39;</span><span class="p">]</span><span class="o">+</span>
                                    <span class="n">weights</span><span class="p">[</span><span class="mi">3</span><span class="p">]</span><span class="o">*</span><span class="n">sim_questions</span><span class="p">[</span><span class="s1">&#39;score_tags&#39;</span><span class="p">])</span>
    
    <span class="n">recommendation</span> <span class="o">=</span> <span class="n">sim_questions</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;questions_id&#39;</span><span class="p">)[</span><span class="s1">&#39;final_score&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="n">top</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">recommendation</span><span class="p">,</span> <span class="n">sim_questions</span>
</pre></div>
</div>
</div>
</div>
<p>Professional with already 60 answered questions.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">weights</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="n">professional_id</span> <span class="o">=</span> <span class="s1">&#39;d7f9afe721af42b1a03a993909e0568c&#39;</span>
<span class="n">questions_corpus</span> <span class="o">=</span> <span class="n">questions</span><span class="p">[</span><span class="n">questions</span><span class="p">[</span><span class="s1">&#39;questions_date_added&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="s1">&#39;2018-01-01&#39;</span><span class="p">]</span>
<span class="n">recommendation</span><span class="p">,</span> <span class="n">score</span> <span class="o">=</span> <span class="n">recommend_questions_for_professional</span><span class="p">(</span><span class="n">professional_id</span><span class="p">,</span> <span class="n">questions</span><span class="o">=</span><span class="n">questions_corpus</span><span class="p">,</span> <span class="n">weights</span><span class="o">=</span><span class="n">weights</span><span class="p">)</span>
<span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">recommendation</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>final_score</th>
    </tr>
    <tr>
      <th>questions_id</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>b1ac7ac8bbbb4ab2952f070ab1633547</th>
      <td>6.595496</td>
    </tr>
    <tr>
      <th>3410bf1f3ebc495a9e5c1f2619384770</th>
      <td>6.571709</td>
    </tr>
    <tr>
      <th>aae03d7233b34d5e899c8974d886abeb</th>
      <td>6.537744</td>
    </tr>
    <tr>
      <th>d067a2c24d0e4d7fa16a0282a0de0022</th>
      <td>6.535440</td>
    </tr>
    <tr>
      <th>746b29cda34649c590eb82d8724783b4</th>
      <td>6.506412</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>A new Professional without any answered questions. The recommendation is based on the hashtags.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">weights</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">1</span><span class="o">/</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="n">professional_id</span> <span class="o">=</span> <span class="s1">&#39;ea75c5fce38348e0a151c3c346929e6a&#39;</span>
<span class="n">questions_corpus</span> <span class="o">=</span> <span class="n">questions</span><span class="p">[</span><span class="n">questions</span><span class="p">[</span><span class="s1">&#39;questions_date_added&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="s1">&#39;2018-01-01&#39;</span><span class="p">]</span>
<span class="n">recommendation</span><span class="p">,</span> <span class="n">score</span> <span class="o">=</span> <span class="n">recommend_questions_for_professional</span><span class="p">(</span><span class="n">professional_id</span><span class="p">,</span> <span class="n">questions</span><span class="o">=</span><span class="n">questions_corpus</span><span class="p">,</span> <span class="n">weights</span><span class="o">=</span><span class="n">weights</span><span class="p">)</span>
<span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">recommendation</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>final_score</th>
    </tr>
    <tr>
      <th>questions_id</th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>788c0b73d3e7492f83c8b72012c52a21</th>
      <td>6.046687</td>
    </tr>
    <tr>
      <th>a1b812a67cd64c87b2fbba9d6623a477</th>
      <td>5.940849</td>
    </tr>
    <tr>
      <th>1b70ac2e12f3495aa31941153c779dcb</th>
      <td>5.940849</td>
    </tr>
    <tr>
      <th>cd3b32785e864aa485a157032b9bdea4</th>
      <td>5.816991</td>
    </tr>
    <tr>
      <th>db2731f5f83c4b8689e2d479b4c39bfd</th>
      <td>5.797264</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
<div class="section" id="recommend-new-tags-for-users">
<h4>Recommend new Tags for Users<a class="headerlink" href="#recommend-new-tags-for-users" title="Permalink to this headline">¶</a></h4>
<p>The current system makes recommendation based on Tags. There are currently over 16000 different tags available. It might be interesting to recommend new tags to users based on their activities.<br />
We can do this with the following three methods:</p>
<ul class="simple">
<li><p><strong>Recommendation based on the user’s answered questions:</strong> If a user has already answered several questions, we can check which tags occurred most frequently in this questions.</p></li>
<li><p><strong>Recommendation by other users with similar tags:</strong> If a user has already subscribed to some tags, we can check which other users have subscribed to the same tags. The most common tags that occur with these users can then be used as recommendations.</p></li>
<li><p><strong>Recommendation based on the user’s industry:</strong> If the user has specified an industry, we can determine which other users with the same industry exist. This is used to see which tags are most popular in the industry. With this method a part of the cold start problem can be avoided for newly registered professionals.</p></li>
</ul>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">get_user_tags</span><span class="p">(</span><span class="n">user_id</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Get a list with user tags</span>
<span class="sd">        </span>
<span class="sd">        :param user_id: ID of the user</span>
<span class="sd">        :return user_tags: Series with tags.</span>
<span class="sd">    &quot;&quot;&quot;</span> 
    <span class="n">user_tags</span> <span class="o">=</span> <span class="n">tag_users</span><span class="p">[</span><span class="n">tag_users</span><span class="p">[</span><span class="s1">&#39;tag_users_user_id&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">user_id</span><span class="p">]</span>
    <span class="n">user_tags</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">user_tags</span><span class="p">,</span> <span class="n">tags</span><span class="p">,</span> <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;tag_users_tag_id&#39;</span><span class="p">,</span> <span class="n">right_on</span><span class="o">=</span><span class="s1">&#39;tags_tag_id&#39;</span><span class="p">)[</span><span class="s1">&#39;tags_tag_name&#39;</span><span class="p">]</span>
    <span class="k">return</span> <span class="n">user_tags</span>

<span class="k">def</span> <span class="nf">recommend_tags_industry</span><span class="p">(</span><span class="n">professional_id</span><span class="p">,</span> <span class="n">threshold</span><span class="o">=</span><span class="mf">0.01</span><span class="p">,</span> <span class="n">top</span><span class="o">=</span><span class="mi">5</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Recommends tags for an professional depending on his industry.</span>
<span class="sd">        </span>
<span class="sd">        :param professional_id: ID of the professional</span>
<span class="sd">        :param threshold: Minimum percentage other professionals within the industry follow the tags.</span>
<span class="sd">        :param top: Top N recommended tags (default: 5)</span>
<span class="sd">        :return top_tags: DataFrame with the top tags and how many other professionals within industry follow these.</span>
<span class="sd">    &quot;&quot;&quot;</span> 
    <span class="n">professional_tags</span> <span class="o">=</span> <span class="n">get_user_tags</span><span class="p">(</span><span class="n">professional_id</span><span class="p">)</span>
    <span class="n">industry</span> <span class="o">=</span> <span class="n">professionals</span><span class="p">[</span><span class="n">professionals</span><span class="p">[</span><span class="s1">&#39;professionals_id&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">professional_id</span><span class="p">][</span><span class="s1">&#39;professionals_industry&#39;</span><span class="p">]</span>
    <span class="n">professionals_industry</span> <span class="o">=</span> <span class="n">professionals</span><span class="p">[</span><span class="n">professionals</span><span class="p">[</span><span class="s1">&#39;professionals_industry&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">industry</span><span class="p">)][</span><span class="s1">&#39;professionals_id&#39;</span><span class="p">]</span>
    <span class="n">top_tags</span> <span class="o">=</span> <span class="n">tag_users</span><span class="p">[</span><span class="n">tag_users</span><span class="p">[</span><span class="s1">&#39;tag_users_user_id&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">professionals_industry</span><span class="p">)]</span>
    <span class="n">top_tags</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">top_tags</span><span class="p">,</span> <span class="n">tags</span><span class="p">,</span> <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;tag_users_tag_id&#39;</span><span class="p">,</span> <span class="n">right_on</span><span class="o">=</span><span class="s1">&#39;tags_tag_id&#39;</span><span class="p">)</span>
    <span class="n">top_tags</span> <span class="o">=</span> <span class="n">top_tags</span><span class="p">[</span><span class="o">~</span><span class="n">top_tags</span><span class="p">[</span><span class="s1">&#39;tags_tag_name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">professional_tags</span><span class="p">)]</span>
    <span class="n">top_tags</span> <span class="o">=</span> <span class="n">top_tags</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;tags_tag_name&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">professionals_industry</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
    <span class="n">top_tags</span> <span class="o">=</span> <span class="n">top_tags</span><span class="p">[</span><span class="n">top_tags</span> <span class="o">&gt;</span> <span class="n">threshold</span><span class="p">]</span>
    <span class="n">top_tags</span> <span class="o">=</span> <span class="n">top_tags</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="n">top</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">top_tags</span>

<span class="k">def</span> <span class="nf">recommend_tags_questions</span><span class="p">(</span><span class="n">professional_id</span><span class="p">,</span> <span class="n">threshold</span><span class="o">=</span><span class="mf">0.01</span><span class="p">,</span> <span class="n">top</span><span class="o">=</span><span class="mi">5</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Recommends tags for an professional depending on answered questions.</span>
<span class="sd">        </span>
<span class="sd">        :param professional_id: ID of the professional</span>
<span class="sd">        :param threshold: Minimum percentage of questions with the tags.</span>
<span class="sd">        :param top: Top N recommended tags (default: 5)</span>
<span class="sd">        :return top_tags: DataFrame with the top tags and how many answered questions have these.</span>
<span class="sd">    &quot;&quot;&quot;</span> 
    <span class="n">professional_tags</span> <span class="o">=</span> <span class="n">get_user_tags</span><span class="p">(</span><span class="n">professional_id</span><span class="p">)</span>
    <span class="n">professional</span> <span class="o">=</span> <span class="n">professionals</span><span class="p">[</span><span class="n">professionals</span><span class="p">[</span><span class="s1">&#39;professionals_id&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">professional_id</span><span class="p">]</span>
    <span class="n">professional_questions</span> <span class="o">=</span> <span class="n">answers</span><span class="p">[</span><span class="n">answers</span><span class="p">[</span><span class="s1">&#39;answers_author_id&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="n">professional_id</span><span class="p">][</span><span class="s1">&#39;answers_question_id&#39;</span><span class="p">]</span>
    <span class="n">top_tags</span> <span class="o">=</span> <span class="n">tag_questions</span><span class="p">[</span><span class="n">tag_questions</span><span class="p">[</span><span class="s1">&#39;tag_questions_question_id&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">professional_questions</span><span class="p">)]</span>
    <span class="n">top_tags</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">top_tags</span><span class="p">,</span> <span class="n">tags</span><span class="p">,</span> <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;tag_questions_tag_id&#39;</span><span class="p">,</span> <span class="n">right_on</span><span class="o">=</span><span class="s1">&#39;tags_tag_id&#39;</span><span class="p">)</span>

    <span class="n">top_tags</span> <span class="o">=</span> <span class="n">top_tags</span><span class="p">[</span><span class="o">~</span><span class="n">top_tags</span><span class="p">[</span><span class="s1">&#39;tags_tag_name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">isin</span><span class="p">(</span><span class="n">professional_tags</span><span class="p">)]</span>
    <span class="n">top_tags</span> <span class="o">=</span> <span class="n">top_tags</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;tags_tag_name&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">professional_questions</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
    <span class="n">top_tags</span> <span class="o">=</span> <span class="n">top_tags</span><span class="p">[</span><span class="n">top_tags</span> <span class="o">&gt;</span> <span class="n">threshold</span><span class="p">]</span>
    <span class="n">top_tags</span> <span class="o">=</span> <span class="n">top_tags</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="n">top</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">top_tags</span>

<span class="k">def</span> <span class="nf">recommend_tags_other_professionals</span><span class="p">(</span><span class="n">professional_id</span><span class="p">,</span> <span class="n">threshold</span><span class="o">=</span><span class="mf">0.01</span><span class="p">,</span> <span class="n">top</span><span class="o">=</span><span class="mi">5</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot; Recommends tags for an professional depending on answered questions.</span>
<span class="sd">        </span>
<span class="sd">        :param professional_id: ID of the professional</span>
<span class="sd">        :param threshold: Minimum percentage of questions with the tags.</span>
<span class="sd">        :param top: Top N recommended tags (default: 5)</span>
<span class="sd">        :return top_tags: DataFrame with the top tags and how many answered questions have these.</span>
<span class="sd">    &quot;&quot;&quot;</span> 
    <span class="n">professional_tags</span> <span class="o">=</span> <span class="n">get_user_tags</span><span class="p">(</span><span class="n">professional_id</span><span class="p">)</span>
    <span class="n">top_tags</span> <span class="o">=</span> <span class="n">professionals</span><span class="p">[</span><span class="n">professionals</span><span class="p">[</span><span class="s1">&#39;professionals_id&#39;</span><span class="p">]</span> <span class="o">!=</span> <span class="n">professional_id</span><span class="p">][[</span><span class="s1">&#39;professionals_tags&#39;</span><span class="p">]]</span><span class="o">.</span><span class="n">dropna</span><span class="p">()</span>
    <span class="n">top_tags</span><span class="p">[</span><span class="s1">&#39;sim&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">top_tags</span><span class="p">[</span><span class="s1">&#39;professionals_tags&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="mi">1</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">professional_tags</span><span class="p">)</span> <span class="o">-</span> <span class="nb">set</span><span class="p">(</span><span class="n">x</span><span class="p">))</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">professional_tags</span><span class="p">))</span> <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">professional_tags</span><span class="p">))</span> <span class="o">&gt;</span> <span class="mi">0</span> <span class="k">else</span> <span class="mi">0</span><span class="p">)</span>
    <span class="n">top_tags</span><span class="p">[</span><span class="s1">&#39;professionals_tags&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">top_tags</span><span class="p">[</span><span class="s1">&#39;professionals_tags&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="nb">set</span><span class="p">(</span><span class="n">x</span><span class="p">)</span><span class="o">-</span><span class="nb">set</span><span class="p">(</span><span class="n">professional_tags</span><span class="p">))</span>
    <span class="n">top_tags</span> <span class="o">=</span> <span class="n">top_tags</span><span class="p">[</span><span class="n">top_tags</span><span class="p">[</span><span class="s1">&#39;sim&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="n">threshold</span><span class="p">]</span>
    <span class="n">top_tags</span> <span class="o">=</span> <span class="n">top_tags</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="s1">&#39;sim&#39;</span><span class="p">,</span> <span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="n">top</span> <span class="o">**</span> <span class="mi">2</span><span class="p">)</span>

    <span class="n">result</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">row</span> <span class="ow">in</span> <span class="n">top_tags</span><span class="o">.</span><span class="n">iterrows</span><span class="p">():</span>
        <span class="k">for</span> <span class="n">tag</span> <span class="ow">in</span> <span class="n">row</span><span class="p">[</span><span class="s1">&#39;professionals_tags&#39;</span><span class="p">]:</span>
            <span class="n">result</span><span class="o">.</span><span class="n">append</span><span class="p">([</span><span class="n">row</span><span class="p">[</span><span class="s1">&#39;sim&#39;</span><span class="p">],</span> <span class="n">tag</span><span class="p">])</span>
    <span class="n">result</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">result</span><span class="p">,</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s1">&#39;sim&#39;</span><span class="p">,</span> <span class="s1">&#39;tags_tag_name&#39;</span><span class="p">])</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;tags_tag_name&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">sum</span><span class="p">()[</span><span class="s1">&#39;sim&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">(</span><span class="n">top</span><span class="p">)</span>
    <span class="k">return</span> <span class="n">result</span>
</pre></div>
</div>
</div>
</div>
<p>A professional in the <strong>Telecommunications</strong> industry with 7 Tags and 4 answered questions.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">professional_id</span> <span class="o">=</span> <span class="s1">&#39;8027a8d620a7429f90598adf80db5a88&#39;</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Professional:&#39;</span><span class="p">,</span> <span class="n">professional_id</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Actual Tags:&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">get_user_tags</span><span class="p">(</span><span class="n">professional_id</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Recommendation based on the user industry:&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">recommend_tags_industry</span><span class="p">(</span><span class="n">professional_id</span><span class="p">)</span><span class="o">.</span><span class="n">index</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Recommendation based on the user answered questions:&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">recommend_tags_questions</span><span class="p">(</span><span class="n">professional_id</span><span class="p">)</span><span class="o">.</span><span class="n">index</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Recommendation by other users with similar tags:&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">recommend_tags_other_professionals</span><span class="p">(</span><span class="n">professional_id</span><span class="p">)</span><span class="o">.</span><span class="n">index</span><span class="p">))</span>
<span class="nb">print</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Professional: 8027a8d620a7429f90598adf80db5a88

Actual Tags:
databases, mysql, oracle-rac, telecommunications, vendor-management, database-management, shell-scripting

Recommendation based on the user industry:
technology, tech, college, management, project-management

Recommendation based on the user answered questions:
computer-science, information-technology, programming

Recommendation by other users with similar tags:
programming, software, linux, management, computer
</pre></div>
</div>
</div>
</div>
<p>A new professional in the <strong>Finance</strong> industry, who hasn’t subcribe any hashtags yet or answered a question (cold start problem).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">professional_id</span> <span class="o">=</span> <span class="s1">&#39;2a7db4f2150c493f9d81cb4c2e032a12&#39;</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Professional:&#39;</span><span class="p">,</span> <span class="n">professional_id</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Actual Tags:&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">get_user_tags</span><span class="p">(</span><span class="n">professional_id</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Recommendation based on the user industry:&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">recommend_tags_industry</span><span class="p">(</span><span class="n">professional_id</span><span class="p">)</span><span class="o">.</span><span class="n">index</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Recommendation based on the user answered questions:&#39;</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;, &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">recommend_tags_questions</span><span class="p">(</span><span class="n">professional_id</span><span class="p">)</span><span class="o">.</span><span class="n">index</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;</span><span class="se">\n</span><span class="s1">Recommendation by other users with similar tags:&#39;</span><span class="p">)</span>
<span class="c1"># print(&#39;, &#39;.join(recommend_tags_other_professionals(professional_id).index))</span>
<span class="nb">print</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Professional: 2a7db4f2150c493f9d81cb4c2e032a12

Actual Tags:


Recommendation based on the user industry:
finance, personal-finance, financial-services, corporate-finance, programming

Recommendation based on the user answered questions:


Recommendation by other users with similar tags:
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="evaluation">
<h3>Evaluation<a class="headerlink" href="#evaluation" title="Permalink to this headline">¶</a></h3>
<p>Now that we have some methods for making recommendations, we still want to test how well they work. It becomes difficult to automatically measure how well the recommendations work because there are no optimal targets. But it should be important that not all questions are always recommended to the same professional. It’s better if they are distributed among various professional.
Another important factor is the time to generate the recommendations. Primarily the recommendations for the ‘similar questions’ and ‘recommend new tags for user’ must be calculated quickly if they are to be integrated to the website. But for the e-mails with the recommendations, which only have to be generated and sent once a day, this is less important.</p>
<div class="section" id="id1">
<h4>Get similar Questions<a class="headerlink" href="#id1" title="Permalink to this headline">¶</a></h4>
<p>As a sample, we will take all unanswered questions from 2019 onwards. To identify the similar questions, we only want to consider those that have been asked since 2018.
We calculate for 80 questions the similar questions. For each of the 80 questions we would like to get the top 5 similar questions. 324 of the 400 questions are unique. Only a small part of the questions have been recommended several times. This is good because it shows that the new questions are not similar to each other (e.g. students always ask the same questions).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="n">time</span>
<span class="n">new_questions</span> <span class="o">=</span> <span class="n">questions</span><span class="p">[(</span><span class="n">questions</span><span class="p">[</span><span class="s1">&#39;questions_date_added&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="s1">&#39;2019-01-01&#39;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">questions</span><span class="p">[</span><span class="s1">&#39;questions_answers_count&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)]</span>
<span class="n">questions_corpus</span> <span class="o">=</span> <span class="n">questions</span><span class="p">[</span><span class="n">questions</span><span class="p">[</span><span class="s1">&#39;questions_date_added&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="s1">&#39;2018-01-01&#39;</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;count:&#39;</span><span class="p">,</span><span class="n">new_questions</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">sim</span> <span class="o">=</span> <span class="p">[</span><span class="n">get_similar_text_questions</span><span class="p">([</span><span class="n">x</span><span class="p">],</span> <span class="n">questions</span><span class="o">=</span><span class="n">questions_corpus</span><span class="p">)[</span><span class="s1">&#39;questions_id&#39;</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">new_questions</span><span class="p">[</span><span class="s1">&#39;questions_full_text&#39;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>count: 80
CPU times: user 28.5 s, sys: 119 ms, total: 28.7 s
Wall time: 28.7 s
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plt_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">sim</span><span class="p">)</span><span class="o">.</span><span class="n">reshape</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">))</span>
<span class="n">plt_data</span> <span class="o">=</span> <span class="n">plt_data</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">plt_data</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Unique values:&#39;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">plt_data</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">plt_data</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
<span class="n">plt_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">plt_data</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">plt_data</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">plt_data</span><span class="o">.</span><span class="n">index</span><span class="p">))</span>
<span class="n">plt_data</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Amount of recommendations&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Frequency&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Recommended similar questions&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Unique values: 327
9168fef0f9b144008e2dcf4ed99ec82b    4
e964da45e44444e18cc6bff1f44c2fb3    4
e8c8ed32802b4090b5865dd3c2c3f42a    3
f90f97e3d9b3423fba8426cf5455751f    3
a5d57d6dc315422db46889876bea0603    3
dtype: int64
</pre></div>
</div>
<img alt="../_images/T964554_Career_Village_Questions_Recommendation_123_1.png" src="../_images/T964554_Career_Village_Questions_Recommendation_123_1.png" />
</div>
</div>
</div>
<div class="section" id="recommend-new-question-to-professionals">
<h4>Recommend new Question to Professionals<a class="headerlink" href="#recommend-new-question-to-professionals" title="Permalink to this headline">¶</a></h4>
<p>For every unanswered question since 2019 we want to recommend 10 professionals, who can best answer these questions.
We get 423 experts recommended who can answer the questions best. 70% of these get only one question assigned. This is good because the questions are to be distributed over many professionals and not always the same professionals are recommended. But there is one expert who will get 42 of the 80 questions. But if we look at him, it’s okay. He has been active for a very long time and has already answered over 1700 questions.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="n">time</span>
<span class="n">weights</span><span class="o">=</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<span class="n">new_questions</span> <span class="o">=</span> <span class="n">questions</span><span class="p">[(</span><span class="n">questions</span><span class="p">[</span><span class="s1">&#39;questions_date_added&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="s1">&#39;2019-01-01&#39;</span><span class="p">)</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">questions</span><span class="p">[</span><span class="s1">&#39;questions_answers_count&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="mi">0</span><span class="p">)]</span>
<span class="n">questions_corpus</span> <span class="o">=</span> <span class="n">questions</span><span class="p">[</span><span class="n">questions</span><span class="p">[</span><span class="s1">&#39;questions_date_added&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="s1">&#39;2018-01-01&#39;</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;count:&#39;</span><span class="p">,</span><span class="n">new_questions</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">sim</span> <span class="o">=</span> <span class="p">[</span><span class="n">recommend_new_question</span><span class="p">([</span><span class="n">x</span><span class="p">],</span> <span class="n">questions</span><span class="o">=</span><span class="n">questions_corpus</span><span class="p">,</span> <span class="n">top_questions</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">top_professionals</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">weights</span><span class="o">=</span><span class="n">weights</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> 
       <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">new_questions</span><span class="p">[</span><span class="s1">&#39;questions_full_text&#39;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>count: 80
CPU times: user 31.7 s, sys: 157 ms, total: 31.9 s
Wall time: 31.9 s
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plt_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">()</span>
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">sim</span><span class="p">:</span>
    <span class="n">plt_data</span> <span class="o">=</span> <span class="n">plt_data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">index</span><span class="p">))</span>
<span class="n">plt_data</span> <span class="o">=</span> <span class="n">plt_data</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">plt_data</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Unique values:&#39;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">plt_data</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">plt_data</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
<span class="n">plt_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">plt_data</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">plt_data</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">plt_data</span><span class="o">.</span><span class="n">index</span><span class="p">))</span>
<span class="n">plt_data</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Amount of recommendations&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Frequency&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Recommended new questions for professionals&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Unique values: 428
36ff3b3666df400f956f8335cf53e09e    43
be5d23056fcb4f1287c823beec5291e1    21
a6d33c38902546849c36ea7e9e9f0870    16
6ee9c20eddbe41e890dbde50fbd63f44    13
e2b4c84bf1ca4aea9b108869692d8017    11
dtype: int64
</pre></div>
</div>
<img alt="../_images/T964554_Career_Village_Questions_Recommendation_126_1.png" src="../_images/T964554_Career_Village_Questions_Recommendation_126_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">professionals</span><span class="p">[</span><span class="n">professionals</span><span class="p">[</span><span class="s1">&#39;professionals_id&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;36ff3b3666df400f956f8335cf53e09e&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>2410</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>professionals_id</th>
      <td>36ff3b3666df400f956f8335cf53e09e</td>
    </tr>
    <tr>
      <th>professionals_location</th>
      <td>Cleveland, Ohio</td>
    </tr>
    <tr>
      <th>professionals_industry</th>
      <td>Mental Health Care</td>
    </tr>
    <tr>
      <th>professionals_headline</th>
      <td>Assist with Recognizing and Developing Potential</td>
    </tr>
    <tr>
      <th>professionals_date_joined</th>
      <td>2015-10-19 20:56:49</td>
    </tr>
    <tr>
      <th>professionals_time_delta_joined</th>
      <td>1200 days 03:03:11</td>
    </tr>
    <tr>
      <th>professionals_answers_count</th>
      <td>1710</td>
    </tr>
    <tr>
      <th>professionals_comments_count</th>
      <td>317</td>
    </tr>
    <tr>
      <th>date_last_answer</th>
      <td>2018-10-10 10:49:06</td>
    </tr>
    <tr>
      <th>date_first_answer</th>
      <td>2015-10-19 21:14:32</td>
    </tr>
    <tr>
      <th>date_last_comment</th>
      <td>2018-09-30 11:34:23</td>
    </tr>
    <tr>
      <th>date_first_comment</th>
      <td>2015-10-23 18:44:43</td>
    </tr>
    <tr>
      <th>date_last_activity</th>
      <td>2018-10-10 10:49:06</td>
    </tr>
    <tr>
      <th>date_first_activity</th>
      <td>2015-10-19 21:14:32</td>
    </tr>
    <tr>
      <th>professional_answers_hearts</th>
      <td>431</td>
    </tr>
    <tr>
      <th>professionals_tags</th>
      <td>[career-choice, engineering, entrepreneurship,...</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
<div class="section" id="id2">
<h4>Recommend Questions for a Professional<a class="headerlink" href="#id2" title="Permalink to this headline">¶</a></h4>
<p>Now we want to have a look at the recommendations by e-mail. For testing we take all experts who have received a weekly e-mail since 2019-01-01. This would be 542 experts for which recommendations should be made.
As questions to answer we limit this to all questions since 2018-06-01. This is to ensure that not old questions are used (No one looks anymore at a question which is already 2 years old.) and that the calculation is faster. It needs 90 seconds to calculate this for the 542 professionals.
As a result, 620 questions were identified. Most of the questions are also recommended to several experts. One question was even identified 56 times as a recommendation. This could be, for example, if a large majority of the professionals are specialized in this domain. To validate this, we would need to take a closer look at the professionals and their answers and hashtags.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="n">time</span>
<span class="n">weights</span><span class="o">=</span><span class="p">[</span><span class="mi">3</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">]</span>
<span class="n">professionals_email</span> <span class="o">=</span> <span class="n">emails</span><span class="p">[(</span><span class="n">emails</span><span class="p">[</span><span class="s1">&#39;emails_date_sent&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="s1">&#39;2019-01-01&#39;</span><span class="p">)</span> 
                              <span class="o">&amp;</span> <span class="p">(</span><span class="n">emails</span><span class="p">[</span><span class="s1">&#39;emails_frequency_level&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;email_notification_weekly&#39;</span><span class="p">)][</span><span class="s1">&#39;emails_recipient_id&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
<span class="n">questions_corpus</span> <span class="o">=</span> <span class="n">questions</span><span class="p">[</span><span class="n">questions</span><span class="p">[</span><span class="s1">&#39;questions_date_added&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="s1">&#39;2018-09-01&#39;</span><span class="p">]</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;count:&#39;</span><span class="p">,</span><span class="n">professionals_email</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">recommendations</span> <span class="o">=</span> <span class="p">[</span><span class="n">recommend_questions_for_professional</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">questions</span><span class="o">=</span><span class="n">questions_corpus</span><span class="p">,</span> <span class="n">weights</span><span class="o">=</span><span class="n">weights</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">professionals_email</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>count: 542
CPU times: user 52.6 s, sys: 277 ms, total: 52.8 s
Wall time: 52.6 s
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plt_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">()</span>
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">recommendations</span><span class="p">:</span>
    <span class="n">plt_data</span> <span class="o">=</span> <span class="n">plt_data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">index</span><span class="p">))</span>
<span class="n">plt_data</span> <span class="o">=</span> <span class="n">plt_data</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">plt_data</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Unique values:&#39;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">plt_data</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">plt_data</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
<span class="n">plt_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">plt_data</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">plt_data</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">plt_data</span><span class="o">.</span><span class="n">index</span><span class="p">))</span>
<span class="n">plt_data</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Amount of recommendations&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Frequency&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Recommended questions for professionals&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Unique values: 622
8a0b92f702e444509f5bc9a95695663f    56
11ce7c537cd84db0bd7840ad3ca04004    40
eb040a1a30af400ba27b25b32259e1da    37
c5001037466543bf94dc3426a9716e39    31
097474c807954152b406b4422415172a    31
dtype: int64
</pre></div>
</div>
<img alt="../_images/T964554_Career_Village_Questions_Recommendation_130_1.png" src="../_images/T964554_Career_Village_Questions_Recommendation_130_1.png" />
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">questions</span><span class="p">[</span><span class="n">questions</span><span class="p">[</span><span class="s1">&#39;questions_id&#39;</span><span class="p">]</span><span class="o">==</span><span class="s1">&#39;8a0b92f702e444509f5bc9a95695663f&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">T</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>3434</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>questions_id</th>
      <td>8a0b92f702e444509f5bc9a95695663f</td>
    </tr>
    <tr>
      <th>questions_author_id</th>
      <td>c5a47b4959144a6f8058e19cf5f4024b</td>
    </tr>
    <tr>
      <th>questions_date_added</th>
      <td>2018-09-30 16:24:57</td>
    </tr>
    <tr>
      <th>questions_title</th>
      <td>What can I do with a business administration d...</td>
    </tr>
    <tr>
      <th>questions_body</th>
      <td>#business #finance #management #accounting</td>
    </tr>
    <tr>
      <th>questions_full_text</th>
      <td>What can I do with a business administration d...</td>
    </tr>
    <tr>
      <th>questions_answers_count</th>
      <td>1</td>
    </tr>
    <tr>
      <th>questions_first_answers</th>
      <td>2018-10-06 01:35:46</td>
    </tr>
    <tr>
      <th>questions_last_answers</th>
      <td>2018-10-06 01:35:46</td>
    </tr>
    <tr>
      <th>questions_hearts</th>
      <td>1</td>
    </tr>
    <tr>
      <th>questions_tags</th>
      <td>[business, finance, accounting, management]</td>
    </tr>
    <tr>
      <th>nlp_tokens</th>
      <td>[business, administration, degree, economics, ...</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
<div class="section" id="id3">
<h4>Recommend new Tags for Users<a class="headerlink" href="#id3" title="Permalink to this headline">¶</a></h4>
<p>For the recommendation of the tags we use the same 542 professionals as before to test this. We will split the test to the ‘recommendation by industry’ and ‘recommendation by answered questions’. Both require 22 seconds each for all 542 specialists. This is pretty good, because if this function will be included in the website, then it must calculate the results fast.
The top recommendations do not differ very much. For both, ‘college’, ‘business’ and ‘technology’ are in the top 5 recommendations. What we can still see, is that the second method ‘by answered questions’ is more user-oriented. This method has 655 unique tags for the recommendations, while the method ‘by industry’ has only 391.
The third method based on ‘similar users’ was not used here because it takes to long. However, as you can see in the previous chapter, it will take about 1 to 2 seconds for the calculation per professional, if all three methods are combined.</p>
<p><strong>Recommend by Industry</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="n">time</span>
<span class="n">professionals_email</span> <span class="o">=</span> <span class="n">emails</span><span class="p">[(</span><span class="n">emails</span><span class="p">[</span><span class="s1">&#39;emails_date_sent&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="s1">&#39;2019-01-01&#39;</span><span class="p">)</span> 
                              <span class="o">&amp;</span> <span class="p">(</span><span class="n">emails</span><span class="p">[</span><span class="s1">&#39;emails_frequency_level&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;email_notification_weekly&#39;</span><span class="p">)][</span><span class="s1">&#39;emails_recipient_id&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;count:&#39;</span><span class="p">,</span><span class="n">professionals_email</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">recommendations</span> <span class="o">=</span> <span class="p">[</span><span class="n">recommend_tags_industry</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">professionals_email</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>count: 542
CPU times: user 19.3 s, sys: 43.1 ms, total: 19.4 s
Wall time: 19.4 s
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plt_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">()</span>
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">recommendations</span><span class="p">:</span>
    <span class="n">plt_data</span> <span class="o">=</span> <span class="n">plt_data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">index</span><span class="p">))</span>
<span class="n">plt_data</span> <span class="o">=</span> <span class="n">plt_data</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">plt_data</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Unique values:&#39;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">plt_data</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">plt_data</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
<span class="n">plt_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">plt_data</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">plt_data</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">plt_data</span><span class="o">.</span><span class="n">index</span><span class="p">))</span>
<span class="n">plt_data</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Amount of recommendations&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Frequency&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Recommended tags by professionals industry&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Unique values: 387
college               181
management            135
business              134
project-management    100
technology             90
dtype: int64
</pre></div>
</div>
<img alt="../_images/T964554_Career_Village_Questions_Recommendation_135_1.png" src="../_images/T964554_Career_Village_Questions_Recommendation_135_1.png" />
</div>
</div>
<p><strong>Recommendation by answered questions</strong></p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="n">time</span>
<span class="n">professionals_email</span> <span class="o">=</span> <span class="n">emails</span><span class="p">[(</span><span class="n">emails</span><span class="p">[</span><span class="s1">&#39;emails_date_sent&#39;</span><span class="p">]</span> <span class="o">&gt;</span> <span class="s1">&#39;2019-01-01&#39;</span><span class="p">)</span> 
                              <span class="o">&amp;</span> <span class="p">(</span><span class="n">emails</span><span class="p">[</span><span class="s1">&#39;emails_frequency_level&#39;</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;email_notification_weekly&#39;</span><span class="p">)][</span><span class="s1">&#39;emails_recipient_id&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">unique</span><span class="p">()</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;count:&#39;</span><span class="p">,</span><span class="n">professionals_email</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">recommendations</span> <span class="o">=</span> <span class="p">[</span><span class="n">recommend_tags_questions</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">professionals_email</span><span class="p">]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>count: 542
CPU times: user 17.3 s, sys: 44.8 ms, total: 17.3 s
Wall time: 17.3 s
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">plt_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">()</span>
<span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">recommendations</span><span class="p">:</span>
    <span class="n">plt_data</span> <span class="o">=</span> <span class="n">plt_data</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">index</span><span class="p">))</span>
<span class="n">plt_data</span> <span class="o">=</span> <span class="n">plt_data</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">plt_data</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">.</span><span class="n">sort_values</span><span class="p">(</span><span class="n">ascending</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span>
<span class="nb">print</span><span class="p">(</span><span class="s1">&#39;Unique values:&#39;</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="n">plt_data</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">plt_data</span><span class="o">.</span><span class="n">head</span><span class="p">())</span>
<span class="n">plt_data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">plt_data</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">plt_data</span><span class="p">)</span><span class="o">.</span><span class="n">size</span><span class="p">()</span><span class="o">/</span><span class="nb">len</span><span class="p">(</span><span class="n">plt_data</span><span class="o">.</span><span class="n">index</span><span class="p">))</span>
<span class="n">plt_data</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">kind</span><span class="o">=</span><span class="s1">&#39;bar&#39;</span><span class="p">,</span> <span class="n">legend</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">5</span><span class="p">))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Amount of recommendations&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Frequency&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Recommended tags by professionals answered questions&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Unique values: 633
college          81
career           46
business         44
college-major    29
medicine         20
dtype: int64
</pre></div>
</div>
<img alt="../_images/T964554_Career_Village_Questions_Recommendation_138_1.png" src="../_images/T964554_Career_Village_Questions_Recommendation_138_1.png" />
</div>
</div>
</div>
</div>
<div class="section" id="further-advice">
<h3>Further Advice<a class="headerlink" href="#further-advice" title="Permalink to this headline">¶</a></h3>
<div class="section" id="model-persistence">
<h4>Model persistence:<a class="headerlink" href="#model-persistence" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>NLP Tokens:</strong> The main component for the recommendation engine are the NLP tokens. It takes about 60 seconds to retrieve them for all questions. To avoid the need to recalculate this every time, it should be stored in the database. Only for new questions the NLP tokens have to be determined then, which makes the system faster.</p></li>
<li><p><strong>Topic Model:</strong> The Topic model is the only thing we need to train if we want to use it. As already explained, this takes some time to train the model and should therefore be persisted for faster access.</p></li>
</ul>
</div>
<div class="section" id="ideas-for-additional-scores">
<h4>Ideas for additional scores:<a class="headerlink" href="#ideas-for-additional-scores" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>previous communication:</strong> Was there already a contact between the professional and student?</p></li>
<li><p><strong>location:</strong> Prefer professionals who live in the same city or country.</p></li>
<li><p><strong>last login:</strong> We already consider the ‘last activity’. Additionally the ‘last login’ could be a nice feature.</p></li>
<li><p><strong>activity time:</strong> How long and often was the professional online in the past? e.g. 5 hours in the last seven days.</p></li>
<li><p><strong>spam:</strong> It should be avoided that a professional gets too many recommendations. This could overload him and demotivate him. for example it could be taken into account, how many recommendations a professional already got the last week.</p></li>
</ul>
</div>
<div class="section" id="quality-of-the-recommendation">
<h4>Quality of the recommendation:<a class="headerlink" href="#quality-of-the-recommendation" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>No repeat of recommendations:</strong> It should be avoided that a professional gets the same questions recommended every day. The function for calculating the recommendations expect the possible questions. These should be cleaned up to avoid spam (e.g. The question should no longer be displayed for the next seven days).</p></li>
<li><p><strong>Rating for a recommendation:</strong> A good recommendation is when the professional also answer the questions. But a bad recommendation is difficult to measure. It would be helpful if a professional had a option ‘don’t show this question again’ or something like ‘I can’t answer this question’. The collected information could then be used in the future to create even better recommendations for the professional.</p></li>
</ul>
</div>
<div class="section" id="website-improvement">
<h4>Website improvement:<a class="headerlink" href="#website-improvement" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li><p><strong>Search for questions:</strong> It is not immediately obvious that a student can enter an entire question in the upper search box of the website to search for similar questions. This could possibly be optimised to motivate students to search for already answered similar questions before asking the question again.</p></li>
<li><p><strong>Recommendation for tags:</strong> One of the functions we have presented, recommends new tags for a professional. This recommendation can be calculated quickly and could be added to the website. This will also improve the existing solution, which makes the recommendation based on the tags.</p></li>
</ul>
</div>
</div>
<div class="section" id="conclusion">
<h3>Conclusion<a class="headerlink" href="#conclusion" title="Permalink to this headline">¶</a></h3>
<p>In order to work with texts, it was important in the first step to clean the questions text and extract only the relevant information. We have used the Spacy library for this, which achieves good results with NLP on the question corpus. This could then be used to determine topics for the questions or to calculate the textual similarity between questions. The Topic model worked well on the data and delivered interesting results. This could be used, for example, to show a user what topics the question is about. But because of the time aspect more attention was paid to textual similarity.</p>
<p>We have build different solutions to make recommendations for forwarding new questions to the professionals, who are best to answer them and a recommendation system for the daily/weekly e-mails with recommended questions to answers for the professionals. These work with different scoring criteria, which can be weighted differently before a final scoring is calculated. This has the advantage that we don’t have a black box and can easily understand how the results were generated. Furthermore, it is very easy to add additional scoring criteria in the future and to optimize the results by weighting.</p>
<p>Last but not least we have build different solutions to recommend new tags for a professional. This is especially helpful for tag-based recommendations, such as in the existing system. By using more tags, the interest of the professional can be better understood. The recommendation based on the industry of the professional is most interesting here. This allows to recommend tags even if there is not much information about a professional (cold start problem).</p>
<p>For a website it is of course also important how long it takes to calculate a result. A differentiation must be made between whether it is a short-term request from the website (e.g. recommendation of a similar question) or whether it is a process that is only calculated once a day in the background (e.g. daily e-mail recommendations). For all solutions the runtimes were measured and showed good results.</p>
</div>
</div>
<div class="section" id="part-2">
<h2>Part 2<a class="headerlink" href="#part-2" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div><p>We’ll develop an implicit content-based filtering system for recommending questions to professionals. Given a question-professional pair, our model will predict how likely the professional is to answer the question. This model can then be used to determine what new (or still-unanswered) questions a professional is most likely to answer, and those questions can be sent to the professional either via email or via their landing page on the CareerVillage site.</p>
</div></blockquote>
<div class="section" id="id4">
<h3>Introduction<a class="headerlink" href="#id4" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="http://careervillage.org/">CareerVillage.org</a> is a nonprofit that crowdsources career advice for underserved youth. The platform uses a Q&amp;A style similar to <em>StackOverflow</em> or <em>Quora</em> to provide students with answers to any question about any career.</p>
<p>To date, 25K+ volunteers have created profiles and opted in to receive emails when a career question is a good fit for them. To help students get the advice they need, the team at <a class="reference external" href="http://careervillage.org/">CareerVillage.org</a> needs to be able to send the right questions to the right volunteers. The notifications sent to volunteers seem to have the greatest impact on how many questions are answered.</p>
<p><strong>Objective</strong>: develop a method to recommend relevant questions to the professionals who are most likely to answer them.</p>
<p>Here we’ll develop an implicit content-based filtering system for recommending questions to professionals. Given a question-professional pair, our model will predict how likely the professional is to answer the question. This model can then be used to determine what new (or still-unanswered) questions a professional is most likely to answer, and those questions can be sent to the professional either via email or via their landing page on the CareerVillage site.</p>
<p>The model will go beyond using only tag similarity information, and also extract information from the body of the question text, the question title, as well as information about the student which asked the question and the professional who may (hopfully) be able to answer it. We’ll be using BeautifulSoup and nltk for processing the text data, bert-as-service to create sentence and paragraph embeddings using a pre-trained BERT language model, and XGBoost to generate predictions as to how likely professionals are to answer student questions.</p>
</div>
<div class="section" id="id5">
<h3>Environment Setup<a class="headerlink" href="#id5" title="Permalink to this headline">¶</a></h3>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>import subprocess
import re
import os

# SciPy stack
import numpy as np
import pandas as pd
import matplotlib
import matplotlib.pyplot as plt

# Sklearn
from sklearn.pipeline import Pipeline
from sklearn.preprocessing import RobustScaler
from sklearn.impute import SimpleImputer
from sklearn.metrics import roc_auc_score
from sklearn.decomposition import PCA

# XGBoost
from xgboost import XGBClassifier

# NLP
import html as ihtml
from bs4 import BeautifulSoup
from nltk import tokenize
from scipy.sparse import coo_matrix

# Plot settings
%config InlineBackend.figure_format = &#39;svg&#39;
COLORS = plt.rcParams[&#39;axes.prop_cycle&#39;].by_key()[&#39;color&#39;]

# Target encoder and other utilities
!pip install git+http://github.com/brendanhasz/dsutils.git
from dsutils.encoding import TargetEncoderCV
from dsutils.evaluation import metric_cv
from dsutils.evaluation import permutation_importance_cv
from dsutils.evaluation import plot_permutation_importance

# BERT-as-service
!pip install bert-serving-server
!pip install bert-serving-client
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">warnings</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">filterwarnings</span><span class="p">(</span><span class="s1">&#39;ignore&#39;</span><span class="p">)</span>

<span class="n">seed</span> <span class="o">=</span> <span class="mi">13</span>
<span class="kn">import</span> <span class="nn">random</span>
<span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="n">seed</span><span class="p">)</span>
<span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">seed</span><span class="p">(</span><span class="n">seed</span><span class="p">)</span>

<span class="o">%</span><span class="n">reload_ext</span> <span class="n">google</span><span class="o">.</span><span class="n">colab</span><span class="o">.</span><span class="n">data_table</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>!pip install -q watermark
%reload_ext watermark
%watermark -m -iv
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Compiler    : GCC 7.5.0
OS          : Linux
Release     : 5.4.104+
Machine     : x86_64
Processor   : x86_64
CPU cores   : 2
Architecture: 64bit

matplotlib: 3.2.2
re        : 2.2.1
pandas    : 1.3.0
IPython   : 5.5.0
numpy     : 1.21.0
nltk      : 3.2.5
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id6">
<h3>Data Loading<a class="headerlink" href="#id6" title="Permalink to this headline">¶</a></h3>
<p>The dataset consists of a set of data tables - 15 tables in all, but we’re only going to use a few in this project. There’s a table which contains information about each student who has an account on CareerVillage, another table with information about each professional with an account on the site, another table with each question that’s been asked on the site, etc.</p>
<p>The diagram below shows each table we’ll use, and how values in columns in those tables relate to each other. For example, we can figure out what student asked a given question by looking up where the value in the questions_author_id column of the questions.csv table occurs in the students_id column of the students.csv table. Note that there’s a lot of other information (columns) in the tables - in the diagram I’ve left out columns which don’t contain relationships to other tables for clarity.</p>
<img src='https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F78684051-ecf7-4179-85b2-a6d9f1bbb078%2FUntitled.png?table=block&id=4588f914-6c8d-44b3-b762-826d9360f73e&spaceId=63b72b1f-0e90-4ab8-a6df-a060a6545a56&width=2000&userId=21ec183f-f0be-4b6b-9b3e-6f0d4e5c5469&cache=v2'><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>!pip install -q -U kaggle
!pip install --upgrade --force-reinstall --no-deps kaggle
!mkdir ~/.kaggle
!cp /content/drive/MyDrive/kaggle.json ~/.kaggle/
!chmod 600 ~/.kaggle/kaggle.json
!kaggle competitions download -c data-science-for-good-careervillage
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>!unzip /content/data-science-for-good-careervillage.zip
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Load tables</span>
<span class="n">files</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;questions&#39;</span><span class="p">,</span>
         <span class="s1">&#39;answers&#39;</span><span class="p">,</span>
         <span class="s1">&#39;students&#39;</span><span class="p">,</span>
         <span class="s1">&#39;professionals&#39;</span><span class="p">,</span>
         <span class="s1">&#39;tag_questions&#39;</span><span class="p">,</span>
         <span class="s1">&#39;tag_users&#39;</span><span class="p">,</span>
         <span class="s1">&#39;tags&#39;</span><span class="p">]</span>
<span class="n">dfs</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
<span class="k">for</span> <span class="n">file</span> <span class="ow">in</span> <span class="n">files</span><span class="p">:</span>
    <span class="n">dfs</span><span class="p">[</span><span class="n">file</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="n">file</span><span class="o">+</span><span class="s1">&#39;.csv&#39;</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">str</span><span class="p">)</span>

<span class="c1"># Convert date cols to datetime</span>
<span class="n">datetime_cols</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">&#39;answers&#39;</span><span class="p">:</span> <span class="s1">&#39;answers_date_added&#39;</span><span class="p">,</span>
    <span class="s1">&#39;professionals&#39;</span><span class="p">:</span> <span class="s1">&#39;professionals_date_joined&#39;</span><span class="p">,</span>
    <span class="s1">&#39;questions&#39;</span><span class="p">:</span> <span class="s1">&#39;questions_date_added&#39;</span><span class="p">,</span>
    <span class="s1">&#39;students&#39;</span><span class="p">:</span> <span class="s1">&#39;students_date_joined&#39;</span><span class="p">,</span>
<span class="p">}</span>
<span class="k">for</span> <span class="n">df</span><span class="p">,</span> <span class="n">col</span> <span class="ow">in</span> <span class="n">datetime_cols</span><span class="o">.</span><span class="n">items</span><span class="p">():</span>
    <span class="n">dfs</span><span class="p">[</span><span class="n">df</span><span class="p">][</span><span class="n">col</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">dfs</span><span class="p">[</span><span class="n">df</span><span class="p">][</span><span class="n">col</span><span class="p">]</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">slice</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">19</span><span class="p">),</span>
                                  <span class="nb">format</span><span class="o">=</span><span class="s1">&#39;%Y-%m-</span><span class="si">%d</span><span class="s1"> %H:%M:%S&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Let’s take a quick look at a few rows from each data table to get a feel for the data contained in each. The questions.csv table contains information about each question that is asked on the CareerVillage site, including the question text, the title of the question post, when it was posted, and what student posted it.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dfs</span><span class="p">[</span><span class="s1">&#39;questions&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>questions_id</th>
      <th>questions_author_id</th>
      <th>questions_date_added</th>
      <th>questions_title</th>
      <th>questions_body</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>332a511f1569444485cf7a7a556a5e54</td>
      <td>8f6f374ffd834d258ab69d376dd998f5</td>
      <td>2016-04-26 11:14:26</td>
      <td>Teacher   career   question</td>
      <td>What  is  a  maths  teacher?   what  is  a  ma...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>eb80205482e4424cad8f16bc25aa2d9c</td>
      <td>acccbda28edd4362ab03fb8b6fd2d67b</td>
      <td>2016-05-20 16:48:25</td>
      <td>I want to become an army officer. What can I d...</td>
      <td>I am Priyanka from Bangalore . Now am in 10th ...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>4ec31632938a40b98909416bdd0decff</td>
      <td>f2c179a563024ccc927399ce529094b5</td>
      <td>2017-02-08 19:13:38</td>
      <td>Will going abroad for your first job increase ...</td>
      <td>I'm planning on going abroad for my first job....</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2f6a9a99d9b24e5baa50d40d0ba50a75</td>
      <td>2c30ffba444e40eabb4583b55233a5a4</td>
      <td>2017-09-01 14:05:32</td>
      <td>To become a specialist in business  management...</td>
      <td>i hear business management is a hard way to ge...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5af8880460c141dbb02971a1a8369529</td>
      <td>aa9eb1a2ab184ebbb00dc01ab663428a</td>
      <td>2017-09-01 02:36:54</td>
      <td>Are there any scholarships out there for stude...</td>
      <td>I'm trying to find scholarships for first year...</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>The answers.csv table stores information about professionals’ answers to the questions which were posted, including the answer text, when the answer was posted, and what professional posted it.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dfs</span><span class="p">[</span><span class="s1">&#39;answers&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>answers_id</th>
      <th>answers_author_id</th>
      <th>answers_question_id</th>
      <th>answers_date_added</th>
      <th>answers_body</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>4e5f01128cae4f6d8fd697cec5dca60c</td>
      <td>36ff3b3666df400f956f8335cf53e09e</td>
      <td>332a511f1569444485cf7a7a556a5e54</td>
      <td>2016-04-29 19:40:14</td>
      <td>&lt;p&gt;Hi!&lt;/p&gt;\n&lt;p&gt;You are asking a very interesti...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>ada720538c014e9b8a6dceed09385ee3</td>
      <td>2aa47af241bf42a4b874c453f0381bd4</td>
      <td>eb80205482e4424cad8f16bc25aa2d9c</td>
      <td>2018-05-01 14:19:08</td>
      <td>&lt;p&gt;Hi. I joined the Army after I attended coll...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>eaa66ef919bc408ab5296237440e323f</td>
      <td>cbd8f30613a849bf918aed5c010340be</td>
      <td>eb80205482e4424cad8f16bc25aa2d9c</td>
      <td>2018-05-02 02:41:02</td>
      <td>&lt;p&gt;Dear Priyanka,&lt;/p&gt;&lt;p&gt;Greetings! I have answ...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1a6b3749d391486c9e371fbd1e605014</td>
      <td>7e72a630c303442ba92ff00e8ea451df</td>
      <td>4ec31632938a40b98909416bdd0decff</td>
      <td>2017-05-10 19:00:47</td>
      <td>&lt;p&gt;I work for a global company who values high...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5229c514000446d582050f89ebd4e184</td>
      <td>17802d94699140b0a0d2995f30c034c6</td>
      <td>2f6a9a99d9b24e5baa50d40d0ba50a75</td>
      <td>2017-10-13 22:07:33</td>
      <td>I agree with Denise. Every single job I've had...</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>The students.csv table stores an ID for each student (which we’ll use to identify each unique student in the other tables), the student’s location (most of which are empty), and the date the student joined the CareerVillage site.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dfs</span><span class="p">[</span><span class="s1">&#39;students&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>students_id</th>
      <th>students_location</th>
      <th>students_date_joined</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>12a89e96755a4dba83ff03e03043d9c0</td>
      <td>NaN</td>
      <td>2011-12-16 14:19:24</td>
    </tr>
    <tr>
      <th>1</th>
      <td>e37a5990fe354c60be5e87376b08d5e3</td>
      <td>NaN</td>
      <td>2011-12-27 03:02:44</td>
    </tr>
    <tr>
      <th>2</th>
      <td>12b402cceeda43dcb6e12ef9f2d221ea</td>
      <td>NaN</td>
      <td>2012-01-01 05:00:00</td>
    </tr>
    <tr>
      <th>3</th>
      <td>a0f431fc79794edcb104f68ce55ab897</td>
      <td>NaN</td>
      <td>2012-01-01 05:00:00</td>
    </tr>
    <tr>
      <th>4</th>
      <td>23aea4702d804bd88d1e9fb28074a1b4</td>
      <td>NaN</td>
      <td>2012-01-01 05:00:00</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Similarly, the professionals.csv table contains information about each professional who has a CareerVillage account, including their ID, location, industry, and the date they joined the site.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dfs</span><span class="p">[</span><span class="s1">&#39;professionals&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>professionals_id</th>
      <th>professionals_location</th>
      <th>professionals_industry</th>
      <th>professionals_headline</th>
      <th>professionals_date_joined</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>9ced4ce7519049c0944147afb75a8ce3</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2011-10-05 20:35:19</td>
    </tr>
    <tr>
      <th>1</th>
      <td>f718dcf6d2ec4cb0a52a9db59d7f9e67</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2011-10-05 20:49:21</td>
    </tr>
    <tr>
      <th>2</th>
      <td>0c673e046d824ec0ad0ebe012a0673e4</td>
      <td>New York, New York</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2011-10-18 17:31:26</td>
    </tr>
    <tr>
      <th>3</th>
      <td>977428d851b24183b223be0eb8619a8c</td>
      <td>Boston, Massachusetts</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2011-11-09 20:39:29</td>
    </tr>
    <tr>
      <th>4</th>
      <td>e2d57e5041a44f489288397c9904c2b2</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>2011-12-10 22:14:44</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>The remaining three tables store information about tags. When students post questions, they can tag their questions with keywords to help professionals find them. Sudents can also set tags for themselves (to indicate what fields they’re interested in, for example nursing, or what topics they are needing help with, for example college-admission). Professionals can subscribe to tags, and they’ll get notifications of questions which have the tags they suscribe to.</p>
<p>The tag_questions.csv table has a list of tag ID - question ID pairs. This will allow us to figure out what tags each question has: for each question, we can look up rows in tag_questions where the question ID matches that question.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dfs</span><span class="p">[</span><span class="s1">&#39;tag_questions&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>tag_questions_tag_id</th>
      <th>tag_questions_question_id</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>28930</td>
      <td>cb43ebee01364c68ac61d347a393ae39</td>
    </tr>
    <tr>
      <th>1</th>
      <td>28930</td>
      <td>47f55e85ce944242a5a347ab85a8ffb4</td>
    </tr>
    <tr>
      <th>2</th>
      <td>28930</td>
      <td>ccc30a033a0f4dfdb2eb987012f25792</td>
    </tr>
    <tr>
      <th>3</th>
      <td>28930</td>
      <td>e30b274e48d741f7bf50eb5e7171a3c0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>28930</td>
      <td>3d22742052df4989b311b4195cbb0f1a</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Similarly, tag_users.csv has a list of tag ID - user ID pairs, which we can use to figure out what tags each student has, or what tags each professional subscribes to.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dfs</span><span class="p">[</span><span class="s1">&#39;tag_users&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>tag_users_tag_id</th>
      <th>tag_users_user_id</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>593</td>
      <td>c72ab38e073246e88da7e9a4ec7a4472</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1642</td>
      <td>8db519781ec24f2e8bdc67c2ac53f614</td>
    </tr>
    <tr>
      <th>2</th>
      <td>638</td>
      <td>042d2184ee3e4e548fc3589baaa69caf</td>
    </tr>
    <tr>
      <th>3</th>
      <td>11093</td>
      <td>c660bd0dc1b34224be78a58aa5a84a63</td>
    </tr>
    <tr>
      <th>4</th>
      <td>21539</td>
      <td>8ce1dca4e94240239e4385ed22ef43ce</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Notice that the tag IDs in the previous two tables aren’t the text of the tag, they’re just an arbitrary integer. In order to figure out what actual tags (that is, the tag text) each question, student, or professional has, we’ll need to use the tags.csv table, which contains the tag text for each tag ID.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">dfs</span><span class="p">[</span><span class="s1">&#39;tags&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>tags_tag_id</th>
      <th>tags_tag_name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>27490</td>
      <td>college</td>
    </tr>
    <tr>
      <th>1</th>
      <td>461</td>
      <td>computer-science</td>
    </tr>
    <tr>
      <th>2</th>
      <td>593</td>
      <td>computer-software</td>
    </tr>
    <tr>
      <th>3</th>
      <td>27292</td>
      <td>business</td>
    </tr>
    <tr>
      <th>4</th>
      <td>18217</td>
      <td>doctor</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Now that we’ve loaded the data, we can start linking up the tables to construct the single large matrix we’ll need to perform prediction.</p>
<p>In order to use a machine learning algorithm to predict how likely professionals are to answer questions, we’ll need to transform this set of tables into a single large matrix. Each row will correspond to a potential question-professional pair, and each column will correspond to a feature about that pair. Features could include how similar the question text is to questions the professional has previously answered, how similar the question’s tags are to the professional’s tags, the date when the question was added, the date when the professional joined, etc. A final column of the matrix will be our target variable: whether this question-professional pair actually occurred. That is, whether the professional actually answered the question (in which case the value in the column will be 1), or not (0).</p>
<img src='https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F21f7e860-9f1f-49b1-b0d8-e443cdb707db%2FUntitled.png?table=block&id=921c0ae4-3b24-49c7-b745-d7651305b69a&spaceId=63b72b1f-0e90-4ab8-a6df-a060a6545a56&width=2000&userId=21ec183f-f0be-4b6b-9b3e-6f0d4e5c5469&cache=v2'><div class="section" id="merge-tags-to-questions-students-and-professionals">
<h4>Merge tags to questions, students, and professionals<a class="headerlink" href="#merge-tags-to-questions-students-and-professionals" title="Permalink to this headline">¶</a></h4>
<p>First we’ll join the tags information to the questions, students, and professionals tables, so that we have a list of tags for each question, student, and professional.</p>
<p>Unfortunately the tag text is a bit inconsistent: some tags have the hashtag character (#) before the tag text, and some don’t. We can remove hashtag characters to ensure that all the tag data contains just text:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">remove_hashtags</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">text</span><span class="p">)</span> <span class="ow">is</span> <span class="nb">float</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39;&#39;</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;#&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>
    
<span class="c1"># Remove hashtag characters</span>
<span class="n">dfs</span><span class="p">[</span><span class="s1">&#39;tags&#39;</span><span class="p">][</span><span class="s1">&#39;tags_tag_name&#39;</span><span class="p">]</span> <span class="o">=</span> \
    <span class="n">dfs</span><span class="p">[</span><span class="s1">&#39;tags&#39;</span><span class="p">][</span><span class="s1">&#39;tags_tag_name&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">remove_hashtags</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Now we can add a list of tags to each question in the questions table. We’ll make a function which creates a list of tags for each user/question, then merge the tag text to the questions table.</p>
<img src='https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2Fd0ab8ff2-108d-46a6-82f3-8b30fcfead52%2FUntitled.png?table=block&id=5f20b2d7-6d47-43a0-ae10-3dbf0803f0f0&spaceId=63b72b1f-0e90-4ab8-a6df-a060a6545a56&width=2000&userId=21ec183f-f0be-4b6b-9b3e-6f0d4e5c5469&cache=v2'><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">agg_tags</span><span class="p">(</span><span class="n">df_short</span><span class="p">,</span> <span class="n">df_long</span><span class="p">,</span> <span class="n">short_col</span><span class="p">,</span> <span class="n">long_col</span><span class="p">,</span> <span class="n">long_col_agg</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Aggregate elements in a shorter df by joining w/ spaces&quot;&quot;&quot;</span>
    <span class="n">grouped</span> <span class="o">=</span> <span class="n">df_long</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="n">long_col</span><span class="p">)</span>
    <span class="n">joined_tags</span> <span class="o">=</span> <span class="n">grouped</span><span class="o">.</span><span class="n">agg</span><span class="p">({</span><span class="n">long_col_agg</span><span class="p">:</span> <span class="k">lambda</span> <span class="n">x</span><span class="p">:</span> <span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">x</span><span class="p">)})</span>
    <span class="n">out_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">index</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="n">df_short</span><span class="p">[</span><span class="n">short_col</span><span class="p">]))</span>
    <span class="n">out_df</span><span class="p">[</span><span class="s1">&#39;aggs&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">joined_tags</span>
    <span class="k">return</span> <span class="nb">list</span><span class="p">(</span><span class="n">out_df</span><span class="p">[</span><span class="s1">&#39;aggs&#39;</span><span class="p">])</span>

<span class="c1"># Merge tags to questions</span>
<span class="n">tag_questions</span> <span class="o">=</span> <span class="n">dfs</span><span class="p">[</span><span class="s1">&#39;tag_questions&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">dfs</span><span class="p">[</span><span class="s1">&#39;tags&#39;</span><span class="p">],</span>
                                           <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;tag_questions_tag_id&#39;</span><span class="p">,</span>
                                           <span class="n">right_on</span><span class="o">=</span><span class="s1">&#39;tags_tag_id&#39;</span><span class="p">)</span>
<span class="n">questions</span> <span class="o">=</span> <span class="n">dfs</span><span class="p">[</span><span class="s1">&#39;questions&#39;</span><span class="p">]</span>
<span class="n">questions</span><span class="p">[</span><span class="s1">&#39;questions_tags&#39;</span><span class="p">]</span> <span class="o">=</span> \
    <span class="n">agg_tags</span><span class="p">(</span><span class="n">questions</span><span class="p">,</span> <span class="n">tag_questions</span><span class="p">,</span>
             <span class="s1">&#39;questions_id&#39;</span><span class="p">,</span> <span class="s1">&#39;tag_questions_question_id&#39;</span><span class="p">,</span> <span class="s1">&#39;tags_tag_name&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Then we can add a list of tags to each professional and student. First we’ll join the tag text to the tag_users table, and then add a list of tags for each student and professional to their respective tables.</p>
<img src='https://www.notion.so/image/https%3A%2F%2Fs3-us-west-2.amazonaws.com%2Fsecure.notion-static.com%2F20f3c5f9-2623-4afd-bb6c-3938624e5656%2FUntitled.png?table=block&id=1fb01953-28c6-4d4c-88c3-a3d410bd62e4&spaceId=63b72b1f-0e90-4ab8-a6df-a060a6545a56&width=2000&userId=21ec183f-f0be-4b6b-9b3e-6f0d4e5c5469&cache=v2'><div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Merge tag text to tags_users</span>
<span class="n">tag_users</span> <span class="o">=</span> <span class="n">dfs</span><span class="p">[</span><span class="s1">&#39;tag_users&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">dfs</span><span class="p">[</span><span class="s1">&#39;tags&#39;</span><span class="p">],</span> 
                                   <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;tag_users_tag_id&#39;</span><span class="p">,</span>
                                   <span class="n">right_on</span><span class="o">=</span><span class="s1">&#39;tags_tag_id&#39;</span><span class="p">)</span>

<span class="c1"># Merge tags to students</span>
<span class="n">students</span> <span class="o">=</span> <span class="n">dfs</span><span class="p">[</span><span class="s1">&#39;students&#39;</span><span class="p">]</span>
<span class="n">students</span><span class="p">[</span><span class="s1">&#39;students_tags&#39;</span><span class="p">]</span> <span class="o">=</span> \
    <span class="n">agg_tags</span><span class="p">(</span><span class="n">students</span><span class="p">,</span> <span class="n">tag_users</span><span class="p">,</span> 
             <span class="s1">&#39;students_id&#39;</span><span class="p">,</span> <span class="s1">&#39;tag_users_user_id&#39;</span><span class="p">,</span> <span class="s1">&#39;tags_tag_name&#39;</span><span class="p">)</span>

<span class="c1"># Merge tags to professionals</span>
<span class="n">professionals</span> <span class="o">=</span> <span class="n">dfs</span><span class="p">[</span><span class="s1">&#39;professionals&#39;</span><span class="p">]</span>
<span class="n">professionals</span><span class="p">[</span><span class="s1">&#39;professionals_tags&#39;</span><span class="p">]</span> <span class="o">=</span> \
    <span class="n">agg_tags</span><span class="p">(</span><span class="n">professionals</span><span class="p">,</span> <span class="n">tag_users</span><span class="p">,</span> 
             <span class="s1">&#39;professionals_id&#39;</span><span class="p">,</span> <span class="s1">&#39;tag_users_user_id&#39;</span><span class="p">,</span> <span class="s1">&#39;tags_tag_name&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Now the questions, students, and professionals tables contain columns with space-separated lists of their tags.</p>
</div>
<div class="section" id="clean-the-sentences">
<h4>Clean the sentences<a class="headerlink" href="#clean-the-sentences" title="Permalink to this headline">¶</a></h4>
<p>Before embedding the question title and body text, we’ll first have to clean that data. Let’s remove weird whitespace characters, HTML tags, and other things using BeautifulSoup.</p>
<p>Some students also included hashtags directly in the question body text. We’ll just remove the hashtag characters from the text. A different option would be to pull out words after hashtags and add them to the tag list for the question, and then remove them from the question text. But for now we’ll just remove the hashtag character and keep the tag text in the question body text.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Pull out a list of question text and titles</span>
<span class="n">questions_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">questions</span><span class="p">[</span><span class="s1">&#39;questions_body&#39;</span><span class="p">])</span>
<span class="n">question_title_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">questions</span><span class="p">[</span><span class="s1">&#39;questions_title&#39;</span><span class="p">])</span>
<span class="k">def</span> <span class="nf">clean_text</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">text</span><span class="p">)</span> <span class="ow">is</span> <span class="nb">float</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39; &#39;</span>
    <span class="n">text</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">ihtml</span><span class="o">.</span><span class="n">unescape</span><span class="p">(</span><span class="n">text</span><span class="p">),</span> <span class="s2">&quot;html.parser&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
    <span class="n">text</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;http[s]?://\S+&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>
    <span class="n">text</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\s+&quot;</span><span class="p">,</span> <span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>
    <span class="n">text</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;#&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span> <span class="c1">#just remove hashtag character</span>
    <span class="k">return</span> <span class="n">text</span>
<span class="c1"># Clean the questions text and titles</span>
<span class="n">questions_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">clean_text</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">questions_list</span><span class="p">]</span>
<span class="n">question_title_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">clean_text</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">question_title_list</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</div>
</div>
<div class="section" id="bert-embeddings-of-the-questions">
<h3>BERT embeddings of the questions<a class="headerlink" href="#bert-embeddings-of-the-questions" title="Permalink to this headline">¶</a></h3>
<p>For our predictive algorithm to use information about the question text, we’ll have to convert the text information into numeric values.  To capture information about the content of the question text, we’ll use a pre-trained BERT model to generate embeddings of the text of each question.  BERT (<a class="reference external" href="https://arxiv.org/abs/1810.04805">Bidirectional Encoder Representations from Transformers</a>) is a deep neural network model which uses layers of attention networks (<a class="reference external" href="https://arxiv.org/abs/1706.03762">Transformers</a>) to model the next word in a sentence or paragraph given the preceeding words.  We’ll take a pre-trained BERT model, pass it the text of the questions, and then use the activations of a layer near the end of the network as our features.  These features (the “encodings” or “embeddings”, which I’ll use interchangeably) should capture information about the content of the question, while encoding the question text into a vector of a fixed length, which our prediction algorithm requires!</p>
<p><a class="reference external" href="http://hanxiao.github.io/">Han Xiao</a> has a great package called <a class="reference external" href="http://github.com/hanxiao/bert-as-service">bert-as-service</a> which can generate embeddings using a pre-trained BERT model (fun fact: they’re also one of the people behind <a class="reference external" href="http://github.com/zalandoresearch/fashion-mnist">fashion MNIST</a>).  Basically the package runs a BERT model on a server, and one can send that server requests (consisting of sentences) to generate embeddings of those sentences.</p>
<p>Note that another valid method for generating numeric representations of text would be to use latent Dirichlet allocation (LDA) topic modelling.  We could treat each question as a bag of words, use LDA to model the topics, and then use the estimated topic probability distribution for each question as our “embedding” for that question.  Honestly using LDA might even be a better way to capture information about the question content, because we’re mostly interested in the <em>topic</em> of the question (which LDA exclusively models), rather than the semantic content (which BERT also models).</p>
<div class="section" id="id7">
<h4>Clean the sentences<a class="headerlink" href="#id7" title="Permalink to this headline">¶</a></h4>
<p>Before embedding the question title and body text, we’ll first have to clean that data.  Let’s remove weird whitespace characters, HTML tags, and other things using <a class="reference external" href="https://www.crummy.com/software/BeautifulSoup/">BeautifulSoup</a>.</p>
<p>Some students also included hashtags directly in the question body text.  We’ll just remove the hashtag characters from the text.  A different option would be to pull out words after hashtags and add them to the tag list for the question, and then remove them from the question text.   But for now we’ll just remove the hashtag character and keep the tag text in the question body text.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Pull out a list of question text and titles</span>
<span class="n">questions_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">questions</span><span class="p">[</span><span class="s1">&#39;questions_body&#39;</span><span class="p">])</span>
<span class="n">question_title_list</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">questions</span><span class="p">[</span><span class="s1">&#39;questions_title&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">clean_text</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
    <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">text</span><span class="p">)</span> <span class="ow">is</span> <span class="nb">float</span><span class="p">:</span>
        <span class="k">return</span> <span class="s1">&#39; &#39;</span>
    <span class="n">text</span> <span class="o">=</span> <span class="n">BeautifulSoup</span><span class="p">(</span><span class="n">ihtml</span><span class="o">.</span><span class="n">unescape</span><span class="p">(</span><span class="n">text</span><span class="p">),</span> <span class="s2">&quot;html.parser&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">text</span>
    <span class="n">text</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;http[s]?://\S+&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>
    <span class="n">text</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;\s+&quot;</span><span class="p">,</span> <span class="s2">&quot; &quot;</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>
    <span class="n">text</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="sa">r</span><span class="s2">&quot;#&quot;</span><span class="p">,</span> <span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span> <span class="c1">#just remove hashtag character</span>
    <span class="k">return</span> <span class="n">text</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Clean the questions text and titles</span>
<span class="n">questions_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">clean_text</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">questions_list</span><span class="p">]</span>
<span class="n">question_title_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">clean_text</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">question_title_list</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>Because BERT can only encode a single sentence at a time, we also need to ensure each question is a list of strings, where each sentence is a string, and each list corresponds to a single question (so we’ll have a list of lists of strings).  So, let’s use <a class="reference external" href="https://www.nltk.org/">nltk</a>’s <a class="reference external" href="https://www.nltk.org/api/nltk.tokenize.html">sent_tokenize</a> to separate the questions into lists of sentences.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Convert questions to lists of sentences</span>
<span class="n">questions_list</span> <span class="o">=</span> <span class="p">[</span><span class="n">tokenize</span><span class="o">.</span><span class="n">sent_tokenize</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">questions_list</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="start-the-bert-server">
<h4>Start the BERT server<a class="headerlink" href="#start-the-bert-server" title="Permalink to this headline">¶</a></h4>
<p>To use bert-as-service to generate features, we’ll first have to download the model, start the server, and then start the client service which we’ll use to request the sentence encodings.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span># Download and unzip the model
!wget http://storage.googleapis.com/bert_models/2018_10_18/uncased_L-12_H-768_A-12.zip
!unzip uncased_L-12_H-768_A-12.zip
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>--2019-05-20 02:23:14--  http://storage.googleapis.com/bert_models/2018_10_18/uncased_L-12_H-768_A-12.zip
Resolving storage.googleapis.com (storage.googleapis.com)... 108.177.127.128, 2a00:1450:4013:c07::80
Connecting to storage.googleapis.com (storage.googleapis.com)|108.177.127.128|:80... connected.
HTTP request sent, awaiting response... 200 OK
Length: 407727028 (389M) [application/zip]
Saving to: ‘uncased_L-12_H-768_A-12.zip’

uncased_L-12_H-768_ 100%[===================&gt;] 388.84M  50.3MB/s    in 8.0s    

2019-05-20 02:23:22 (48.4 MB/s) - ‘uncased_L-12_H-768_A-12.zip’ saved [407727028/407727028]

Archive:  uncased_L-12_H-768_A-12.zip
   creating: uncased_L-12_H-768_A-12/
  inflating: uncased_L-12_H-768_A-12/bert_model.ckpt.meta  
  inflating: uncased_L-12_H-768_A-12/bert_model.ckpt.data-00000-of-00001  
  inflating: uncased_L-12_H-768_A-12/vocab.txt  
  inflating: uncased_L-12_H-768_A-12/bert_model.ckpt.index  
  inflating: uncased_L-12_H-768_A-12/bert_config.json  
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Start the BERT server</span>
<span class="n">bert_command</span> <span class="o">=</span> <span class="s1">&#39;bert-serving-start -model_dir /content/uncased_L-12_H-768_A-12&#39;</span>
<span class="n">process</span> <span class="o">=</span> <span class="n">subprocess</span><span class="o">.</span><span class="n">Popen</span><span class="p">(</span><span class="n">bert_command</span><span class="o">.</span><span class="n">split</span><span class="p">(),</span> <span class="n">stdout</span><span class="o">=</span><span class="n">subprocess</span><span class="o">.</span><span class="n">PIPE</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Start the BERT client</span>
<span class="kn">from</span> <span class="nn">bert_serving.client</span> <span class="kn">import</span> <span class="n">BertClient</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">bc</span> <span class="o">=</span> <span class="n">BertClient</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
<p>Now that we’ve started up the client and the server, we can use bert-as-service to embed some sentences!</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">encodings</span> <span class="o">=</span> <span class="n">bc</span><span class="o">.</span><span class="n">encode</span><span class="p">([</span><span class="s1">&#39;an example sentence&#39;</span><span class="p">,</span>
                       <span class="s1">&#39;a different example sentence&#39;</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<p>The output encoding is a vector with 768 elements for each sentence:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">encodings</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(2, 768)
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="embed-the-question-titles-with-bert">
<h4>Embed the question titles with BERT<a class="headerlink" href="#embed-the-question-titles-with-bert" title="Permalink to this headline">¶</a></h4>
<p>Each title we’ll treat as a single sentence, so we can use bert-as-service to encode the titles really easily:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="n">time</span>
<span class="n">question_title_embeddings</span> <span class="o">=</span> <span class="n">bc</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">question_title_list</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/opt/conda/lib/python3.6/site-packages/bert_serving/client/__init__.py:286: UserWarning: some of your sentences have more tokens than &quot;max_seq_len=25&quot; set on the server, as consequence you may get less-accurate or truncated embeddings.
here is what you can do:
- disable the length-check by create a new &quot;BertClient(check_length=False)&quot; when you do not want to display this warning
- or, start a new server with a larger &quot;max_seq_len&quot;
  &#39;- or, start a new server with a larger &quot;max_seq_len&quot;&#39; % self.length_limit)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>CPU times: user 28 ms, sys: 92 ms, total: 120 ms
Wall time: 18.8 s
</pre></div>
</div>
</div>
</div>
<p>Now we have 768-dimensional embeddings for each title of our ~24k questions.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">question_title_embeddings</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(23931, 768)
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="compute-average-embedding-of-each-sentence-in-questions">
<h4>Compute average embedding of each sentence in questions<a class="headerlink" href="#compute-average-embedding-of-each-sentence-in-questions" title="Permalink to this headline">¶</a></h4>
<p>Most of the time, the questions’ body text contain multiple sentences - but the BERT models we’re using were only trained on single sentences.  To generate an encoding of the entire paragraph for each question, we’ll use BERT to encode each sentence in that question, and then take the average of their encodings.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">bert_embed_paragraphs</span><span class="p">(</span><span class="n">paragraphs</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Embed paragraphs by taking the average embedding of each sentence</span>
<span class="sd">    </span>
<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    paragraphs : list of lists of str</span>
<span class="sd">        The paragraphs.  Each element should correspond to a paragraph</span>
<span class="sd">        and each paragraph should be a list of str, where each str is </span>
<span class="sd">        a sentence.</span>
<span class="sd">    </span>
<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    embeddings : numpy ndarray of size (len(paragraphs), 768)</span>
<span class="sd">        The paragraph embeddings</span>
<span class="sd">    &quot;&quot;&quot;</span>
    
    <span class="c1"># Covert to single list</span>
    <span class="c1"># (this is b/c bert-as-service is faster w/ one large request</span>
    <span class="c1"># than with many small requests)</span>
    <span class="n">sentences</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="n">ids</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">paragraphs</span><span class="p">)):</span>
        <span class="n">sentences</span> <span class="o">+=</span> <span class="n">paragraphs</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
        <span class="n">ids</span> <span class="o">+=</span> <span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="n">paragraphs</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
        
    <span class="c1"># Embed the sentences</span>
    <span class="n">embeddings</span> <span class="o">=</span> <span class="n">bc</span><span class="o">.</span><span class="n">encode</span><span class="p">(</span><span class="n">sentences</span><span class="p">)</span>
    
    <span class="c1"># Average by paragraph id</span>
    <span class="n">Np</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">paragraphs</span><span class="p">)</span> <span class="c1">#number of paragraphs</span>
    <span class="n">n_dims</span> <span class="o">=</span> <span class="n">embeddings</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span>
    <span class="n">embeddings_out</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">full</span><span class="p">([</span><span class="n">Np</span><span class="p">,</span> <span class="n">n_dims</span><span class="p">],</span> <span class="n">np</span><span class="o">.</span><span class="n">nan</span><span class="p">)</span>
    <span class="n">ids</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">ids</span><span class="p">)</span>
    <span class="n">the_range</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">ids</span><span class="p">))</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">n_dims</span><span class="p">):</span>
        <span class="n">embeddings_out</span><span class="p">[:,</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">coo_matrix</span><span class="p">((</span><span class="n">embeddings</span><span class="p">[:,</span><span class="n">i</span><span class="p">],</span> <span class="p">(</span><span class="n">ids</span><span class="p">,</span> <span class="n">the_range</span><span class="p">)))</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">ravel</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">embeddings_out</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="n">time</span>

<span class="c1"># Embed the questions</span>
<span class="n">questions_embeddings</span> <span class="o">=</span> <span class="n">bert_embed_paragraphs</span><span class="p">(</span><span class="n">questions_list</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/opt/conda/lib/python3.6/site-packages/bert_serving/client/__init__.py:286: UserWarning: some of your sentences have more tokens than &quot;max_seq_len=25&quot; set on the server, as consequence you may get less-accurate or truncated embeddings.
here is what you can do:
- disable the length-check by create a new &quot;BertClient(check_length=False)&quot; when you do not want to display this warning
- or, start a new server with a larger &quot;max_seq_len&quot;
  &#39;- or, start a new server with a larger &quot;max_seq_len&quot;&#39; % self.length_limit)
</pre></div>
</div>
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>CPU times: user 2.57 s, sys: 348 ms, total: 2.92 s
Wall time: 55.8 s
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="reduce-dimensionality-of-the-embeddings-using-pca">
<h4>Reduce dimensionality of the embeddings using PCA<a class="headerlink" href="#reduce-dimensionality-of-the-embeddings-using-pca" title="Permalink to this headline">¶</a></h4>
<p>The embeddings have a pretty large dimensionality for the amount of data we have.  To reduce the number of dimensions while keeping the most useful information, we’ll perform dimensionality reduction using principal components analysis (PCA).  We’ll just take the top 10 dimensions which explain the most variance of the embeddings.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="n">time</span>

<span class="c1"># Reduce BERT embedding dimensionality w/ PCA</span>
<span class="n">pca</span> <span class="o">=</span> <span class="n">PCA</span><span class="p">(</span><span class="n">n_components</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span>
<span class="n">question_title_embeddings</span> <span class="o">=</span> <span class="n">pca</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">question_title_embeddings</span><span class="p">)</span>
<span class="n">questions_embeddings</span> <span class="o">=</span> <span class="n">pca</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">questions_embeddings</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>CPU times: user 3.49 s, sys: 968 ms, total: 4.46 s
Wall time: 2.52 s
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="add-embeddings-to-tables">
<h4>Add embeddings to tables<a class="headerlink" href="#add-embeddings-to-tables" title="Permalink to this headline">¶</a></h4>
<p>Now that we have matrixes corresponding to the title and question encodings, we need to replace the question body text in our original table with the encoding values we generated.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Drop the text data</span>
<span class="n">questions</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;questions_title&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="s1">&#39;columns&#39;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">questions</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;questions_body&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="s1">&#39;columns&#39;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">answers</span> <span class="o">=</span> <span class="n">dfs</span><span class="p">[</span><span class="s1">&#39;answers&#39;</span><span class="p">]</span>
<span class="n">answers</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s1">&#39;answers_body&#39;</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="s1">&#39;columns&#39;</span><span class="p">,</span> <span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">add_matrix_to_df</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">X</span><span class="p">,</span> <span class="n">col_name</span><span class="p">):</span>
    <span class="k">for</span> <span class="n">iC</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">X</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">1</span><span class="p">]):</span>
        <span class="n">df</span><span class="p">[</span><span class="n">col_name</span><span class="o">+</span><span class="nb">str</span><span class="p">(</span><span class="n">iC</span><span class="p">)]</span> <span class="o">=</span> <span class="n">X</span><span class="p">[:,</span><span class="n">iC</span><span class="p">]</span>
        
<span class="c1"># Add embeddings data</span>
<span class="n">add_matrix_to_df</span><span class="p">(</span><span class="n">questions</span><span class="p">,</span> <span class="n">questions_embeddings</span><span class="p">,</span> <span class="s1">&#39;questions_embeddings&#39;</span><span class="p">)</span>
<span class="n">add_matrix_to_df</span><span class="p">(</span><span class="n">questions</span><span class="p">,</span> <span class="n">question_title_embeddings</span><span class="p">,</span> <span class="s1">&#39;question_title_embeddings&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Instead of containing the raw text of the question, our <code class="docutils literal notranslate"><span class="pre">questions</span></code> table now contains the 10-dimensional embeddings of the questions and the question titles.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">questions</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>questions_id</th>
      <th>questions_author_id</th>
      <th>questions_date_added</th>
      <th>questions_tags</th>
      <th>questions_embeddings0</th>
      <th>questions_embeddings1</th>
      <th>questions_embeddings2</th>
      <th>questions_embeddings3</th>
      <th>questions_embeddings4</th>
      <th>questions_embeddings5</th>
      <th>questions_embeddings6</th>
      <th>questions_embeddings7</th>
      <th>questions_embeddings8</th>
      <th>questions_embeddings9</th>
      <th>question_title_embeddings0</th>
      <th>question_title_embeddings1</th>
      <th>question_title_embeddings2</th>
      <th>question_title_embeddings3</th>
      <th>question_title_embeddings4</th>
      <th>question_title_embeddings5</th>
      <th>question_title_embeddings6</th>
      <th>question_title_embeddings7</th>
      <th>question_title_embeddings8</th>
      <th>question_title_embeddings9</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>332a511f1569444485cf7a7a556a5e54</td>
      <td>8f6f374ffd834d258ab69d376dd998f5</td>
      <td>2016-04-26 11:14:26</td>
      <td>lecture college professor</td>
      <td>-0.000004</td>
      <td>0.000098</td>
      <td>0.000068</td>
      <td>-0.000009</td>
      <td>-0.000005</td>
      <td>0.000013</td>
      <td>0.000016</td>
      <td>3.585137e-05</td>
      <td>-0.000055</td>
      <td>-0.000016</td>
      <td>-1.496018</td>
      <td>2.906482</td>
      <td>0.742657</td>
      <td>2.613477</td>
      <td>0.594892</td>
      <td>-0.409248</td>
      <td>0.906179</td>
      <td>-0.660361</td>
      <td>0.287215</td>
      <td>3.032586</td>
    </tr>
    <tr>
      <th>1</th>
      <td>eb80205482e4424cad8f16bc25aa2d9c</td>
      <td>acccbda28edd4362ab03fb8b6fd2d67b</td>
      <td>2016-05-20 16:48:25</td>
      <td>military army</td>
      <td>0.000195</td>
      <td>-0.000026</td>
      <td>0.000013</td>
      <td>0.000076</td>
      <td>0.000080</td>
      <td>0.000105</td>
      <td>0.000056</td>
      <td>-2.081525e-05</td>
      <td>-0.000046</td>
      <td>0.000043</td>
      <td>1.851437</td>
      <td>-1.149743</td>
      <td>1.804537</td>
      <td>-2.325670</td>
      <td>2.219611</td>
      <td>0.333576</td>
      <td>-0.367904</td>
      <td>-0.087492</td>
      <td>-0.011894</td>
      <td>-0.200671</td>
    </tr>
    <tr>
      <th>2</th>
      <td>4ec31632938a40b98909416bdd0decff</td>
      <td>f2c179a563024ccc927399ce529094b5</td>
      <td>2017-02-08 19:13:38</td>
      <td>overseas working-abroad</td>
      <td>0.000483</td>
      <td>-0.000054</td>
      <td>-0.000027</td>
      <td>0.000050</td>
      <td>-0.000029</td>
      <td>-0.000065</td>
      <td>0.000025</td>
      <td>-5.631966e-05</td>
      <td>0.000028</td>
      <td>0.000028</td>
      <td>2.022816</td>
      <td>-0.107412</td>
      <td>-1.130666</td>
      <td>0.345844</td>
      <td>-1.134659</td>
      <td>-2.309236</td>
      <td>0.514931</td>
      <td>-0.743425</td>
      <td>1.074617</td>
      <td>-0.946497</td>
    </tr>
    <tr>
      <th>3</th>
      <td>2f6a9a99d9b24e5baa50d40d0ba50a75</td>
      <td>2c30ffba444e40eabb4583b55233a5a4</td>
      <td>2017-09-01 14:05:32</td>
      <td>networking business</td>
      <td>-0.000154</td>
      <td>0.000030</td>
      <td>-0.000010</td>
      <td>-0.000031</td>
      <td>-0.000010</td>
      <td>-0.000031</td>
      <td>-0.000013</td>
      <td>-3.469811e-07</td>
      <td>0.000027</td>
      <td>-0.000005</td>
      <td>1.385680</td>
      <td>-0.560528</td>
      <td>0.689630</td>
      <td>-0.082240</td>
      <td>1.406173</td>
      <td>0.333430</td>
      <td>1.572107</td>
      <td>-0.244382</td>
      <td>-0.983686</td>
      <td>0.118426</td>
    </tr>
    <tr>
      <th>4</th>
      <td>5af8880460c141dbb02971a1a8369529</td>
      <td>aa9eb1a2ab184ebbb00dc01ab663428a</td>
      <td>2017-09-01 02:36:54</td>
      <td>scholarships highschoolsenior college firstgen...</td>
      <td>-0.000103</td>
      <td>-0.000014</td>
      <td>0.000017</td>
      <td>0.000020</td>
      <td>-0.000044</td>
      <td>0.000044</td>
      <td>0.000009</td>
      <td>1.836574e-05</td>
      <td>0.000007</td>
      <td>-0.000010</td>
      <td>0.344961</td>
      <td>2.765032</td>
      <td>-0.296200</td>
      <td>0.555621</td>
      <td>-0.609315</td>
      <td>-1.631425</td>
      <td>-1.082986</td>
      <td>-0.601191</td>
      <td>0.616390</td>
      <td>-1.673865</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</div>
</div>
<div class="section" id="compute-average-embedding-of-questions-each-professional-has-answered">
<h3>Compute average embedding of questions each professional has answered<a class="headerlink" href="#compute-average-embedding-of-questions-each-professional-has-answered" title="Permalink to this headline">¶</a></h3>
<p>An important predictor of whether a professional will answer a question is likely how similar that question is to ones they have answered in the past.  To create a feature which measures how similar a question is to ones a given professional has answered, we’ll compute the average embedding of questions each professional has answered.  Then later, we’ll add a feature which measures the distance between a question’s embedding and professional’s average embedding.</p>
<p>However, to connect the questions to the professionals, we’ll first have to merge the questions to the answers table, and then merge the result to the professionals table.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Merge questions and answers</span>
<span class="n">answer_questions</span> <span class="o">=</span> <span class="n">answers</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">questions</span><span class="p">,</span> 
                                 <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;answers_question_id&#39;</span><span class="p">,</span>
                                 <span class="n">right_on</span><span class="o">=</span><span class="s1">&#39;questions_id&#39;</span><span class="p">)</span>

<span class="c1"># Merge answers and professionals</span>
<span class="n">professionals_questions</span> <span class="o">=</span> <span class="n">answer_questions</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">professionals</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span>
                                                 <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;answers_author_id&#39;</span><span class="p">,</span>
                                                 <span class="n">right_on</span><span class="o">=</span><span class="s1">&#39;professionals_id&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Then we can compute the average question embedding for all questions each professional has answered.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Compute mean question embedding of all Qs each professional has answered</span>
<span class="n">aggs</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">((</span><span class="n">c</span><span class="p">,</span> <span class="s1">&#39;mean&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">professionals_questions</span> <span class="k">if</span> <span class="s1">&#39;questions_embeddings&#39;</span> <span class="ow">in</span> <span class="n">c</span><span class="p">)</span>
<span class="n">mean_prof_q_embeddings</span> <span class="o">=</span> <span class="p">(</span><span class="n">professionals_questions</span>
                          <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;professionals_id&#39;</span><span class="p">)</span>
                          <span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="n">aggs</span><span class="p">))</span>
<span class="n">mean_prof_q_embeddings</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;mean_&#39;</span><span class="o">+</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">mean_prof_q_embeddings</span><span class="o">.</span><span class="n">columns</span><span class="p">]</span>
<span class="n">mean_prof_q_embeddings</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Add mean Qs embeddings to professionals table</span>
<span class="n">professionals</span> <span class="o">=</span> <span class="n">professionals</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">mean_prof_q_embeddings</span><span class="p">,</span>
                                    <span class="n">how</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;professionals_id&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>And we’ll do the same thing for the question titles:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Compute mean question title embedding of all Qs each professional has answered</span>
<span class="n">aggs</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">((</span><span class="n">c</span><span class="p">,</span> <span class="s1">&#39;mean&#39;</span><span class="p">)</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">professionals_questions</span> <span class="k">if</span> <span class="s1">&#39;question_title_embeddings&#39;</span> <span class="ow">in</span> <span class="n">c</span><span class="p">)</span>
<span class="n">mean_q_title_embeddings</span> <span class="o">=</span> <span class="p">(</span><span class="n">professionals_questions</span>
                          <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;professionals_id&#39;</span><span class="p">)</span>
                          <span class="o">.</span><span class="n">agg</span><span class="p">(</span><span class="n">aggs</span><span class="p">))</span>
<span class="n">mean_q_title_embeddings</span><span class="o">.</span><span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;mean_&#39;</span><span class="o">+</span><span class="n">x</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">mean_q_title_embeddings</span><span class="o">.</span><span class="n">columns</span><span class="p">]</span>
<span class="n">mean_q_title_embeddings</span><span class="o">.</span><span class="n">reset_index</span><span class="p">(</span><span class="n">inplace</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>

<span class="c1"># Add mean Qs embeddings to professionals table</span>
<span class="n">professionals</span> <span class="o">=</span> <span class="n">professionals</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">mean_q_title_embeddings</span><span class="p">,</span>
                                    <span class="n">how</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span> <span class="n">on</span><span class="o">=</span><span class="s1">&#39;professionals_id&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="sample-questions-which-each-professional-has-not-answered">
<h3>Sample questions which each professional has not answered<a class="headerlink" href="#sample-questions-which-each-professional-has-not-answered" title="Permalink to this headline">¶</a></h3>
<p>To train a model which predicts whether a professional will answer a given question or not, we’ll need to construct a dataset containing examples of question-professional pairs which exist (that is, questions the professional has answered) and question-professional pairs which do <em>not</em> exist (questions the professional has <em>not</em> actually answered).  We obviously already have pairs which do exist (in the <code class="docutils literal notranslate"><span class="pre">answers</span></code> table), but we need to sample pairs which do not exist in order to have negative samples on which to train our model.  You can’t train a model to predict A from B if you don’t have any examples of B!  Coming up with these negative examples is called <a class="reference external" href="https://arxiv.org/abs/1310.4546">negative sampling</a>, and is often used in natural language processing (also see this great <a class="reference external" href="https://www.coursera.org/lecture/nlp-sequence-models/negative-sampling-Iwx0e">video about it</a>).  Here we’ll just create negative samples once, instead of once per training epoch.</p>
<p>Let’s define a function which adds negative samples to a list of positive sample pairs:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">add_negative_samples</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">,</span> <span class="n">k</span><span class="o">=</span><span class="mi">5</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Add pairs which do not exist to positive pairs.</span>
<span class="sd">    </span>
<span class="sd">    If `A` and `B` are two corresponding lists , this function</span>
<span class="sd">    returns a table with two copies of elements in `A`.</span>
<span class="sd">    For the first copy, corresponding elements in `B` are unchaged.</span>
<span class="sd">    However, for the second copy, elements in `B` are elements</span>
<span class="sd">    which exist in `B`, but the corresponding `A`-`B` pair</span>
<span class="sd">    does not exist in the original pairs.</span>
<span class="sd">    </span>
<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    A : list or ndarray or pandas Series</span>
<span class="sd">        Indexes</span>
<span class="sd">    B : list or ndarray or pandas Series</span>
<span class="sd">        Values</span>
<span class="sd">    k : int</span>
<span class="sd">        Number of negative samples per positive sample.</span>
<span class="sd">        Default=5</span>
<span class="sd">    </span>
<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    Ao : list</span>
<span class="sd">        Output indexes w/ both positive and negative samples.</span>
<span class="sd">    Bo : list</span>
<span class="sd">        Output indexes w/ both positive and negative samples.</span>
<span class="sd">    E : list</span>
<span class="sd">        Whether the corresponding `Ao`-`Bo` pair exists (1) or</span>
<span class="sd">        does not (0) in the original input data.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    
    <span class="c1"># Convert to lists</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">)):</span>
        <span class="n">A</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">B</span><span class="p">,</span> <span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">ndarray</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">)):</span>
        <span class="n">B</span> <span class="o">=</span> <span class="n">B</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span>
    
    <span class="c1"># Construct a dict of pairs for each unique value in A</span>
    <span class="n">df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
    <span class="n">df</span><span class="p">[</span><span class="s1">&#39;A&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">A</span>
    <span class="n">df</span><span class="p">[</span><span class="s1">&#39;B&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">B</span>
    <span class="n">to_sets</span> <span class="o">=</span> <span class="k">lambda</span> <span class="n">g</span><span class="p">:</span> <span class="nb">set</span><span class="p">(</span><span class="n">g</span><span class="o">.</span><span class="n">values</span><span class="o">.</span><span class="n">tolist</span><span class="p">())</span>
    <span class="n">pairs</span> <span class="o">=</span> <span class="n">df</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s1">&#39;A&#39;</span><span class="p">)[</span><span class="s1">&#39;B&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">apply</span><span class="p">(</span><span class="n">to_sets</span><span class="p">)</span><span class="o">.</span><span class="n">to_dict</span><span class="p">()</span>
    
    <span class="c1"># Randomize B</span>
    <span class="n">uB</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">B</span><span class="p">)</span> <span class="c1"># unique elements of B</span>
    <span class="n">nB</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">uB</span><span class="p">,</span> <span class="n">k</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="n">A</span><span class="p">))</span><span class="o">.</span><span class="n">tolist</span><span class="p">()</span> <span class="c1">#(hopefully) negative samples</span>
        
    <span class="c1"># Ensure pairs do not exist</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">k</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="n">A</span><span class="p">)):</span>
        <span class="k">while</span> <span class="n">nB</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="ow">in</span> <span class="n">pairs</span><span class="p">[</span><span class="n">A</span><span class="p">[</span><span class="n">i</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">A</span><span class="p">)]]:</span>
            <span class="n">nB</span><span class="p">[</span><span class="n">i</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="n">uB</span><span class="p">)</span>
            <span class="c1"># NOTE: this will run forever if there&#39;s an element </span>
            <span class="c1"># in A which has pairs w/ *all* unique values of B...</span>
            
    <span class="c1"># Construct output lists</span>
    <span class="n">Ao</span> <span class="o">=</span> <span class="n">A</span><span class="o">*</span><span class="p">(</span><span class="n">k</span><span class="o">+</span><span class="mi">1</span><span class="p">)</span>
    <span class="n">Bo</span> <span class="o">=</span> <span class="n">B</span><span class="o">+</span><span class="n">nB</span>
    <span class="n">E</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">]</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="n">A</span><span class="p">)</span> <span class="o">+</span> <span class="p">[</span><span class="mi">0</span><span class="p">]</span><span class="o">*</span><span class="p">(</span><span class="n">k</span><span class="o">*</span><span class="nb">len</span><span class="p">(</span><span class="n">A</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">Ao</span><span class="p">,</span> <span class="n">Bo</span><span class="p">,</span> <span class="n">E</span>
</pre></div>
</div>
</div>
</div>
<p>Now we can create a table which contains professional-question pairs which exist, and the same number of pairs for each professional which do <em>not</em> exist:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Find negative samples</span>
<span class="n">author_id_samples</span><span class="p">,</span> <span class="n">question_id_samples</span><span class="p">,</span> <span class="n">samples_exist</span> <span class="o">=</span> \
    <span class="n">add_negative_samples</span><span class="p">(</span><span class="n">answers</span><span class="p">[</span><span class="s1">&#39;answers_author_id&#39;</span><span class="p">],</span> 
                         <span class="n">answers</span><span class="p">[</span><span class="s1">&#39;answers_question_id&#39;</span><span class="p">])</span>

<span class="c1"># Create table containing both positive and negative samples</span>
<span class="n">train_df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">()</span>
<span class="n">train_df</span><span class="p">[</span><span class="s1">&#39;target&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">samples_exist</span>
<span class="n">train_df</span><span class="p">[</span><span class="s1">&#39;professionals_id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">author_id_samples</span>
<span class="n">train_df</span><span class="p">[</span><span class="s1">&#39;questions_id&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">question_id_samples</span>
</pre></div>
</div>
</div>
</div>
<p>Finally, for each answer-question pair, we can add information about the professional who authored it (or did not author it), the question which it answered, and the student who asked that question.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Merge with professionals table</span>
<span class="n">train_df</span> <span class="o">=</span> <span class="n">train_df</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">professionals</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span>
                          <span class="n">on</span><span class="o">=</span><span class="s1">&#39;professionals_id&#39;</span><span class="p">)</span>

<span class="c1"># Merge with questions table</span>
<span class="n">train_df</span> <span class="o">=</span> <span class="n">train_df</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">questions</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span>
                          <span class="n">on</span><span class="o">=</span><span class="s1">&#39;questions_id&#39;</span><span class="p">)</span>

<span class="c1"># Merge with students table</span>
<span class="n">train_df</span> <span class="o">=</span> <span class="n">train_df</span><span class="o">.</span><span class="n">merge</span><span class="p">(</span><span class="n">students</span><span class="p">,</span> <span class="n">how</span><span class="o">=</span><span class="s1">&#39;left&#39;</span><span class="p">,</span>
                          <span class="n">left_on</span><span class="o">=</span><span class="s1">&#39;questions_author_id&#39;</span><span class="p">,</span>
                          <span class="n">right_on</span><span class="o">=</span><span class="s1">&#39;students_id&#39;</span><span class="p">)</span>

<span class="c1"># Delete extra columns that won&#39;t be used for prediction</span>
<span class="k">del</span> <span class="n">train_df</span><span class="p">[</span><span class="s1">&#39;professionals_id&#39;</span><span class="p">]</span>
<span class="k">del</span> <span class="n">train_df</span><span class="p">[</span><span class="s1">&#39;questions_id&#39;</span><span class="p">]</span>
<span class="k">del</span> <span class="n">train_df</span><span class="p">[</span><span class="s1">&#39;professionals_headline&#39;</span><span class="p">]</span> <span class="c1">#though this could definitely be used...</span>
<span class="k">del</span> <span class="n">train_df</span><span class="p">[</span><span class="s1">&#39;questions_author_id&#39;</span><span class="p">]</span>
<span class="k">del</span> <span class="n">train_df</span><span class="p">[</span><span class="s1">&#39;students_id&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="cosine-similarity-between-question-embeddings-and-average-embedding-for-questions-professionals-have-answered">
<h3>Cosine similarity between question embeddings and average embedding for questions professionals have answered<a class="headerlink" href="#cosine-similarity-between-question-embeddings-and-average-embedding-for-questions-professionals-have-answered" title="Permalink to this headline">¶</a></h3>
<p>Professionals are probably more likely to answer questions which are similar to ones they’ve answered before.  To capture how similar the text of a question is to questions a professional has previously answered, we can measure how close the question’s BERT embedding is the the average of the embeddings of questions the professional has answered.</p>
<p>To measure this “closeness”, we’ll use <a class="reference external" href="https://en.wikipedia.org/wiki/Cosine_similarity">cosine similarity</a>.  Cosine similarity measures the cosine of the angle between two points.  When the angle is near 0, the cosine similarity is near 1, and when the angle between the two points is as large as it can be (near 180), the cosine similarity is -1.  Given two embedding vectors <span class="math notranslate nohighlight">\(\mathbf{a}\)</span> and <span class="math notranslate nohighlight">\(\mathbf{b}\)</span>, the cosine distance is:</p>
<div class="math notranslate nohighlight">
\[
\frac{\mathbf{a}^\top \mathbf{b}}{||\mathbf{a}|| ~ ||\mathbf{b}||}
\]</div>
<p>There are a few other ways we could have measured the similarity between the embeddings of previously answered questions and the embedding of a new question.  Instead of just taking the mean embedding we could also account for the <em>spread</em> of the embeddings by computing the <a class="reference external" href="https://en.wikipedia.org/wiki/Mahalanobis_distance">Mahalanobis distance</a>, which would account for the possibility that some professionals have broader expertise than others.  We could also use a model to predict whether the new question is in the set of questions the professional has answered (for example, K-nearest neighbors).  However, just computing the cosine distance from the mean embedding of previously answered questions will probably give nearly as good results, and will be hundreds of times faster to compute, so we’ll do that here.</p>
<p>Let’s create a function to compute the cosine similarity between pairs of columns in a dataframe:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">cosine_similarity_df</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">B</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Compute the cosine similarities between each row of two matrixes</span>
<span class="sd">    </span>
<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    A : numpy matrix or pandas DataFrame</span>
<span class="sd">        First matrix.</span>
<span class="sd">    B : numpy matrix or pandas DataFrame</span>
<span class="sd">        Second matrix.  Must be same size as A.</span>
<span class="sd">    </span>
<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    cos_sim : numpy ndarray of shape (A.shape[0],)</span>
<span class="sd">    &quot;&quot;&quot;</span>
    
    <span class="c1"># Convert to numpy arrays</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">A</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">):</span>
        <span class="n">A</span> <span class="o">=</span> <span class="n">A</span><span class="o">.</span><span class="n">values</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">B</span><span class="p">,</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">):</span>
        <span class="n">B</span> <span class="o">=</span> <span class="n">B</span><span class="o">.</span><span class="n">values</span>
            
    <span class="c1"># Ensure both matrixes are same size</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">A</span><span class="o">.</span><span class="n">shape</span> <span class="o">==</span> <span class="n">B</span><span class="o">.</span><span class="n">shape</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s1">&#39;A and B must be same size&#39;</span><span class="p">)</span>
        
    <span class="c1"># Compute dot products</span>
    <span class="n">dot_prods</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">A</span><span class="o">*</span><span class="n">B</span><span class="p">,</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span>
    
    <span class="c1"># Compute magnitudes</span>
    <span class="n">mA</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">square</span><span class="p">(</span><span class="n">A</span><span class="p">),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
    <span class="n">mB</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">sqrt</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">sum</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">square</span><span class="p">(</span><span class="n">B</span><span class="p">),</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">))</span>
    
    <span class="c1"># Return cosine similarity between rows</span>
    <span class="k">return</span> <span class="n">dot_prods</span> <span class="o">/</span> <span class="p">(</span><span class="n">mA</span><span class="o">*</span><span class="n">mB</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>Then we can use that function to compute the cosine similarities between each question embedding and the mean embedding of questions the professional has answered, and add it to our training dataframe (the one with both positive and negative samples, which we created in the previous section).  We’ll also do the same for the embeddings of the question titles.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Compute similarity between professional&#39;s mean Q embedding and Q embedding</span>
<span class="n">mean_question_embedding_cols</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">train_df</span><span class="o">.</span><span class="n">columns</span> 
                                <span class="k">if</span> <span class="s1">&#39;mean_questions_embeddings&#39;</span> <span class="ow">in</span> <span class="n">c</span><span class="p">]</span>
<span class="n">question_embedding_cols</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">train_df</span><span class="o">.</span><span class="n">columns</span> 
                           <span class="k">if</span> <span class="s1">&#39;questions_embeddings&#39;</span> <span class="ow">in</span> <span class="n">c</span> <span class="ow">and</span> <span class="s1">&#39;mean&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">c</span><span class="p">]</span>
<span class="n">train_df</span><span class="p">[</span><span class="s1">&#39;question_embedding_similarity&#39;</span><span class="p">]</span> <span class="o">=</span> \
    <span class="n">cosine_similarity_df</span><span class="p">(</span><span class="n">train_df</span><span class="p">[</span><span class="n">mean_question_embedding_cols</span><span class="p">],</span>
                         <span class="n">train_df</span><span class="p">[</span><span class="n">question_embedding_cols</span><span class="p">])</span>

<span class="c1"># Compute similarity between professional&#39;s mean Q embedding and Q title embedding</span>
<span class="n">mean_title_embedding_cols</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">train_df</span><span class="o">.</span><span class="n">columns</span> 
                             <span class="k">if</span> <span class="s1">&#39;mean_question_title_embeddings&#39;</span> <span class="ow">in</span> <span class="n">c</span><span class="p">]</span>
<span class="n">title_embedding_cols</span> <span class="o">=</span> <span class="p">[</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">train_df</span><span class="o">.</span><span class="n">columns</span> 
                        <span class="k">if</span> <span class="s1">&#39;question_title_embeddings&#39;</span> <span class="ow">in</span> <span class="n">c</span> <span class="ow">and</span> <span class="s1">&#39;mean&#39;</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">c</span><span class="p">]</span>
<span class="n">train_df</span><span class="p">[</span><span class="s1">&#39;title_embedding_similarity&#39;</span><span class="p">]</span> <span class="o">=</span> \
    <span class="n">cosine_similarity_df</span><span class="p">(</span><span class="n">train_df</span><span class="p">[</span><span class="n">mean_title_embedding_cols</span><span class="p">],</span>
                         <span class="n">train_df</span><span class="p">[</span><span class="n">title_embedding_cols</span><span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<p>Do these similarity scores actually capture information about whether a professional is more likely to answer a question or not?  Let’s plot a histogram of the similarity scores for questions which the professional has actually answered against those which they did not.  There’s a respectable difference between the two distributions:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plot histograms of question embedding sim for Q-prof pairs</span>
<span class="c1"># which were answered and Q-prof pairs which weren&#39;t</span>
<span class="n">bins</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>
<span class="n">answered</span> <span class="o">=</span> <span class="n">train_df</span><span class="p">[</span><span class="s1">&#39;target&#39;</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">train_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">answered</span><span class="p">,</span> <span class="s1">&#39;question_embedding_similarity&#39;</span><span class="p">],</span>
         <span class="n">bins</span><span class="o">=</span><span class="n">bins</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Answered&#39;</span><span class="p">,</span> <span class="n">density</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
         <span class="n">fc</span><span class="o">=</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">colors</span><span class="o">.</span><span class="n">to_rgb</span><span class="p">(</span><span class="n">COLORS</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">+</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">train_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="o">~</span><span class="n">answered</span><span class="p">,</span> <span class="s1">&#39;question_embedding_similarity&#39;</span><span class="p">],</span>
         <span class="n">bins</span><span class="o">=</span><span class="n">bins</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Not answered&#39;</span><span class="p">,</span> <span class="n">density</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
         <span class="n">fc</span><span class="o">=</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">colors</span><span class="o">.</span><span class="n">to_rgb</span><span class="p">(</span><span class="n">COLORS</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">+</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Cosine similarity&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Proportion&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Similarity between question embeddings</span><span class="se">\n</span><span class="s1">&#39;</span>
          <span class="s1">&#39;and professional</span><span class="se">\&#39;</span><span class="s1">s mean question embedding&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/T964554_Career_Village_Questions_Recommendation_228_0.svg" src="../_images/T964554_Career_Village_Questions_Recommendation_228_0.svg" /></div>
</div>
<p>There’s an even larger difference when we plot the same thing for the title embedding similarity scores!</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plot histograms of title embedding sim for Q-prof pairs</span>
<span class="c1"># which were answered and Q-prof pairs which weren&#39;t</span>
<span class="n">bins</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>
<span class="n">answered</span> <span class="o">=</span> <span class="n">train_df</span><span class="p">[</span><span class="s1">&#39;target&#39;</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">train_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">answered</span><span class="p">,</span> <span class="s1">&#39;title_embedding_similarity&#39;</span><span class="p">],</span>
         <span class="n">bins</span><span class="o">=</span><span class="n">bins</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Answered&#39;</span><span class="p">,</span> <span class="n">density</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
         <span class="n">fc</span><span class="o">=</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">colors</span><span class="o">.</span><span class="n">to_rgb</span><span class="p">(</span><span class="n">COLORS</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">+</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">train_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="o">~</span><span class="n">answered</span><span class="p">,</span> <span class="s1">&#39;title_embedding_similarity&#39;</span><span class="p">],</span>
         <span class="n">bins</span><span class="o">=</span><span class="n">bins</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Not answered&#39;</span><span class="p">,</span> <span class="n">density</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
         <span class="n">fc</span><span class="o">=</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">colors</span><span class="o">.</span><span class="n">to_rgb</span><span class="p">(</span><span class="n">COLORS</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">+</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Cosine similarity&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Proportion&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">title</span><span class="p">(</span><span class="s1">&#39;Similarity between title embeddings</span><span class="se">\n</span><span class="s1">&#39;</span>
          <span class="s1">&#39;and professional</span><span class="se">\&#39;</span><span class="s1">s mean title embedding&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/T964554_Career_Village_Questions_Recommendation_230_0.svg" src="../_images/T964554_Career_Village_Questions_Recommendation_230_0.svg" /></div>
</div>
<p>Note that computing the mean embedding with <em>all</em> the data is introducing data leakage if we evaluate the model using cross validation.  For example, many of the cosine similarities are exactly 1.  This occurs when a professional has answered exactly one question (and so the similarity between the mean embedding of answered questions and the embedding of that question are equal!).  To properly evaluate the performance of our model, we would want to use a nested cross-validated scheme, where the training set includes only questions posted before some time point, and the test set includes only questions posted after that timepoint.  However, we could put the model into production as-is, as long as we only use it to predict answer likelihoods for questions that were asked after the model was trained.</p>
</div>
<div class="section" id="extract-date-and-time-features">
<h3>Extract date and time features<a class="headerlink" href="#extract-date-and-time-features" title="Permalink to this headline">¶</a></h3>
<p>Date and time features could in theory be informative in predicting whether a professional will answer a given question.  For example, a professional may be far more likely to answer questions in a few months after they join the CareerVillage site, but may become less (or more!) enthusiastic over time and answer less (or more) questions.  Keep in mind that this may not be information we really want to consider when making recommendations.  It could be that we only want to be considering the content of the question and the expertise of the professional.  Let’s include date and time features for now, as they’re easily removable.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Extract date and time features</span>
<span class="n">train_df</span><span class="p">[</span><span class="s1">&#39;students_joined_year&#39;</span><span class="p">]</span>      <span class="o">=</span> <span class="n">train_df</span><span class="p">[</span><span class="s1">&#39;students_date_joined&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">year</span>
<span class="n">train_df</span><span class="p">[</span><span class="s1">&#39;students_joined_month&#39;</span><span class="p">]</span>     <span class="o">=</span> <span class="n">train_df</span><span class="p">[</span><span class="s1">&#39;students_date_joined&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">month</span>
<span class="n">train_df</span><span class="p">[</span><span class="s1">&#39;students_joined_dayofweek&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">train_df</span><span class="p">[</span><span class="s1">&#39;students_date_joined&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">dayofweek</span>
<span class="n">train_df</span><span class="p">[</span><span class="s1">&#39;students_joined_dayofyear&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">train_df</span><span class="p">[</span><span class="s1">&#39;students_date_joined&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">dayofyear</span>
<span class="n">train_df</span><span class="p">[</span><span class="s1">&#39;students_joined_hour&#39;</span><span class="p">]</span>      <span class="o">=</span> <span class="n">train_df</span><span class="p">[</span><span class="s1">&#39;students_date_joined&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">hour</span>

<span class="n">train_df</span><span class="p">[</span><span class="s1">&#39;questions_added_year&#39;</span><span class="p">]</span>      <span class="o">=</span> <span class="n">train_df</span><span class="p">[</span><span class="s1">&#39;questions_date_added&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">year</span>
<span class="n">train_df</span><span class="p">[</span><span class="s1">&#39;questions_added_month&#39;</span><span class="p">]</span>     <span class="o">=</span> <span class="n">train_df</span><span class="p">[</span><span class="s1">&#39;questions_date_added&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">month</span>
<span class="n">train_df</span><span class="p">[</span><span class="s1">&#39;questions_added_dayofweek&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">train_df</span><span class="p">[</span><span class="s1">&#39;questions_date_added&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">dayofweek</span>
<span class="n">train_df</span><span class="p">[</span><span class="s1">&#39;questions_added_dayofyear&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">train_df</span><span class="p">[</span><span class="s1">&#39;questions_date_added&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">dayofyear</span>
<span class="n">train_df</span><span class="p">[</span><span class="s1">&#39;questions_added_hour&#39;</span><span class="p">]</span>      <span class="o">=</span> <span class="n">train_df</span><span class="p">[</span><span class="s1">&#39;questions_date_added&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">hour</span>

<span class="n">train_df</span><span class="p">[</span><span class="s1">&#39;professionals_joined_year&#39;</span><span class="p">]</span>      <span class="o">=</span> <span class="n">train_df</span><span class="p">[</span><span class="s1">&#39;professionals_date_joined&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">year</span>
<span class="n">train_df</span><span class="p">[</span><span class="s1">&#39;professionals_joined_month&#39;</span><span class="p">]</span>     <span class="o">=</span> <span class="n">train_df</span><span class="p">[</span><span class="s1">&#39;professionals_date_joined&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">month</span>
<span class="n">train_df</span><span class="p">[</span><span class="s1">&#39;professionals_joined_dayofweek&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">train_df</span><span class="p">[</span><span class="s1">&#39;professionals_date_joined&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">dayofweek</span>
<span class="n">train_df</span><span class="p">[</span><span class="s1">&#39;professionals_joined_dayofyear&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">train_df</span><span class="p">[</span><span class="s1">&#39;professionals_date_joined&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">dayofyear</span>
<span class="n">train_df</span><span class="p">[</span><span class="s1">&#39;professionals_joined_hour&#39;</span><span class="p">]</span>      <span class="o">=</span> <span class="n">train_df</span><span class="p">[</span><span class="s1">&#39;professionals_date_joined&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">dt</span><span class="o">.</span><span class="n">hour</span>

<span class="c1"># Remove original datetime columns</span>
<span class="k">del</span> <span class="n">train_df</span><span class="p">[</span><span class="s1">&#39;students_date_joined&#39;</span><span class="p">]</span>
<span class="k">del</span> <span class="n">train_df</span><span class="p">[</span><span class="s1">&#39;questions_date_added&#39;</span><span class="p">]</span>
<span class="k">del</span> <span class="n">train_df</span><span class="p">[</span><span class="s1">&#39;professionals_date_joined&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="jaccard-similarity-between-question-and-professional-tags">
<h3>Jaccard similarity between question and professional tags<a class="headerlink" href="#jaccard-similarity-between-question-and-professional-tags" title="Permalink to this headline">¶</a></h3>
<p>The original CareerVillage question recommendation system was based solely on tags.  While we’ve added a lot to that here, tags are still carry a lot of information about how likely a professional is to answer a question.  If a question has exactly the same tags as a professional subscribes to, of course that professional is more likely to answer the question!  To let our recommendation model decide how heavily to depend on the tag similarity, we’ll add the similarity between a question’s tags and a professional’s tags as a feature.</p>
<p>Specifically, we’ll use <a class="reference external" href="https://en.wikipedia.org/wiki/Jaccard_index">Jaccard similarity</a>, which measures how similar two sets are.  The Jaccard similarity is the number of elements (in our case, tags) in common between the two sets (between the question’s and the professional’s set  of tags), divided by the number of unique elements all together.</p>
<div class="math notranslate nohighlight">
\[
J(A, B) = \frac{|A \cap B|}{| A \cup B |} = \frac{|A \cap B|}{|A| + |B| - |A \cap B|}
\]</div>
<p>where <span class="math notranslate nohighlight">\(|x|\)</span> is the number of elements in set <span class="math notranslate nohighlight">\(x\)</span>, <span class="math notranslate nohighlight">\(A \cup B\)</span> is the union of sets <span class="math notranslate nohighlight">\(A\)</span> and <span class="math notranslate nohighlight">\(B\)</span> (all unique items after pooling both sets), and <span class="math notranslate nohighlight">\(A \cap\ B\)</span> is the intersection of the two sets (only the items which are in <em>both</em> sets).  Python’s built-in <code class="docutils literal notranslate"><span class="pre">set</span></code> data structure makes it pretty easy to compute this metric:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">jaccard_similarity</span><span class="p">(</span><span class="n">set1</span><span class="p">,</span> <span class="n">set2</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Compute Jaccard similarity between two sets&quot;&quot;&quot;</span>
    <span class="n">set1</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">set1</span><span class="p">)</span>
    <span class="n">set2</span> <span class="o">=</span> <span class="nb">set</span><span class="p">(</span><span class="n">set2</span><span class="p">)</span>
    <span class="n">union_len</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">set1</span><span class="o">.</span><span class="n">intersection</span><span class="p">(</span><span class="n">set2</span><span class="p">))</span>
    <span class="k">return</span> <span class="n">union_len</span> <span class="o">/</span> <span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">set1</span><span class="p">)</span> <span class="o">+</span> <span class="nb">len</span><span class="p">(</span><span class="n">set2</span><span class="p">)</span> <span class="o">-</span> <span class="n">union_len</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>We’ll also want a function to compute the Jaccard similarity between pairs of sets in a dataframe:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">jaccard_similarity_df</span><span class="p">(</span><span class="n">df</span><span class="p">,</span> <span class="n">col1</span><span class="p">,</span> <span class="n">col2</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s1">&#39; &#39;</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Compute Jaccard similarity between lists of sets.</span>
<span class="sd">    </span>
<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    df : pandas DataFrame</span>
<span class="sd">        data</span>
<span class="sd">    col1 : str</span>
<span class="sd">        Column for set 1.  Each element should be a string, with space-separated elements</span>
<span class="sd">    col2 : str</span>
<span class="sd">        Column for set 2.</span>
<span class="sd">        </span>
<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    pandas Series</span>
<span class="sd">        Jaccard similarity for each row in df</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">list1</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">col1</span><span class="p">])</span>
    <span class="n">list2</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">df</span><span class="p">[</span><span class="n">col2</span><span class="p">])</span>
    <span class="n">scores</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">list1</span><span class="p">)):</span>
        <span class="k">if</span> <span class="nb">type</span><span class="p">(</span><span class="n">list1</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="ow">is</span> <span class="nb">float</span> <span class="ow">or</span> <span class="nb">type</span><span class="p">(</span><span class="n">list2</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="ow">is</span> <span class="nb">float</span><span class="p">:</span>
            <span class="n">scores</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="mf">0.0</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">scores</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">jaccard_similarity</span><span class="p">(</span>
                <span class="n">list1</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">sep</span><span class="p">),</span> <span class="n">list2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="n">sep</span><span class="p">)))</span>
    <span class="k">return</span> <span class="n">pd</span><span class="o">.</span><span class="n">Series</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="n">scores</span><span class="p">,</span> <span class="n">index</span><span class="o">=</span><span class="n">df</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<p>We can use that function to compute the Jaccard similarity between the tags for each professional and the question which they did (or didn’t) answer, and add that information to our training dataframe.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Compute jaccard similarity between professional and question tags</span>
<span class="n">train_df</span><span class="p">[</span><span class="s1">&#39;question_professional_tag_jac_sim&#39;</span><span class="p">]</span> <span class="o">=</span> \
    <span class="n">jaccard_similarity_df</span><span class="p">(</span><span class="n">train_df</span><span class="p">,</span> <span class="s1">&#39;questions_tags&#39;</span><span class="p">,</span> <span class="s1">&#39;professionals_tags&#39;</span><span class="p">)</span>

<span class="c1"># Compute jaccard similarity between professional and student tags</span>
<span class="n">train_df</span><span class="p">[</span><span class="s1">&#39;student_professional_tag_jac_sim&#39;</span><span class="p">]</span> <span class="o">=</span> \
    <span class="n">jaccard_similarity_df</span><span class="p">(</span><span class="n">train_df</span><span class="p">,</span> <span class="s1">&#39;students_tags&#39;</span><span class="p">,</span> <span class="s1">&#39;professionals_tags&#39;</span><span class="p">)</span>

<span class="c1"># Remove tag columns</span>
<span class="k">del</span> <span class="n">train_df</span><span class="p">[</span><span class="s1">&#39;questions_tags&#39;</span><span class="p">]</span>
<span class="k">del</span> <span class="n">train_df</span><span class="p">[</span><span class="s1">&#39;professionals_tags&#39;</span><span class="p">]</span>
<span class="k">del</span> <span class="n">train_df</span><span class="p">[</span><span class="s1">&#39;students_tags&#39;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>Are professionals actually more likely to answer questions which have similar tags to the ones they subscribe to?  We can plot histograms comparing the Jaccard similarity between tags for professional-question pairs which were answered and those which weren’t.  It looks like the tags are on average more similar for questions which a professional did actually answer, but this separation isn’t quite as clear as it was for the question embeddings:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plot histograms of jac sim for Q-prof pairs</span>
<span class="c1"># which were answered and Q-prof pairs which weren&#39;t</span>
<span class="n">bins</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>
<span class="n">answered</span> <span class="o">=</span> <span class="n">train_df</span><span class="p">[</span><span class="s1">&#39;target&#39;</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">train_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">answered</span><span class="p">,</span> <span class="s1">&#39;question_professional_tag_jac_sim&#39;</span><span class="p">],</span>
         <span class="n">bins</span><span class="o">=</span><span class="n">bins</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Answered&#39;</span><span class="p">,</span> <span class="n">density</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
         <span class="n">fc</span><span class="o">=</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">colors</span><span class="o">.</span><span class="n">to_rgb</span><span class="p">(</span><span class="n">COLORS</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">+</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">train_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="o">~</span><span class="n">answered</span><span class="p">,</span> <span class="s1">&#39;question_professional_tag_jac_sim&#39;</span><span class="p">],</span>
         <span class="n">bins</span><span class="o">=</span><span class="n">bins</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Not answered&#39;</span><span class="p">,</span> <span class="n">density</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
         <span class="n">fc</span><span class="o">=</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">colors</span><span class="o">.</span><span class="n">to_rgb</span><span class="p">(</span><span class="n">COLORS</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">+</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yscale</span><span class="p">(</span><span class="s1">&#39;log&#39;</span><span class="p">,</span> <span class="n">nonposy</span><span class="o">=</span><span class="s1">&#39;clip&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Jaccard similarity between</span><span class="se">\n</span><span class="s1">question and professional tags&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Log proportion&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/T964554_Career_Village_Questions_Recommendation_241_0.svg" src="../_images/T964554_Career_Village_Questions_Recommendation_241_0.svg" /></div>
</div>
<p>The students are also able to have tags (to indicate what fields they’re interested in).  This might also be useful information for our recommender, seeing as students might not include all the relevant tags in a question post, but may still have the tag on their profile.  Again we can plot histograms for the Jaccard similarity scores for question-professional pairs which were answered and those which weren’t.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Plot histograms of jac sim for Q-prof pairs</span>
<span class="c1"># which were answered and Q-prof pairs which weren&#39;t</span>
<span class="n">bins</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">linspace</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">30</span><span class="p">)</span>
<span class="n">answered</span> <span class="o">=</span> <span class="n">train_df</span><span class="p">[</span><span class="s1">&#39;target&#39;</span><span class="p">]</span><span class="o">==</span><span class="mi">1</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">train_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">answered</span><span class="p">,</span> <span class="s1">&#39;student_professional_tag_jac_sim&#39;</span><span class="p">],</span>
         <span class="n">bins</span><span class="o">=</span><span class="n">bins</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Answered&#39;</span><span class="p">,</span> <span class="n">density</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
         <span class="n">fc</span><span class="o">=</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">colors</span><span class="o">.</span><span class="n">to_rgb</span><span class="p">(</span><span class="n">COLORS</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span><span class="o">+</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">train_df</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="o">~</span><span class="n">answered</span><span class="p">,</span> <span class="s1">&#39;student_professional_tag_jac_sim&#39;</span><span class="p">],</span>
         <span class="n">bins</span><span class="o">=</span><span class="n">bins</span><span class="p">,</span> <span class="n">label</span><span class="o">=</span><span class="s1">&#39;Not answered&#39;</span><span class="p">,</span> <span class="n">density</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span>
         <span class="n">fc</span><span class="o">=</span><span class="n">matplotlib</span><span class="o">.</span><span class="n">colors</span><span class="o">.</span><span class="n">to_rgb</span><span class="p">(</span><span class="n">COLORS</span><span class="p">[</span><span class="mi">1</span><span class="p">])</span><span class="o">+</span><span class="p">(</span><span class="mf">0.5</span><span class="p">,))</span>
<span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">()</span>
<span class="n">plt</span><span class="o">.</span><span class="n">yscale</span><span class="p">(</span><span class="s1">&#39;log&#39;</span><span class="p">,</span> <span class="n">nonposy</span><span class="o">=</span><span class="s1">&#39;clip&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s1">&#39;Jaccard similarity between</span><span class="se">\n</span><span class="s1">student and professional tags&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s1">&#39;Log proportion&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../_images/T964554_Career_Village_Questions_Recommendation_243_0.svg" src="../_images/T964554_Career_Village_Questions_Recommendation_243_0.svg" /></div>
</div>
</div>
<div class="section" id="train-model-to-predict-probability-of-answering">
<h3>Train model to predict probability of answering<a class="headerlink" href="#train-model-to-predict-probability-of-answering" title="Permalink to this headline">¶</a></h3>
<p>Now we finally have one large matrix where each row corresponds to a question-professional pair, and each column corresponds to features about that pair!  The <code class="docutils literal notranslate"><span class="pre">target</span></code> column contains whether that question was actually answered by the professional for that row, and the rest of the column contain features about the professional, the question, the student who asked it, and the interactions between them.  All the data is either numeric or categorical, and so we’re ready to build a model which will use the features to predict the probability that a question will be answered by a professional.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">train_df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>target</th>
      <th>professionals_location</th>
      <th>professionals_industry</th>
      <th>mean_questions_embeddings0</th>
      <th>mean_questions_embeddings1</th>
      <th>mean_questions_embeddings2</th>
      <th>mean_questions_embeddings3</th>
      <th>mean_questions_embeddings4</th>
      <th>mean_questions_embeddings5</th>
      <th>mean_questions_embeddings6</th>
      <th>mean_questions_embeddings7</th>
      <th>mean_questions_embeddings8</th>
      <th>mean_questions_embeddings9</th>
      <th>mean_question_title_embeddings0</th>
      <th>mean_question_title_embeddings1</th>
      <th>mean_question_title_embeddings2</th>
      <th>mean_question_title_embeddings3</th>
      <th>mean_question_title_embeddings4</th>
      <th>mean_question_title_embeddings5</th>
      <th>mean_question_title_embeddings6</th>
      <th>mean_question_title_embeddings7</th>
      <th>mean_question_title_embeddings8</th>
      <th>mean_question_title_embeddings9</th>
      <th>questions_embeddings0</th>
      <th>questions_embeddings1</th>
      <th>questions_embeddings2</th>
      <th>questions_embeddings3</th>
      <th>questions_embeddings4</th>
      <th>questions_embeddings5</th>
      <th>questions_embeddings6</th>
      <th>questions_embeddings7</th>
      <th>questions_embeddings8</th>
      <th>questions_embeddings9</th>
      <th>question_title_embeddings0</th>
      <th>question_title_embeddings1</th>
      <th>question_title_embeddings2</th>
      <th>question_title_embeddings3</th>
      <th>question_title_embeddings4</th>
      <th>question_title_embeddings5</th>
      <th>question_title_embeddings6</th>
      <th>question_title_embeddings7</th>
      <th>question_title_embeddings8</th>
      <th>question_title_embeddings9</th>
      <th>students_location</th>
      <th>question_embedding_similarity</th>
      <th>title_embedding_similarity</th>
      <th>students_joined_year</th>
      <th>students_joined_month</th>
      <th>students_joined_dayofweek</th>
      <th>students_joined_dayofyear</th>
      <th>students_joined_hour</th>
      <th>questions_added_year</th>
      <th>questions_added_month</th>
      <th>questions_added_dayofweek</th>
      <th>questions_added_dayofyear</th>
      <th>questions_added_hour</th>
      <th>professionals_joined_year</th>
      <th>professionals_joined_month</th>
      <th>professionals_joined_dayofweek</th>
      <th>professionals_joined_dayofyear</th>
      <th>professionals_joined_hour</th>
      <th>question_professional_tag_jac_sim</th>
      <th>student_professional_tag_jac_sim</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>1</td>
      <td>Cleveland, Ohio</td>
      <td>Mental Health Care</td>
      <td>0.000049</td>
      <td>-0.000004</td>
      <td>0.000011</td>
      <td>-0.000003</td>
      <td>-1.106822e-05</td>
      <td>1.138655e-06</td>
      <td>-4.139757e-06</td>
      <td>-0.000002</td>
      <td>6.465761e-07</td>
      <td>1.462932e-06</td>
      <td>0.148946</td>
      <td>-0.141256</td>
      <td>-0.001260</td>
      <td>0.112179</td>
      <td>-0.236281</td>
      <td>-0.041852</td>
      <td>0.112263</td>
      <td>0.097947</td>
      <td>0.076181</td>
      <td>-0.017141</td>
      <td>-0.000004</td>
      <td>0.000098</td>
      <td>0.000068</td>
      <td>-0.000009</td>
      <td>-0.000005</td>
      <td>0.000013</td>
      <td>0.000016</td>
      <td>3.585137e-05</td>
      <td>-0.000055</td>
      <td>-0.000016</td>
      <td>-1.496018</td>
      <td>2.906482</td>
      <td>0.742657</td>
      <td>2.613477</td>
      <td>0.594892</td>
      <td>-0.409248</td>
      <td>0.906179</td>
      <td>-0.660361</td>
      <td>0.287215</td>
      <td>3.032586</td>
      <td>Coimbatore, Tamil Nadu, India</td>
      <td>0.007129</td>
      <td>-0.226145</td>
      <td>2016.0</td>
      <td>4.0</td>
      <td>4.0</td>
      <td>113.0</td>
      <td>10.0</td>
      <td>2016</td>
      <td>4</td>
      <td>1</td>
      <td>117</td>
      <td>11</td>
      <td>2015.0</td>
      <td>10.0</td>
      <td>0.0</td>
      <td>292.0</td>
      <td>20.0</td>
      <td>0.071429</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>1</th>
      <td>1</td>
      <td>Atlanta, Georgia</td>
      <td>Telecommunications</td>
      <td>0.000195</td>
      <td>-0.000026</td>
      <td>0.000013</td>
      <td>0.000076</td>
      <td>7.966934e-05</td>
      <td>1.047822e-04</td>
      <td>5.608225e-05</td>
      <td>-0.000021</td>
      <td>-4.551663e-05</td>
      <td>4.314599e-05</td>
      <td>1.851437</td>
      <td>-1.149743</td>
      <td>1.804537</td>
      <td>-2.325670</td>
      <td>2.219611</td>
      <td>0.333576</td>
      <td>-0.367904</td>
      <td>-0.087492</td>
      <td>-0.011894</td>
      <td>-0.200671</td>
      <td>0.000195</td>
      <td>-0.000026</td>
      <td>0.000013</td>
      <td>0.000076</td>
      <td>0.000080</td>
      <td>0.000105</td>
      <td>0.000056</td>
      <td>-2.081525e-05</td>
      <td>-0.000046</td>
      <td>0.000043</td>
      <td>1.851437</td>
      <td>-1.149743</td>
      <td>1.804537</td>
      <td>-2.325670</td>
      <td>2.219611</td>
      <td>0.333576</td>
      <td>-0.367904</td>
      <td>-0.087492</td>
      <td>-0.011894</td>
      <td>-0.200671</td>
      <td>Providence, Rhode Island</td>
      <td>1.000000</td>
      <td>1.000000</td>
      <td>2016.0</td>
      <td>5.0</td>
      <td>4.0</td>
      <td>141.0</td>
      <td>16.0</td>
      <td>2016</td>
      <td>5</td>
      <td>4</td>
      <td>141</td>
      <td>16</td>
      <td>2018.0</td>
      <td>3.0</td>
      <td>4.0</td>
      <td>82.0</td>
      <td>13.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>2</th>
      <td>1</td>
      <td>New Delhi, Delhi, India</td>
      <td>Telecommunications</td>
      <td>0.000109</td>
      <td>-0.000008</td>
      <td>-0.000017</td>
      <td>-0.000007</td>
      <td>-9.135889e-06</td>
      <td>-5.295088e-06</td>
      <td>3.145356e-06</td>
      <td>0.000014</td>
      <td>8.645752e-06</td>
      <td>4.622028e-06</td>
      <td>0.002201</td>
      <td>0.020735</td>
      <td>0.692302</td>
      <td>-0.581833</td>
      <td>-0.032444</td>
      <td>-0.147065</td>
      <td>0.450031</td>
      <td>0.252624</td>
      <td>-0.124223</td>
      <td>0.142450</td>
      <td>0.000195</td>
      <td>-0.000026</td>
      <td>0.000013</td>
      <td>0.000076</td>
      <td>0.000080</td>
      <td>0.000105</td>
      <td>0.000056</td>
      <td>-2.081525e-05</td>
      <td>-0.000046</td>
      <td>0.000043</td>
      <td>1.851437</td>
      <td>-1.149743</td>
      <td>1.804537</td>
      <td>-2.325670</td>
      <td>2.219611</td>
      <td>0.333576</td>
      <td>-0.367904</td>
      <td>-0.087492</td>
      <td>-0.011894</td>
      <td>-0.200671</td>
      <td>Providence, Rhode Island</td>
      <td>0.644893</td>
      <td>0.486820</td>
      <td>2016.0</td>
      <td>5.0</td>
      <td>4.0</td>
      <td>141.0</td>
      <td>16.0</td>
      <td>2016</td>
      <td>5</td>
      <td>4</td>
      <td>141</td>
      <td>16</td>
      <td>2017.0</td>
      <td>11.0</td>
      <td>5.0</td>
      <td>315.0</td>
      <td>11.0</td>
      <td>0.000000</td>
      <td>0.000000</td>
    </tr>
    <tr>
      <th>3</th>
      <td>1</td>
      <td>Woodbridge Township, New Jersey</td>
      <td>Insurance</td>
      <td>-0.000088</td>
      <td>0.000003</td>
      <td>-0.000007</td>
      <td>0.000003</td>
      <td>-1.375828e-05</td>
      <td>-9.707725e-07</td>
      <td>7.272721e-07</td>
      <td>-0.000005</td>
      <td>6.978504e-06</td>
      <td>4.740592e-07</td>
      <td>-0.326371</td>
      <td>0.399997</td>
      <td>-0.286697</td>
      <td>0.162772</td>
      <td>-0.444508</td>
      <td>-0.158265</td>
      <td>0.233226</td>
      <td>-0.292165</td>
      <td>0.104946</td>
      <td>-0.433442</td>
      <td>0.000483</td>
      <td>-0.000054</td>
      <td>-0.000027</td>
      <td>0.000050</td>
      <td>-0.000029</td>
      <td>-0.000065</td>
      <td>0.000025</td>
      <td>-5.631966e-05</td>
      <td>0.000028</td>
      <td>0.000028</td>
      <td>2.022816</td>
      <td>-0.107412</td>
      <td>-1.130666</td>
      <td>0.345844</td>
      <td>-1.134659</td>
      <td>-2.309236</td>
      <td>0.514931</td>
      <td>-0.743425</td>
      <td>1.074617</td>
      <td>-0.946497</td>
      <td>NaN</td>
      <td>-0.919957</td>
      <td>0.375654</td>
      <td>2017.0</td>
      <td>2.0</td>
      <td>1.0</td>
      <td>38.0</td>
      <td>15.0</td>
      <td>2017</td>
      <td>2</td>
      <td>2</td>
      <td>39</td>
      <td>19</td>
      <td>2017.0</td>
      <td>5.0</td>
      <td>1.0</td>
      <td>129.0</td>
      <td>19.0</td>
      <td>0.000000</td>
      <td>0.068966</td>
    </tr>
    <tr>
      <th>4</th>
      <td>1</td>
      <td>Seattle, Washington</td>
      <td>Computer Software</td>
      <td>0.000114</td>
      <td>-0.000003</td>
      <td>-0.000033</td>
      <td>-0.000061</td>
      <td>4.973896e-07</td>
      <td>-4.514616e-05</td>
      <td>2.013347e-06</td>
      <td>-0.000010</td>
      <td>1.651205e-05</td>
      <td>2.527502e-05</td>
      <td>0.273960</td>
      <td>0.022757</td>
      <td>0.428697</td>
      <td>-0.650260</td>
      <td>-0.070624</td>
      <td>-0.230466</td>
      <td>1.215561</td>
      <td>-0.253484</td>
      <td>-0.686013</td>
      <td>-0.181944</td>
      <td>-0.000154</td>
      <td>0.000030</td>
      <td>-0.000010</td>
      <td>-0.000031</td>
      <td>-0.000010</td>
      <td>-0.000031</td>
      <td>-0.000013</td>
      <td>-3.469811e-07</td>
      <td>0.000027</td>
      <td>-0.000005</td>
      <td>1.385680</td>
      <td>-0.560528</td>
      <td>0.689630</td>
      <td>-0.082240</td>
      <td>1.406173</td>
      <td>0.333430</td>
      <td>1.572107</td>
      <td>-0.244382</td>
      <td>-0.983686</td>
      <td>0.118426</td>
      <td>North Lauderdale, Florida</td>
      <td>-0.573917</td>
      <td>0.657698</td>
      <td>2017.0</td>
      <td>9.0</td>
      <td>4.0</td>
      <td>244.0</td>
      <td>14.0</td>
      <td>2017</td>
      <td>9</td>
      <td>4</td>
      <td>244</td>
      <td>14</td>
      <td>2017.0</td>
      <td>10.0</td>
      <td>4.0</td>
      <td>286.0</td>
      <td>19.0</td>
      <td>0.153846</td>
      <td>0.000000</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Let’s separate the table into the target (whether the question was actually answered by the professional), and the rest of the features.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Split into target and features</span>
<span class="n">y_train</span> <span class="o">=</span> <span class="n">train_df</span><span class="p">[</span><span class="s1">&#39;target&#39;</span><span class="p">]</span>
<span class="n">X_train</span> <span class="o">=</span> <span class="n">train_df</span><span class="p">[[</span><span class="n">c</span> <span class="k">for</span> <span class="n">c</span> <span class="ow">in</span> <span class="n">train_df</span> <span class="k">if</span> <span class="n">c</span> <span class="ow">is</span> <span class="ow">not</span> <span class="s1">&#39;target&#39;</span><span class="p">]]</span>
</pre></div>
</div>
</div>
</div>
<p>There are a few features which are still not numeric: the locations of the professionals and students, and the industry in which the professional works.  We’ll have to encode these into numeric values somehow.  We could use one-hot encoding, but there are a <em>lot</em> of unique values (the locations are city names).  Another alternative is to use <a class="reference external" href="http://brendanhasz.github.io/2019/03/04/target-encoding.html">target encoding</a>, where we replace each category with the mean target value for that category.  Unfortunately, the locations of the students and professionals might have pretty important interaction effects, and target encoding doesn’t handle interaction effects well.  That is, professionals may be more likely to answer questions by students in the same location as themselves.  One-hot encoding would allow our model to capture these interaction effects, but the number of categories makes this impractical.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Categorical columns to target-encode</span>
<span class="n">cat_cols</span> <span class="o">=</span> <span class="p">[</span>
    <span class="s1">&#39;professionals_location&#39;</span><span class="p">,</span>
    <span class="s1">&#39;professionals_industry&#39;</span><span class="p">,</span>
    <span class="s1">&#39;students_location&#39;</span><span class="p">,</span>
<span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<p>Our model will include a few preprocessing steps: first target-encode the categorical features, then normalize the feature values, and finally impute missing values by replacing them with the median value for the column.  After preprocessing, we’ll use <a class="reference external" href="https://github.com/dmlc/xgboost">XGBoost</a> to predict the probability of a professional answering a question.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Predictive model</span>
<span class="n">model</span> <span class="o">=</span> <span class="n">Pipeline</span><span class="p">([</span>
    <span class="p">(</span><span class="s1">&#39;target_encoder&#39;</span><span class="p">,</span> <span class="n">TargetEncoderCV</span><span class="p">(</span><span class="n">cols</span><span class="o">=</span><span class="n">cat_cols</span><span class="p">)),</span>
    <span class="p">(</span><span class="s1">&#39;scaler&#39;</span><span class="p">,</span> <span class="n">RobustScaler</span><span class="p">()),</span>
    <span class="p">(</span><span class="s1">&#39;imputer&#39;</span><span class="p">,</span> <span class="n">SimpleImputer</span><span class="p">(</span><span class="n">strategy</span><span class="o">=</span><span class="s1">&#39;median&#39;</span><span class="p">)),</span>
    <span class="p">(</span><span class="s1">&#39;classifier&#39;</span><span class="p">,</span> <span class="n">XGBClassifier</span><span class="p">())</span>
<span class="p">])</span>
</pre></div>
</div>
</div>
</div>
<p>Let’s evaluate the cross-validated <a class="reference external" href="https://en.wikipedia.org/wiki/Receiver_operating_characteristic#Area_under_the_curve">area under the ROC curve</a>.  A value of 1 is perfect, and a value of 0.5 corresponds to chance.  Note that for an accurate evaluation of our model, we would need to use nested cross validation, or test on a validation dataset constructed from data collected after the data on which the model was trained.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="n">time</span>

<span class="c1"># Compute cross-validated performance</span>
<span class="n">metric_cv</span><span class="p">(</span><span class="n">model</span><span class="p">,</span> <span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span>
          <span class="n">metric</span><span class="o">=</span><span class="n">roc_auc_score</span><span class="p">,</span>
          <span class="n">display</span><span class="o">=</span><span class="s1">&#39;AUROC&#39;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Cross-validated AUROC: 0.764 +/- 0.003
CPU times: user 21min 10s, sys: 5.72 s, total: 21min 16s
Wall time: 21min 16s
</pre></div>
</div>
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>[0.7637617540803768, 0.7682726724136134, 0.7610703307107044]
</pre></div>
</div>
</div>
</div>
<p>Not perfect, but not bad!  To truly evaluate the quality of the recommendations, CareerVillage may want to run an A/B test to see if professionals who are served recommendations from this model are more likely to answer questions than professionals served recommendations using the old exclusively-tag-based system.</p>
<p>Which features were the most important?  We can use permutation-based feature importance to see what features had the largest effect on the predictions.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">%%</span><span class="n">time</span>

<span class="c1"># Compute the cross-validated feature importances</span>
<span class="n">imp_df</span> <span class="o">=</span> <span class="n">permutation_importance_cv</span><span class="p">(</span>
    <span class="n">X_train</span><span class="p">,</span> <span class="n">y_train</span><span class="p">,</span> <span class="n">model</span><span class="p">,</span> <span class="s1">&#39;auc&#39;</span><span class="p">)</span>

<span class="c1"># Plot the feature importances</span>
<span class="n">plt</span><span class="o">.</span><span class="n">figure</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span>
<span class="n">plot_permutation_importance</span><span class="p">(</span><span class="n">imp_df</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/opt/conda/lib/python3.6/site-packages/scipy/stats/stats.py:1713: FutureWarning: Using a non-tuple sequence for multidimensional indexing is deprecated; use `arr[tuple(seq)]` instead of `arr[seq]`. In the future this will be interpreted as an array index, `arr[np.array(seq)]`, which will result either in an error or a different result.
  return np.add.reduce(sorted[indexer] * weights, axis=axis) / sumval
</pre></div>
</div>
<img alt="../_images/T964554_Career_Village_Questions_Recommendation_255_1.svg" src="../_images/T964554_Career_Village_Questions_Recommendation_255_1.svg" /><div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>CPU times: user 2h 23min 27s, sys: 1min 51s, total: 2h 25min 18s
Wall time: 2h 21min 48s
</pre></div>
</div>
</div>
</div>
<p>To actually generate predictions on new data, we would need to first fit our model to data which we’ve already collected:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Fit model to historical data</span>
<span class="c1">#fit_model = model.fit(X_train, y_train)</span>
</pre></div>
</div>
</div>
</div>
<p>Then, after processing data corresponding to new questions as described above (into dataframes <code class="docutils literal notranslate"><span class="pre">X_new</span></code> and <code class="docutils literal notranslate"><span class="pre">y_new</span></code>), we would be able to generate predictions for how likely a professional is to answer each of the new questions:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Predict answer probability of new questions</span>
<span class="c1">#predicted_probs = model.predict(X_new, y_new)</span>
</pre></div>
</div>
</div>
</div>
</div>
<div class="section" id="id8">
<h3>Conclusion<a class="headerlink" href="#id8" title="Permalink to this headline">¶</a></h3>
<p>We’ve created a processing pipeline which aggregates information across several different data tables, and uses that information to predict how likely a professional is to answer a given question.</p>
<p>How can this predictive model be used to generate a list of questions to recommend to each professional?  Each week, we can generate a list of new questions asked this week (though the time interval doesn’t have to be a week - it could be a day, or a month, etc).  This list could also potentially include older questions which have not yet been answered.  Then, for each professional, we can use the recommendation model to generate scores for each new question-professional pair (that is, the probabilities that the professional would answer a given question).  Finally, we could then send the questions with the top K scores (say, the top 10) to that professional.</p>
<p>Another strategy for using the recommendation model would be to recommend <em>professionals</em> for each question.  That is, given a question, come up with the top K professionals most likely to answer it, and reccomend the question to them.  This strategy could use the exact same method as described previously (generating a list of new questions, and pairing with each professional), except we would choose the <em>professionals</em> with the top K scores for a given question (as opposed to choosing the top K questions for a given professional).  There are pros and cons to this strategy relative to the previous one.  I worry that using this strategy would simply send all the questions to the professionals who answer the most questions (because their answer probabilities are likely to be higher), and not send any questions to professionals who answer fewer questions.  This could result in a small subset of overworked professionals, and the majority of professionals not receiving any recommended questions!  On the other hand, those professionals who answer the most questions are indeed more likely to answer the questions, so perhaps it’s OK to send them a larger list of questions.  I think the optimal approach would be to use the first strategy (recommend K questions to each professional), but allow each professional to set their K - that is, let professionals choose how many questions they are recommended per week.</p>
<p>On the other hand, using the current strategy could result in the opposite problem, where only a small subset of questions get sent to professionals.  In the long run, it may be best to view the problem not as a recommendation problem, but as an <em>allocation</em> problem.  That is, how can we allocate the questions to professionals such that the expected number of answered questions is highest?  Once we’ve generated the probabilities that each professional will answer each question, determining the best allocation becomes a discrete optimization problem.  However, the number of elements here is pretty large (questions and professionals).  Deterministic discrete optimization algorithms will likely be impractical (because they’ll take too long to run given the large number of elements), and so metaheuristic methods like local search or evolutionary optimization would probably have to be used.</p>
<p>There was a lot of other data provided by CareerVillage which was not used in this model, but which could have been!  Parhaps the most important of this additional data was the data on the scores (basically the “likes”) for each answer and question.  Instead of just predicting <em>whether</em> a professional was likely to answer a question (as we did with our implicit recommendation system), we could have predicted which questions they were most likely to give a <em>good</em> answer to, as judged by the number of “likes” their answers received(an <em>explicit</em> recommendation system).</p>
<p>The framework we created here uses a classifier to predict professional-question pairs - basically, a content-based filtering recommendation system.  However, there are other frameworks we could have used.  We could have framed the challenge as an implicit collaborative filtering problem (or even an explicit one if we attempted to predict the “hearts” given to professionals’ answers).  I chose not to use a collaborative filtering framework because collaborative filtering suffers from the “cold-start” problem: it has trouble recommending users to new items.  This is because it depends on making predictions about user-item pair scores (in our case, whether professional-question pairs “exist” in the form of an answer) based on similarities between the query user and the scores of the query item by users similar to the query user.  Unfortunately, for this application it is especially important to recommend questions to professionals when the question has no answers yet!  So in production, more often than not there will <em>be</em> no scores of the query item by any other users when we want to be making the predictions.  Therefore, we have to use primarily the features about the users and the items to make recommendations.  Although some collaborative filtering methods can take into account the user and item features (such as neural collaborative filtering) I thought it would be best to use a framework which <em>only</em> uses the user and item features.</p>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./nbs"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        
            



<div class='prev-next-bottom'>
    
    <div id="prev">
        <a class="left-prev" href="T912764_Simple_Movie_Recommender_App.html" title="previous page">
            <i class="prevnext-label fas fa-angle-left"></i>
            <div class="prevnext-info">
                <p class="prevnext-label">previous</p>
                <p class="prevnext-title">Simple Movie Recommender App</p>
            </div>
        </a>
    </div>
     <div id="next">
        <a class="right-next" href="T990001_amazon_women_apparel_tfidf_word2vec.html" title="next page">
            <div class="prevnext-info">
                <p class="prevnext-label">next</p>
                <p class="prevnext-title">Amazon Product Recommender</p>
            </div>
            <i class="prevnext-label fas fa-angle-right"></i>
        </a>
     </div>

</div>
        
        </div>
    </div>
    <footer class="footer">
    <div class="container">
      <p>
        
          By Sparsh A.<br/>
        
            &copy; Copyright 2021.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>
  
  <script src="../_static/js/index.1c5a1a01449ed65a7b51.js"></script>

  
  </body>
</html>